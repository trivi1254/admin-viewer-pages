var Wx=t=>{throw TypeError(t)};var Xp=(t,e,n)=>e.has(t)||Wx("Cannot "+n);var U=(t,e,n)=>(Xp(t,e,"read from private field"),n?n.call(t):e.get(t)),be=(t,e,n)=>e.has(t)?Wx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(Xp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Dt=(t,e,n)=>(Xp(t,e,"access private method"),n);var ud=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return U(t,e,r)}});function s4(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function qb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gb={exports:{}},Cf={},Kb={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xu=Symbol.for("react.element"),i4=Symbol.for("react.portal"),o4=Symbol.for("react.fragment"),a4=Symbol.for("react.strict_mode"),l4=Symbol.for("react.profiler"),c4=Symbol.for("react.provider"),u4=Symbol.for("react.context"),d4=Symbol.for("react.forward_ref"),h4=Symbol.for("react.suspense"),f4=Symbol.for("react.memo"),p4=Symbol.for("react.lazy"),qx=Symbol.iterator;function m4(t){return t===null||typeof t!="object"?null:(t=qx&&t[qx]||t["@@iterator"],typeof t=="function"?t:null)}var Qb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yb=Object.assign,Xb={};function sl(t,e,n){this.props=t,this.context=e,this.refs=Xb,this.updater=n||Qb}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jb(){}Jb.prototype=sl.prototype;function g0(t,e,n){this.props=t,this.context=e,this.refs=Xb,this.updater=n||Qb}var y0=g0.prototype=new Jb;y0.constructor=g0;Yb(y0,sl.prototype);y0.isPureReactComponent=!0;var Gx=Array.isArray,Zb=Object.prototype.hasOwnProperty,v0={current:null},eS={key:!0,ref:!0,__self:!0,__source:!0};function tS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Zb.call(e,r)&&!eS.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:xu,type:t,key:i,ref:o,props:s,_owner:v0.current}}function g4(t,e){return{$$typeof:xu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function x0(t){return typeof t=="object"&&t!==null&&t.$$typeof===xu}function y4(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Kx=/\/+/g;function Jp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?y4(""+t.key):e.toString(36)}function Hd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case xu:case i4:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jp(o,0):r,Gx(s)?(n="",t!=null&&(n=t.replace(Kx,"$&/")+"/"),Hd(s,e,n,"",function(c){return c})):s!=null&&(x0(s)&&(s=g4(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Kx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Gx(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Jp(i,a);o+=Hd(i,e,n,l,s)}else if(l=m4(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Jp(i,a++),o+=Hd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dd(t,e,n){if(t==null)return t;var r=[],s=0;return Hd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function v4(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nn={current:null},Wd={transition:null},x4={ReactCurrentDispatcher:nn,ReactCurrentBatchConfig:Wd,ReactCurrentOwner:v0};function nS(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:dd,forEach:function(t,e,n){dd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return dd(t,function(){e++}),e},toArray:function(t){return dd(t,function(e){return e})||[]},only:function(t){if(!x0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=sl;ye.Fragment=o4;ye.Profiler=l4;ye.PureComponent=g0;ye.StrictMode=a4;ye.Suspense=h4;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x4;ye.act=nS;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Yb({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=v0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Zb.call(e,l)&&!eS.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xu,type:t.type,key:s,ref:i,props:r,_owner:o}};ye.createContext=function(t){return t={$$typeof:u4,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:c4,_context:t},t.Consumer=t};ye.createElement=tS;ye.createFactory=function(t){var e=tS.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:d4,render:t}};ye.isValidElement=x0;ye.lazy=function(t){return{$$typeof:p4,_payload:{_status:-1,_result:t},_init:v4}};ye.memo=function(t,e){return{$$typeof:f4,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Wd.transition;Wd.transition={};try{t()}finally{Wd.transition=e}};ye.unstable_act=nS;ye.useCallback=function(t,e){return nn.current.useCallback(t,e)};ye.useContext=function(t){return nn.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return nn.current.useDeferredValue(t)};ye.useEffect=function(t,e){return nn.current.useEffect(t,e)};ye.useId=function(){return nn.current.useId()};ye.useImperativeHandle=function(t,e,n){return nn.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return nn.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return nn.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return nn.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return nn.current.useReducer(t,e,n)};ye.useRef=function(t){return nn.current.useRef(t)};ye.useState=function(t){return nn.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return nn.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return nn.current.useTransition()};ye.version="18.3.1";Kb.exports=ye;var b=Kb.exports;const W=qb(b),w0=s4({__proto__:null,default:W},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w4=b,_4=Symbol.for("react.element"),E4=Symbol.for("react.fragment"),T4=Object.prototype.hasOwnProperty,b4=w4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,S4={key:!0,ref:!0,__self:!0,__source:!0};function rS(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)T4.call(e,r)&&!S4.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:_4,type:t,key:i,ref:o,props:s,_owner:b4.current}}Cf.Fragment=E4;Cf.jsx=rS;Cf.jsxs=rS;Gb.exports=Cf;var u=Gb.exports,sS={exports:{}},Cn={},iS={exports:{}},oS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,L){var q=M.length;M.push(L);e:for(;0<q;){var se=q-1>>>1,Z=M[se];if(0<s(Z,L))M[se]=L,M[q]=Z,q=se;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var L=M[0],q=M.pop();if(q!==L){M[0]=q;e:for(var se=0,Z=M.length,ce=Z>>>1;se<ce;){var he=2*(se+1)-1,Re=M[he],ot=he+1,_e=M[ot];if(0>s(Re,q))ot<Z&&0>s(_e,Re)?(M[se]=_e,M[ot]=q,se=ot):(M[se]=Re,M[he]=q,se=he);else if(ot<Z&&0>s(_e,q))M[se]=_e,M[ot]=q,se=ot;else break e}}return L}function s(M,L){var q=M.sortIndex-L.sortIndex;return q!==0?q:M.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,f=null,p=3,m=!1,x=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=M)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function A(M){if(v=!1,w(M),!x)if(n(l)!==null)x=!0,te(j);else{var L=n(c);L!==null&&X(A,L.startTime-M)}}function j(M,L){x=!1,v&&(v=!1,_(S),S=-1),m=!0;var q=p;try{for(w(L),f=n(l);f!==null&&(!(f.expirationTime>L)||M&&!k());){var se=f.callback;if(typeof se=="function"){f.callback=null,p=f.priorityLevel;var Z=se(f.expirationTime<=L);L=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),w(L)}else r(l);f=n(l)}if(f!==null)var ce=!0;else{var he=n(c);he!==null&&X(A,he.startTime-L),ce=!1}return ce}finally{f=null,p=q,m=!1}}var V=!1,C=null,S=-1,I=5,N=-1;function k(){return!(t.unstable_now()-N<I)}function D(){if(C!==null){var M=t.unstable_now();N=M;var L=!0;try{L=C(!0,M)}finally{L?R():(V=!1,C=null)}}else V=!1}var R;if(typeof y=="function")R=function(){y(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,re=z.port2;z.port1.onmessage=D,R=function(){re.postMessage(null)}}else R=function(){T(D,0)};function te(M){C=M,V||(V=!0,R())}function X(M,L){S=T(function(){M(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){x||m||(x=!0,te(j))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var q=p;p=L;try{return M()}finally{p=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var q=p;p=M;try{return L()}finally{p=q}},t.unstable_scheduleCallback=function(M,L,q){var se=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?se+q:se):q=se,M){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=q+Z,M={id:h++,callback:L,priorityLevel:M,startTime:q,expirationTime:Z,sortIndex:-1},q>se?(M.sortIndex=q,e(c,M),n(l)===null&&M===n(c)&&(v?(_(S),S=-1):v=!0,X(A,q-se))):(M.sortIndex=Z,e(l,M),x||m||(x=!0,te(j))),M},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(M){var L=p;return function(){var q=p;p=L;try{return M.apply(this,arguments)}finally{p=q}}}})(oS);iS.exports=oS;var C4=iS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4=b,bn=C4;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aS=new Set,Rc={};function Do(t,e){La(t,e),La(t+"Capture",e)}function La(t,e){for(Rc[t]=e,t=0;t<e.length;t++)aS.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ag=Object.prototype.hasOwnProperty,P4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qx={},Yx={};function A4(t){return ag.call(Yx,t)?!0:ag.call(Qx,t)?!1:P4.test(t)?Yx[t]=!0:(Qx[t]=!0,!1)}function N4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function R4(t,e,n,r){if(e===null||typeof e>"u"||N4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kt[t]=new rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kt[e]=new rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kt[t]=new rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kt[t]=new rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kt[t]=new rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kt[t]=new rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kt[t]=new rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kt[t]=new rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kt[t]=new rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var _0=/[\-:]([a-z])/g;function E0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(_0,E0);kt[e]=new rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(_0,E0);kt[e]=new rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(_0,E0);kt[e]=new rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kt[t]=new rn(t,1,!1,t.toLowerCase(),null,!1,!1)});kt.xlinkHref=new rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kt[t]=new rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function T0(t,e,n,r){var s=kt.hasOwnProperty(e)?kt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R4(e,n,s,r)&&(n=null),r||s===null?A4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xs=I4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hd=Symbol.for("react.element"),Xo=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),b0=Symbol.for("react.strict_mode"),lg=Symbol.for("react.profiler"),lS=Symbol.for("react.provider"),cS=Symbol.for("react.context"),S0=Symbol.for("react.forward_ref"),cg=Symbol.for("react.suspense"),ug=Symbol.for("react.suspense_list"),C0=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),uS=Symbol.for("react.offscreen"),Xx=Symbol.iterator;function Ul(t){return t===null||typeof t!="object"?null:(t=Xx&&t[Xx]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Object.assign,Zp;function Jl(t){if(Zp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zp=e&&e[1]||""}return`
`+Zp+t}var em=!1;function tm(t,e){if(!t||em)return"";em=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{em=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jl(t):""}function k4(t){switch(t.tag){case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 2:case 15:return t=tm(t.type,!1),t;case 11:return t=tm(t.type.render,!1),t;case 1:return t=tm(t.type,!0),t;default:return""}}function dg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jo:return"Fragment";case Xo:return"Portal";case lg:return"Profiler";case b0:return"StrictMode";case cg:return"Suspense";case ug:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cS:return(t.displayName||"Context")+".Consumer";case lS:return(t._context.displayName||"Context")+".Provider";case S0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C0:return e=t.displayName||null,e!==null?e:dg(t.type)||"Memo";case Ls:e=t._payload,t=t._init;try{return dg(t(e))}catch{}}return null}function j4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dg(e);case 8:return e===b0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function xi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function D4(t){var e=dS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fd(t){t._valueTracker||(t._valueTracker=D4(t))}function hS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=dS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function xh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hg(t,e){var n=e.checked;return Ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=xi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fS(t,e){e=e.checked,e!=null&&T0(t,"checked",e,!1)}function fg(t,e){fS(t,e);var n=xi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?pg(t,e.type,n):e.hasOwnProperty("defaultValue")&&pg(t,e.type,xi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function pg(t,e,n){(e!=="number"||xh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zl=Array.isArray;function pa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+xi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function mg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ew(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Zl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:xi(n)}}function pS(t,e){var n=xi(e.value),r=xi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function tw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pd,gS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pd=pd||document.createElement("div"),pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var uc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M4=["Webkit","ms","Moz","O"];Object.keys(uc).forEach(function(t){M4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uc[e]=uc[t]})});function yS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||uc.hasOwnProperty(t)&&uc[t]?(""+e).trim():e+"px"}function vS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var V4=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yg(t,e){if(e){if(V4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function vg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xg=null;function I0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wg=null,ma=null,ga=null;function nw(t){if(t=Eu(t)){if(typeof wg!="function")throw Error(H(280));var e=t.stateNode;e&&(e=Rf(e),wg(t.stateNode,t.type,e))}}function xS(t){ma?ga?ga.push(t):ga=[t]:ma=t}function wS(){if(ma){var t=ma,e=ga;if(ga=ma=null,nw(t),e)for(t=0;t<e.length;t++)nw(e[t])}}function _S(t,e){return t(e)}function ES(){}var nm=!1;function TS(t,e,n){if(nm)return t(e,n);nm=!0;try{return _S(t,e,n)}finally{nm=!1,(ma!==null||ga!==null)&&(ES(),wS())}}function jc(t,e){var n=t.stateNode;if(n===null)return null;var r=Rf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var _g=!1;if(os)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){_g=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{_g=!1}function O4(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var dc=!1,wh=null,_h=!1,Eg=null,L4={onError:function(t){dc=!0,wh=t}};function F4(t,e,n,r,s,i,o,a,l){dc=!1,wh=null,O4.apply(L4,arguments)}function U4(t,e,n,r,s,i,o,a,l){if(F4.apply(this,arguments),dc){if(dc){var c=wh;dc=!1,wh=null}else throw Error(H(198));_h||(_h=!0,Eg=c)}}function Mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function bS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function rw(t){if(Mo(t)!==t)throw Error(H(188))}function B4(t){var e=t.alternate;if(!e){if(e=Mo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return rw(s),t;if(i===r)return rw(s),e;i=i.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function SS(t){return t=B4(t),t!==null?CS(t):null}function CS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CS(t);if(e!==null)return e;t=t.sibling}return null}var IS=bn.unstable_scheduleCallback,sw=bn.unstable_cancelCallback,$4=bn.unstable_shouldYield,z4=bn.unstable_requestPaint,it=bn.unstable_now,H4=bn.unstable_getCurrentPriorityLevel,P0=bn.unstable_ImmediatePriority,PS=bn.unstable_UserBlockingPriority,Eh=bn.unstable_NormalPriority,W4=bn.unstable_LowPriority,AS=bn.unstable_IdlePriority,If=null,Nr=null;function q4(t){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(If,t,void 0,(t.current.flags&128)===128)}catch{}}var or=Math.clz32?Math.clz32:Q4,G4=Math.log,K4=Math.LN2;function Q4(t){return t>>>=0,t===0?32:31-(G4(t)/K4|0)|0}var md=64,gd=4194304;function ec(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Th(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ec(a):(i&=o,i!==0&&(r=ec(i)))}else o=n&~s,o!==0?r=ec(o):i!==0&&(r=ec(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-or(e),s=1<<n,r|=t[n],e&=~s;return r}function Y4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-or(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Y4(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Tg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function NS(){var t=md;return md<<=1,!(md&4194240)&&(md=64),t}function rm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-or(e),t[e]=n}function J4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-or(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function A0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-or(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ae=0;function RS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kS,N0,jS,DS,MS,bg=!1,yd=[],ti=null,ni=null,ri=null,Dc=new Map,Mc=new Map,Us=[],Z4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iw(t,e){switch(t){case"focusin":case"focusout":ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":ri=null;break;case"pointerover":case"pointerout":Dc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mc.delete(e.pointerId)}}function $l(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Eu(e),e!==null&&N0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function ej(t,e,n,r,s){switch(e){case"focusin":return ti=$l(ti,t,e,n,r,s),!0;case"dragenter":return ni=$l(ni,t,e,n,r,s),!0;case"mouseover":return ri=$l(ri,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Dc.set(i,$l(Dc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Mc.set(i,$l(Mc.get(i)||null,t,e,n,r,s)),!0}return!1}function VS(t){var e=to(t.target);if(e!==null){var n=Mo(e);if(n!==null){if(e=n.tag,e===13){if(e=bS(n),e!==null){t.blockedOn=e,MS(t.priority,function(){jS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xg=r,n.target.dispatchEvent(r),xg=null}else return e=Eu(n),e!==null&&N0(e),t.blockedOn=n,!1;e.shift()}return!0}function ow(t,e,n){qd(t)&&n.delete(e)}function tj(){bg=!1,ti!==null&&qd(ti)&&(ti=null),ni!==null&&qd(ni)&&(ni=null),ri!==null&&qd(ri)&&(ri=null),Dc.forEach(ow),Mc.forEach(ow)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,bg||(bg=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,tj)))}function Vc(t){function e(s){return zl(s,t)}if(0<yd.length){zl(yd[0],t);for(var n=1;n<yd.length;n++){var r=yd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ti!==null&&zl(ti,t),ni!==null&&zl(ni,t),ri!==null&&zl(ri,t),Dc.forEach(e),Mc.forEach(e),n=0;n<Us.length;n++)r=Us[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Us.length&&(n=Us[0],n.blockedOn===null);)VS(n),n.blockedOn===null&&Us.shift()}var ya=xs.ReactCurrentBatchConfig,bh=!0;function nj(t,e,n,r){var s=Ae,i=ya.transition;ya.transition=null;try{Ae=1,R0(t,e,n,r)}finally{Ae=s,ya.transition=i}}function rj(t,e,n,r){var s=Ae,i=ya.transition;ya.transition=null;try{Ae=4,R0(t,e,n,r)}finally{Ae=s,ya.transition=i}}function R0(t,e,n,r){if(bh){var s=Sg(t,e,n,r);if(s===null)fm(t,e,r,Sh,n),iw(t,r);else if(ej(s,t,e,n,r))r.stopPropagation();else if(iw(t,r),e&4&&-1<Z4.indexOf(t)){for(;s!==null;){var i=Eu(s);if(i!==null&&kS(i),i=Sg(t,e,n,r),i===null&&fm(t,e,r,Sh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fm(t,e,r,null,n)}}var Sh=null;function Sg(t,e,n,r){if(Sh=null,t=I0(r),t=to(t),t!==null)if(e=Mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=bS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Sh=t,null}function OS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(H4()){case P0:return 1;case PS:return 4;case Eh:case W4:return 16;case AS:return 536870912;default:return 16}default:return 16}}var Ys=null,k0=null,Gd=null;function LS(){if(Gd)return Gd;var t,e=k0,n=e.length,r,s="value"in Ys?Ys.value:Ys.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Gd=s.slice(t,1<r?1-r:void 0)}function Kd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vd(){return!0}function aw(){return!1}function In(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vd:aw,this.isPropagationStopped=aw,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vd)},persist:function(){},isPersistent:vd}),e}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},j0=In(il),_u=Ke({},il,{view:0,detail:0}),sj=In(_u),sm,im,Hl,Pf=Ke({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?(sm=t.screenX-Hl.screenX,im=t.screenY-Hl.screenY):im=sm=0,Hl=t),sm)},movementY:function(t){return"movementY"in t?t.movementY:im}}),lw=In(Pf),ij=Ke({},Pf,{dataTransfer:0}),oj=In(ij),aj=Ke({},_u,{relatedTarget:0}),om=In(aj),lj=Ke({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),cj=In(lj),uj=Ke({},il,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dj=In(uj),hj=Ke({},il,{data:0}),cw=In(hj),fj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mj[t])?!!e[t]:!1}function D0(){return gj}var yj=Ke({},_u,{key:function(t){if(t.key){var e=fj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D0,charCode:function(t){return t.type==="keypress"?Kd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vj=In(yj),xj=Ke({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uw=In(xj),wj=Ke({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D0}),_j=In(wj),Ej=Ke({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tj=In(Ej),bj=Ke({},Pf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sj=In(bj),Cj=[9,13,27,32],M0=os&&"CompositionEvent"in window,hc=null;os&&"documentMode"in document&&(hc=document.documentMode);var Ij=os&&"TextEvent"in window&&!hc,FS=os&&(!M0||hc&&8<hc&&11>=hc),dw=" ",hw=!1;function US(t,e){switch(t){case"keyup":return Cj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zo=!1;function Pj(t,e){switch(t){case"compositionend":return BS(e);case"keypress":return e.which!==32?null:(hw=!0,dw);case"textInput":return t=e.data,t===dw&&hw?null:t;default:return null}}function Aj(t,e){if(Zo)return t==="compositionend"||!M0&&US(t,e)?(t=LS(),Gd=k0=Ys=null,Zo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FS&&e.locale!=="ko"?null:e.data;default:return null}}var Nj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Nj[t.type]:e==="textarea"}function $S(t,e,n,r){xS(r),e=Ch(e,"onChange"),0<e.length&&(n=new j0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var fc=null,Oc=null;function Rj(t){ZS(t,0)}function Af(t){var e=na(t);if(hS(e))return t}function kj(t,e){if(t==="change")return e}var zS=!1;if(os){var am;if(os){var lm="oninput"in document;if(!lm){var pw=document.createElement("div");pw.setAttribute("oninput","return;"),lm=typeof pw.oninput=="function"}am=lm}else am=!1;zS=am&&(!document.documentMode||9<document.documentMode)}function mw(){fc&&(fc.detachEvent("onpropertychange",HS),Oc=fc=null)}function HS(t){if(t.propertyName==="value"&&Af(Oc)){var e=[];$S(e,Oc,t,I0(t)),TS(Rj,e)}}function jj(t,e,n){t==="focusin"?(mw(),fc=e,Oc=n,fc.attachEvent("onpropertychange",HS)):t==="focusout"&&mw()}function Dj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Af(Oc)}function Mj(t,e){if(t==="click")return Af(e)}function Vj(t,e){if(t==="input"||t==="change")return Af(e)}function Oj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ur=typeof Object.is=="function"?Object.is:Oj;function Lc(t,e){if(ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ag.call(e,s)||!ur(t[s],e[s]))return!1}return!0}function gw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yw(t,e){var n=gw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gw(n)}}function WS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?WS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qS(){for(var t=window,e=xh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xh(t.document)}return e}function V0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lj(t){var e=qS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&WS(n.ownerDocument.documentElement,n)){if(r!==null&&V0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=yw(n,i);var o=yw(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fj=os&&"documentMode"in document&&11>=document.documentMode,ea=null,Cg=null,pc=null,Ig=!1;function vw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ig||ea==null||ea!==xh(r)||(r=ea,"selectionStart"in r&&V0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pc&&Lc(pc,r)||(pc=r,r=Ch(Cg,"onSelect"),0<r.length&&(e=new j0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ea)))}function xd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ta={animationend:xd("Animation","AnimationEnd"),animationiteration:xd("Animation","AnimationIteration"),animationstart:xd("Animation","AnimationStart"),transitionend:xd("Transition","TransitionEnd")},cm={},GS={};os&&(GS=document.createElement("div").style,"AnimationEvent"in window||(delete ta.animationend.animation,delete ta.animationiteration.animation,delete ta.animationstart.animation),"TransitionEvent"in window||delete ta.transitionend.transition);function Nf(t){if(cm[t])return cm[t];if(!ta[t])return t;var e=ta[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in GS)return cm[t]=e[n];return t}var KS=Nf("animationend"),QS=Nf("animationiteration"),YS=Nf("animationstart"),XS=Nf("transitionend"),JS=new Map,xw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(t,e){JS.set(t,e),Do(e,[t])}for(var um=0;um<xw.length;um++){var dm=xw[um],Uj=dm.toLowerCase(),Bj=dm[0].toUpperCase()+dm.slice(1);ji(Uj,"on"+Bj)}ji(KS,"onAnimationEnd");ji(QS,"onAnimationIteration");ji(YS,"onAnimationStart");ji("dblclick","onDoubleClick");ji("focusin","onFocus");ji("focusout","onBlur");ji(XS,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$j=new Set("cancel close invalid load scroll toggle".split(" ").concat(tc));function ww(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,U4(r,e,void 0,t),t.currentTarget=null}function ZS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;ww(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;ww(s,a,c),i=l}}}if(_h)throw t=Eg,_h=!1,Eg=null,t}function Le(t,e){var n=e[kg];n===void 0&&(n=e[kg]=new Set);var r=t+"__bubble";n.has(r)||(e2(e,t,2,!1),n.add(r))}function hm(t,e,n){var r=0;e&&(r|=4),e2(n,t,r,e)}var wd="_reactListening"+Math.random().toString(36).slice(2);function Fc(t){if(!t[wd]){t[wd]=!0,aS.forEach(function(n){n!=="selectionchange"&&($j.has(n)||hm(n,!1,t),hm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wd]||(e[wd]=!0,hm("selectionchange",!1,e))}}function e2(t,e,n,r){switch(OS(e)){case 1:var s=nj;break;case 4:s=rj;break;default:s=R0}n=s.bind(null,e,n,t),s=void 0,!_g||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=to(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}TS(function(){var c=i,h=I0(n),f=[];e:{var p=JS.get(t);if(p!==void 0){var m=j0,x=t;switch(t){case"keypress":if(Kd(n)===0)break e;case"keydown":case"keyup":m=vj;break;case"focusin":x="focus",m=om;break;case"focusout":x="blur",m=om;break;case"beforeblur":case"afterblur":m=om;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=lw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=oj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_j;break;case KS:case QS:case YS:m=cj;break;case XS:m=Tj;break;case"scroll":m=sj;break;case"wheel":m=Sj;break;case"copy":case"cut":case"paste":m=dj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=uw}var v=(e&4)!==0,T=!v&&t==="scroll",_=v?p!==null?p+"Capture":null:p;v=[];for(var y=c,w;y!==null;){w=y;var A=w.stateNode;if(w.tag===5&&A!==null&&(w=A,_!==null&&(A=jc(y,_),A!=null&&v.push(Uc(y,A,w)))),T)break;y=y.return}0<v.length&&(p=new m(p,x,null,n,h),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==xg&&(x=n.relatedTarget||n.fromElement)&&(to(x)||x[as]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(x=n.relatedTarget||n.toElement,m=c,x=x?to(x):null,x!==null&&(T=Mo(x),x!==T||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=c),m!==x)){if(v=lw,A="onMouseLeave",_="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=uw,A="onPointerLeave",_="onPointerEnter",y="pointer"),T=m==null?p:na(m),w=x==null?p:na(x),p=new v(A,y+"leave",m,n,h),p.target=T,p.relatedTarget=w,A=null,to(h)===c&&(v=new v(_,y+"enter",x,n,h),v.target=w,v.relatedTarget=T,A=v),T=A,m&&x)t:{for(v=m,_=x,y=0,w=v;w;w=qo(w))y++;for(w=0,A=_;A;A=qo(A))w++;for(;0<y-w;)v=qo(v),y--;for(;0<w-y;)_=qo(_),w--;for(;y--;){if(v===_||_!==null&&v===_.alternate)break t;v=qo(v),_=qo(_)}v=null}else v=null;m!==null&&_w(f,p,m,v,!1),x!==null&&T!==null&&_w(f,T,x,v,!0)}}e:{if(p=c?na(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var j=kj;else if(fw(p))if(zS)j=Vj;else{j=Dj;var V=jj}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=Mj);if(j&&(j=j(t,c))){$S(f,j,n,h);break e}V&&V(t,p,c),t==="focusout"&&(V=p._wrapperState)&&V.controlled&&p.type==="number"&&pg(p,"number",p.value)}switch(V=c?na(c):window,t){case"focusin":(fw(V)||V.contentEditable==="true")&&(ea=V,Cg=c,pc=null);break;case"focusout":pc=Cg=ea=null;break;case"mousedown":Ig=!0;break;case"contextmenu":case"mouseup":case"dragend":Ig=!1,vw(f,n,h);break;case"selectionchange":if(Fj)break;case"keydown":case"keyup":vw(f,n,h)}var C;if(M0)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Zo?US(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(FS&&n.locale!=="ko"&&(Zo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Zo&&(C=LS()):(Ys=h,k0="value"in Ys?Ys.value:Ys.textContent,Zo=!0)),V=Ch(c,S),0<V.length&&(S=new cw(S,t,null,n,h),f.push({event:S,listeners:V}),C?S.data=C:(C=BS(n),C!==null&&(S.data=C)))),(C=Ij?Pj(t,n):Aj(t,n))&&(c=Ch(c,"onBeforeInput"),0<c.length&&(h=new cw("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=C))}ZS(f,e)})}function Uc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ch(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jc(t,n),i!=null&&r.unshift(Uc(t,i,s)),i=jc(t,e),i!=null&&r.push(Uc(t,i,s))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function _w(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=jc(n,i),l!=null&&o.unshift(Uc(n,l,a))):s||(l=jc(n,i),l!=null&&o.push(Uc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zj=/\r\n?/g,Hj=/\u0000|\uFFFD/g;function Ew(t){return(typeof t=="string"?t:""+t).replace(zj,`
`).replace(Hj,"")}function _d(t,e,n){if(e=Ew(e),Ew(t)!==e&&n)throw Error(H(425))}function Ih(){}var Pg=null,Ag=null;function Ng(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rg=typeof setTimeout=="function"?setTimeout:void 0,Wj=typeof clearTimeout=="function"?clearTimeout:void 0,Tw=typeof Promise=="function"?Promise:void 0,qj=typeof queueMicrotask=="function"?queueMicrotask:typeof Tw<"u"?function(t){return Tw.resolve(null).then(t).catch(Gj)}:Rg;function Gj(t){setTimeout(function(){throw t})}function pm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Vc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Vc(e)}function si(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ol=Math.random().toString(36).slice(2),Pr="__reactFiber$"+ol,Bc="__reactProps$"+ol,as="__reactContainer$"+ol,kg="__reactEvents$"+ol,Kj="__reactListeners$"+ol,Qj="__reactHandles$"+ol;function to(t){var e=t[Pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[Pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bw(t);t!==null;){if(n=t[Pr])return n;t=bw(t)}return e}t=n,n=t.parentNode}return null}function Eu(t){return t=t[Pr]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function Rf(t){return t[Bc]||null}var jg=[],ra=-1;function Di(t){return{current:t}}function Ue(t){0>ra||(t.current=jg[ra],jg[ra]=null,ra--)}function Me(t,e){ra++,jg[ra]=t.current,t.current=e}var wi={},qt=Di(wi),hn=Di(!1),_o=wi;function Fa(t,e){var n=t.type.contextTypes;if(!n)return wi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function fn(t){return t=t.childContextTypes,t!=null}function Ph(){Ue(hn),Ue(qt)}function Sw(t,e,n){if(qt.current!==wi)throw Error(H(168));Me(qt,e),Me(hn,n)}function t2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,j4(t)||"Unknown",s));return Ke({},n,r)}function Ah(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||wi,_o=qt.current,Me(qt,t),Me(hn,hn.current),!0}function Cw(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=t2(t,e,_o),r.__reactInternalMemoizedMergedChildContext=t,Ue(hn),Ue(qt),Me(qt,t)):Ue(hn),Me(hn,n)}var Yr=null,kf=!1,mm=!1;function n2(t){Yr===null?Yr=[t]:Yr.push(t)}function Yj(t){kf=!0,n2(t)}function Mi(){if(!mm&&Yr!==null){mm=!0;var t=0,e=Ae;try{var n=Yr;for(Ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yr=null,kf=!1}catch(s){throw Yr!==null&&(Yr=Yr.slice(t+1)),IS(P0,Mi),s}finally{Ae=e,mm=!1}}return null}var sa=[],ia=0,Nh=null,Rh=0,kn=[],jn=0,Eo=null,Jr=1,Zr="";function Xi(t,e){sa[ia++]=Rh,sa[ia++]=Nh,Nh=t,Rh=e}function r2(t,e,n){kn[jn++]=Jr,kn[jn++]=Zr,kn[jn++]=Eo,Eo=t;var r=Jr;t=Zr;var s=32-or(r)-1;r&=~(1<<s),n+=1;var i=32-or(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Jr=1<<32-or(e)+s|n<<s|r,Zr=i+t}else Jr=1<<i|n<<s|r,Zr=t}function O0(t){t.return!==null&&(Xi(t,1),r2(t,1,0))}function L0(t){for(;t===Nh;)Nh=sa[--ia],sa[ia]=null,Rh=sa[--ia],sa[ia]=null;for(;t===Eo;)Eo=kn[--jn],kn[jn]=null,Zr=kn[--jn],kn[jn]=null,Jr=kn[--jn],kn[jn]=null}var En=null,wn=null,$e=!1,rr=null;function s2(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Iw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,wn=si(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Eo!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,wn=null,!0):!1;default:return!1}}function Dg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mg(t){if($e){var e=wn;if(e){var n=e;if(!Iw(t,e)){if(Dg(t))throw Error(H(418));e=si(n.nextSibling);var r=En;e&&Iw(t,e)?s2(r,n):(t.flags=t.flags&-4097|2,$e=!1,En=t)}}else{if(Dg(t))throw Error(H(418));t.flags=t.flags&-4097|2,$e=!1,En=t}}}function Pw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function Ed(t){if(t!==En)return!1;if(!$e)return Pw(t),$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ng(t.type,t.memoizedProps)),e&&(e=wn)){if(Dg(t))throw i2(),Error(H(418));for(;e;)s2(t,e),e=si(e.nextSibling)}if(Pw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=si(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=En?si(t.stateNode.nextSibling):null;return!0}function i2(){for(var t=wn;t;)t=si(t.nextSibling)}function Ua(){wn=En=null,$e=!1}function F0(t){rr===null?rr=[t]:rr.push(t)}var Xj=xs.ReactCurrentBatchConfig;function Wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Td(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Aw(t){var e=t._init;return e(t._payload)}function o2(t){function e(_,y){if(t){var w=_.deletions;w===null?(_.deletions=[y],_.flags|=16):w.push(y)}}function n(_,y){if(!t)return null;for(;y!==null;)e(_,y),y=y.sibling;return null}function r(_,y){for(_=new Map;y!==null;)y.key!==null?_.set(y.key,y):_.set(y.index,y),y=y.sibling;return _}function s(_,y){return _=li(_,y),_.index=0,_.sibling=null,_}function i(_,y,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<y?(_.flags|=2,y):w):(_.flags|=2,y)):(_.flags|=1048576,y)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,y,w,A){return y===null||y.tag!==6?(y=Em(w,_.mode,A),y.return=_,y):(y=s(y,w),y.return=_,y)}function l(_,y,w,A){var j=w.type;return j===Jo?h(_,y,w.props.children,A,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ls&&Aw(j)===y.type)?(A=s(y,w.props),A.ref=Wl(_,y,w),A.return=_,A):(A=th(w.type,w.key,w.props,null,_.mode,A),A.ref=Wl(_,y,w),A.return=_,A)}function c(_,y,w,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Tm(w,_.mode,A),y.return=_,y):(y=s(y,w.children||[]),y.return=_,y)}function h(_,y,w,A,j){return y===null||y.tag!==7?(y=go(w,_.mode,A,j),y.return=_,y):(y=s(y,w),y.return=_,y)}function f(_,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Em(""+y,_.mode,w),y.return=_,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hd:return w=th(y.type,y.key,y.props,null,_.mode,w),w.ref=Wl(_,null,y),w.return=_,w;case Xo:return y=Tm(y,_.mode,w),y.return=_,y;case Ls:var A=y._init;return f(_,A(y._payload),w)}if(Zl(y)||Ul(y))return y=go(y,_.mode,w,null),y.return=_,y;Td(_,y)}return null}function p(_,y,w,A){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:a(_,y,""+w,A);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hd:return w.key===j?l(_,y,w,A):null;case Xo:return w.key===j?c(_,y,w,A):null;case Ls:return j=w._init,p(_,y,j(w._payload),A)}if(Zl(w)||Ul(w))return j!==null?null:h(_,y,w,A,null);Td(_,w)}return null}function m(_,y,w,A,j){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(w)||null,a(y,_,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case hd:return _=_.get(A.key===null?w:A.key)||null,l(y,_,A,j);case Xo:return _=_.get(A.key===null?w:A.key)||null,c(y,_,A,j);case Ls:var V=A._init;return m(_,y,w,V(A._payload),j)}if(Zl(A)||Ul(A))return _=_.get(w)||null,h(y,_,A,j,null);Td(y,A)}return null}function x(_,y,w,A){for(var j=null,V=null,C=y,S=y=0,I=null;C!==null&&S<w.length;S++){C.index>S?(I=C,C=null):I=C.sibling;var N=p(_,C,w[S],A);if(N===null){C===null&&(C=I);break}t&&C&&N.alternate===null&&e(_,C),y=i(N,y,S),V===null?j=N:V.sibling=N,V=N,C=I}if(S===w.length)return n(_,C),$e&&Xi(_,S),j;if(C===null){for(;S<w.length;S++)C=f(_,w[S],A),C!==null&&(y=i(C,y,S),V===null?j=C:V.sibling=C,V=C);return $e&&Xi(_,S),j}for(C=r(_,C);S<w.length;S++)I=m(C,_,S,w[S],A),I!==null&&(t&&I.alternate!==null&&C.delete(I.key===null?S:I.key),y=i(I,y,S),V===null?j=I:V.sibling=I,V=I);return t&&C.forEach(function(k){return e(_,k)}),$e&&Xi(_,S),j}function v(_,y,w,A){var j=Ul(w);if(typeof j!="function")throw Error(H(150));if(w=j.call(w),w==null)throw Error(H(151));for(var V=j=null,C=y,S=y=0,I=null,N=w.next();C!==null&&!N.done;S++,N=w.next()){C.index>S?(I=C,C=null):I=C.sibling;var k=p(_,C,N.value,A);if(k===null){C===null&&(C=I);break}t&&C&&k.alternate===null&&e(_,C),y=i(k,y,S),V===null?j=k:V.sibling=k,V=k,C=I}if(N.done)return n(_,C),$e&&Xi(_,S),j;if(C===null){for(;!N.done;S++,N=w.next())N=f(_,N.value,A),N!==null&&(y=i(N,y,S),V===null?j=N:V.sibling=N,V=N);return $e&&Xi(_,S),j}for(C=r(_,C);!N.done;S++,N=w.next())N=m(C,_,S,N.value,A),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?S:N.key),y=i(N,y,S),V===null?j=N:V.sibling=N,V=N);return t&&C.forEach(function(D){return e(_,D)}),$e&&Xi(_,S),j}function T(_,y,w,A){if(typeof w=="object"&&w!==null&&w.type===Jo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case hd:e:{for(var j=w.key,V=y;V!==null;){if(V.key===j){if(j=w.type,j===Jo){if(V.tag===7){n(_,V.sibling),y=s(V,w.props.children),y.return=_,_=y;break e}}else if(V.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ls&&Aw(j)===V.type){n(_,V.sibling),y=s(V,w.props),y.ref=Wl(_,V,w),y.return=_,_=y;break e}n(_,V);break}else e(_,V);V=V.sibling}w.type===Jo?(y=go(w.props.children,_.mode,A,w.key),y.return=_,_=y):(A=th(w.type,w.key,w.props,null,_.mode,A),A.ref=Wl(_,y,w),A.return=_,_=A)}return o(_);case Xo:e:{for(V=w.key;y!==null;){if(y.key===V)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(_,y.sibling),y=s(y,w.children||[]),y.return=_,_=y;break e}else{n(_,y);break}else e(_,y);y=y.sibling}y=Tm(w,_.mode,A),y.return=_,_=y}return o(_);case Ls:return V=w._init,T(_,y,V(w._payload),A)}if(Zl(w))return x(_,y,w,A);if(Ul(w))return v(_,y,w,A);Td(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(_,y.sibling),y=s(y,w),y.return=_,_=y):(n(_,y),y=Em(w,_.mode,A),y.return=_,_=y),o(_)):n(_,y)}return T}var Ba=o2(!0),a2=o2(!1),kh=Di(null),jh=null,oa=null,U0=null;function B0(){U0=oa=jh=null}function $0(t){var e=kh.current;Ue(kh),t._currentValue=e}function Vg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function va(t,e){jh=t,U0=oa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(U0!==t)if(t={context:t,memoizedValue:e,next:null},oa===null){if(jh===null)throw Error(H(308));oa=t,jh.dependencies={lanes:0,firstContext:t}}else oa=oa.next=t;return e}var no=null;function z0(t){no===null?no=[t]:no.push(t)}function l2(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,z0(e)):(n.next=s.next,s.next=n),e.interleaved=n,ls(t,r)}function ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fs=!1;function H0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ii(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ls(t,n)}return s=r.interleaved,s===null?(e.next=e,z0(r)):(e.next=s.next,s.next=e),r.interleaved=e,ls(t,n)}function Qd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A0(t,n)}}function Nw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Dh(t,e,n,r){var s=t.updateQueue;Fs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=c=l=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=t,v=a;switch(p=e,m=n,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(m,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,p=typeof x=="function"?x.call(m,f,p):x,p==null)break e;f=Ke({},f,p);break e;case 2:Fs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=m,l=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);bo|=o,t.lanes=o,t.memoizedState=f}}function Rw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var Tu={},Rr=Di(Tu),$c=Di(Tu),zc=Di(Tu);function ro(t){if(t===Tu)throw Error(H(174));return t}function W0(t,e){switch(Me(zc,e),Me($c,t),Me(Rr,Tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gg(e,t)}Ue(Rr),Me(Rr,e)}function $a(){Ue(Rr),Ue($c),Ue(zc)}function u2(t){ro(zc.current);var e=ro(Rr.current),n=gg(e,t.type);e!==n&&(Me($c,t),Me(Rr,n))}function q0(t){$c.current===t&&(Ue(Rr),Ue($c))}var We=Di(0);function Mh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var gm=[];function G0(){for(var t=0;t<gm.length;t++)gm[t]._workInProgressVersionPrimary=null;gm.length=0}var Yd=xs.ReactCurrentDispatcher,ym=xs.ReactCurrentBatchConfig,To=0,Ge=null,yt=null,St=null,Vh=!1,mc=!1,Hc=0,Jj=0;function Mt(){throw Error(H(321))}function K0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ur(t[n],e[n]))return!1;return!0}function Q0(t,e,n,r,s,i){if(To=i,Ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yd.current=t===null||t.memoizedState===null?nD:rD,t=n(r,s),mc){i=0;do{if(mc=!1,Hc=0,25<=i)throw Error(H(301));i+=1,St=yt=null,e.updateQueue=null,Yd.current=sD,t=n(r,s)}while(mc)}if(Yd.current=Oh,e=yt!==null&&yt.next!==null,To=0,St=yt=Ge=null,Vh=!1,e)throw Error(H(300));return t}function Y0(){var t=Hc!==0;return Hc=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?Ge.memoizedState=St=t:St=St.next=t,St}function $n(){if(yt===null){var t=Ge.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=St===null?Ge.memoizedState:St.next;if(e!==null)St=e,yt=t;else{if(t===null)throw Error(H(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},St===null?Ge.memoizedState=St=t:St=St.next=t}return St}function Wc(t,e){return typeof e=="function"?e(t):e}function vm(t){var e=$n(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var h=c.lane;if((To&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ge.lanes|=h,bo|=h}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ur(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ge.lanes|=i,bo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function xm(t){var e=$n(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ur(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function d2(){}function h2(t,e){var n=Ge,r=$n(),s=e(),i=!ur(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,X0(m2.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||St!==null&&St.memoizedState.tag&1){if(n.flags|=2048,qc(9,p2.bind(null,n,r,s,e),void 0,null),Ct===null)throw Error(H(349));To&30||f2(n,e,s)}return s}function f2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p2(t,e,n,r){e.value=n,e.getSnapshot=r,g2(e)&&y2(t)}function m2(t,e,n){return n(function(){g2(e)&&y2(t)})}function g2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ur(t,n)}catch{return!0}}function y2(t){var e=ls(t,1);e!==null&&ar(e,t,1,-1)}function kw(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:t},e.queue=t,t=t.dispatch=tD.bind(null,Ge,t),[e.memoizedState,t]}function qc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ge.updateQueue,e===null?(e={lastEffect:null,stores:null},Ge.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function v2(){return $n().memoizedState}function Xd(t,e,n,r){var s=Tr();Ge.flags|=t,s.memoizedState=qc(1|e,n,void 0,r===void 0?null:r)}function jf(t,e,n,r){var s=$n();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&K0(r,o.deps)){s.memoizedState=qc(e,n,i,r);return}}Ge.flags|=t,s.memoizedState=qc(1|e,n,i,r)}function jw(t,e){return Xd(8390656,8,t,e)}function X0(t,e){return jf(2048,8,t,e)}function x2(t,e){return jf(4,2,t,e)}function w2(t,e){return jf(4,4,t,e)}function _2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E2(t,e,n){return n=n!=null?n.concat([t]):null,jf(4,4,_2.bind(null,e,t),n)}function J0(){}function T2(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&K0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function b2(t,e){var n=$n();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&K0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function S2(t,e,n){return To&21?(ur(n,e)||(n=NS(),Ge.lanes|=n,bo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function Zj(t,e){var n=Ae;Ae=n!==0&&4>n?n:4,t(!0);var r=ym.transition;ym.transition={};try{t(!1),e()}finally{Ae=n,ym.transition=r}}function C2(){return $n().memoizedState}function eD(t,e,n){var r=ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},I2(t))P2(e,n);else if(n=l2(t,e,n,r),n!==null){var s=en();ar(n,t,r,s),A2(n,e,r)}}function tD(t,e,n){var r=ai(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(I2(t))P2(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ur(a,o)){var l=e.interleaved;l===null?(s.next=s,z0(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=l2(t,e,s,r),n!==null&&(s=en(),ar(n,t,r,s),A2(n,e,r))}}function I2(t){var e=t.alternate;return t===Ge||e!==null&&e===Ge}function P2(t,e){mc=Vh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function A2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,A0(t,n)}}var Oh={readContext:Bn,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useInsertionEffect:Mt,useLayoutEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useMutableSource:Mt,useSyncExternalStore:Mt,useId:Mt,unstable_isNewReconciler:!1},nD={readContext:Bn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:jw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xd(4194308,4,_2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xd(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eD.bind(null,Ge,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:kw,useDebugValue:J0,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=kw(!1),e=t[0];return t=Zj.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ge,s=Tr();if($e){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Ct===null)throw Error(H(349));To&30||f2(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,jw(m2.bind(null,r,i,t),[t]),r.flags|=2048,qc(9,p2.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Tr(),e=Ct.identifierPrefix;if($e){var n=Zr,r=Jr;n=(r&~(1<<32-or(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Hc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Jj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rD={readContext:Bn,useCallback:T2,useContext:Bn,useEffect:X0,useImperativeHandle:E2,useInsertionEffect:x2,useLayoutEffect:w2,useMemo:b2,useReducer:vm,useRef:v2,useState:function(){return vm(Wc)},useDebugValue:J0,useDeferredValue:function(t){var e=$n();return S2(e,yt.memoizedState,t)},useTransition:function(){var t=vm(Wc)[0],e=$n().memoizedState;return[t,e]},useMutableSource:d2,useSyncExternalStore:h2,useId:C2,unstable_isNewReconciler:!1},sD={readContext:Bn,useCallback:T2,useContext:Bn,useEffect:X0,useImperativeHandle:E2,useInsertionEffect:x2,useLayoutEffect:w2,useMemo:b2,useReducer:xm,useRef:v2,useState:function(){return xm(Wc)},useDebugValue:J0,useDeferredValue:function(t){var e=$n();return yt===null?e.memoizedState=t:S2(e,yt.memoizedState,t)},useTransition:function(){var t=xm(Wc)[0],e=$n().memoizedState;return[t,e]},useMutableSource:d2,useSyncExternalStore:h2,useId:C2,unstable_isNewReconciler:!1};function Jn(t,e){if(t&&t.defaultProps){e=Ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Og(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Df={isMounted:function(t){return(t=t._reactInternals)?Mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),s=ai(t),i=ns(r,s);i.payload=e,n!=null&&(i.callback=n),e=ii(t,i,s),e!==null&&(ar(e,t,s,r),Qd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),s=ai(t),i=ns(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ii(t,i,s),e!==null&&(ar(e,t,s,r),Qd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=ai(t),s=ns(n,r);s.tag=2,e!=null&&(s.callback=e),e=ii(t,s,r),e!==null&&(ar(e,t,r,n),Qd(e,t,r))}};function Dw(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Lc(n,r)||!Lc(s,i):!0}function N2(t,e,n){var r=!1,s=wi,i=e.contextType;return typeof i=="object"&&i!==null?i=Bn(i):(s=fn(e)?_o:qt.current,r=e.contextTypes,i=(r=r!=null)?Fa(t,s):wi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Df,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Mw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Df.enqueueReplaceState(e,e.state,null)}function Lg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},H0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Bn(i):(i=fn(e)?_o:qt.current,s.context=Fa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Og(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Df.enqueueReplaceState(s,s.state,null),Dh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function za(t,e){try{var n="",r=e;do n+=k4(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function wm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Fg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iD=typeof WeakMap=="function"?WeakMap:Map;function R2(t,e,n){n=ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fh||(Fh=!0,Qg=r),Fg(t,e)},n}function k2(t,e,n){n=ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Fg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Fg(t,e),typeof r!="function"&&(oi===null?oi=new Set([this]):oi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Vw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iD;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=xD.bind(null,t,e,n),e.then(t,t))}function Ow(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lw(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ns(-1,1),e.tag=2,ii(n,e,1))),n.lanes|=1),t)}var oD=xs.ReactCurrentOwner,dn=!1;function Yt(t,e,n,r){e.child=t===null?a2(e,null,n,r):Ba(e,t.child,n,r)}function Fw(t,e,n,r,s){n=n.render;var i=e.ref;return va(e,s),r=Q0(t,e,n,r,i,s),n=Y0(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):($e&&n&&O0(e),e.flags|=1,Yt(t,e,r,s),e.child)}function Uw(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!ov(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,j2(t,e,i,r,s)):(t=th(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lc,n(o,r)&&t.ref===e.ref)return cs(t,e,s)}return e.flags|=1,t=li(i,r),t.ref=e.ref,t.return=e,e.child=t}function j2(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Lc(i,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,cs(t,e,s)}return Ug(t,e,n,r,s)}function D2(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Me(la,yn),yn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Me(la,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Me(la,yn),yn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Me(la,yn),yn|=r;return Yt(t,e,s,n),e.child}function M2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ug(t,e,n,r,s){var i=fn(n)?_o:qt.current;return i=Fa(e,i),va(e,s),n=Q0(t,e,n,r,i,s),r=Y0(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):($e&&r&&O0(e),e.flags|=1,Yt(t,e,n,s),e.child)}function Bw(t,e,n,r,s){if(fn(n)){var i=!0;Ah(e)}else i=!1;if(va(e,s),e.stateNode===null)Jd(t,e),N2(e,n,r),Lg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Bn(c):(c=fn(n)?_o:qt.current,c=Fa(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Mw(e,o,r,c),Fs=!1;var p=e.memoizedState;o.state=p,Dh(e,r,o,s),l=e.memoizedState,a!==r||p!==l||hn.current||Fs?(typeof h=="function"&&(Og(e,n,h,r),l=e.memoizedState),(a=Fs||Dw(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,c2(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Jn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=fn(n)?_o:qt.current,l=Fa(e,l));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&Mw(e,o,r,l),Fs=!1,p=e.memoizedState,o.state=p,Dh(e,r,o,s);var x=e.memoizedState;a!==f||p!==x||hn.current||Fs?(typeof m=="function"&&(Og(e,n,m,r),x=e.memoizedState),(c=Fs||Dw(e,n,c,r,p,x,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),o.props=r,o.state=x,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Bg(t,e,n,r,i,s)}function Bg(t,e,n,r,s,i){M2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Cw(e,n,!1),cs(t,e,i);r=e.stateNode,oD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ba(e,t.child,null,i),e.child=Ba(e,null,a,i)):Yt(t,e,a,i),e.memoizedState=r.state,s&&Cw(e,n,!0),e.child}function V2(t){var e=t.stateNode;e.pendingContext?Sw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sw(t,e.context,!1),W0(t,e.containerInfo)}function $w(t,e,n,r,s){return Ua(),F0(s),e.flags|=256,Yt(t,e,n,r),e.child}var $g={dehydrated:null,treeContext:null,retryLane:0};function zg(t){return{baseLanes:t,cachePool:null,transitions:null}}function O2(t,e,n){var r=e.pendingProps,s=We.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Me(We,s&1),t===null)return Mg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Of(o,r,0,null),t=go(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zg(n),e.memoizedState=$g,t):Z0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return aD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=li(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=li(a,i):(i=go(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?zg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=$g,r}return i=t.child,t=i.sibling,r=li(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Z0(t,e){return e=Of({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bd(t,e,n,r){return r!==null&&F0(r),Ba(e,t.child,null,n),t=Z0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=wm(Error(H(422))),bd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Of({mode:"visible",children:r.children},s,0,null),i=go(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ba(e,t.child,null,o),e.child.memoizedState=zg(o),e.memoizedState=$g,i);if(!(e.mode&1))return bd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(H(419)),r=wm(i,r,void 0),bd(t,e,o,r)}if(a=(o&t.childLanes)!==0,dn||a){if(r=Ct,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ls(t,s),ar(r,t,s,-1))}return iv(),r=wm(Error(H(421))),bd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=wD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wn=si(s.nextSibling),En=e,$e=!0,rr=null,t!==null&&(kn[jn++]=Jr,kn[jn++]=Zr,kn[jn++]=Eo,Jr=t.id,Zr=t.overflow,Eo=e),e=Z0(e,r.children),e.flags|=4096,e)}function zw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vg(t.return,e,n)}function _m(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function L2(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Yt(t,e,r.children,n),r=We.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zw(t,n,e);else if(t.tag===19)zw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Me(We,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Mh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),_m(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Mh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}_m(e,!0,n,null,i);break;case"together":_m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),bo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=li(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=li(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lD(t,e,n){switch(e.tag){case 3:V2(e),Ua();break;case 5:u2(e);break;case 1:fn(e.type)&&Ah(e);break;case 4:W0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Me(kh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Me(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?O2(t,e,n):(Me(We,We.current&1),t=cs(t,e,n),t!==null?t.sibling:null);Me(We,We.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return L2(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Me(We,We.current),r)break;return null;case 22:case 23:return e.lanes=0,D2(t,e,n)}return cs(t,e,n)}var F2,Hg,U2,B2;F2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hg=function(){};U2=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ro(Rr.current);var i=null;switch(n){case"input":s=hg(t,s),r=hg(t,r),i=[];break;case"select":s=Ke({},s,{value:void 0}),r=Ke({},r,{value:void 0}),i=[];break;case"textarea":s=mg(t,s),r=mg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ih)}yg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rc.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Le("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};B2=function(t,e,n,r){n!==r&&(e.flags|=4)};function ql(t,e){if(!$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Vt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cD(t,e,n){var r=e.pendingProps;switch(L0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(e),null;case 1:return fn(e.type)&&Ph(),Vt(e),null;case 3:return r=e.stateNode,$a(),Ue(hn),Ue(qt),G0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ed(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(Jg(rr),rr=null))),Hg(t,e),Vt(e),null;case 5:q0(e);var s=ro(zc.current);if(n=e.type,t!==null&&e.stateNode!=null)U2(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Vt(e),null}if(t=ro(Rr.current),Ed(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Pr]=e,r[Bc]=i,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<tc.length;s++)Le(tc[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Jx(r,i),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Le("invalid",r);break;case"textarea":ew(r,i),Le("invalid",r)}yg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&_d(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_d(r.textContent,a,t),s=["children",""+a]):Rc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Le("scroll",r)}switch(n){case"input":fd(r),Zx(r,i,!0);break;case"textarea":fd(r),tw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ih)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pr]=e,t[Bc]=r,F2(t,e,!1,!1),e.stateNode=t;e:{switch(o=vg(n,r),n){case"dialog":Le("cancel",t),Le("close",t),s=r;break;case"iframe":case"object":case"embed":Le("load",t),s=r;break;case"video":case"audio":for(s=0;s<tc.length;s++)Le(tc[s],t);s=r;break;case"source":Le("error",t),s=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),s=r;break;case"details":Le("toggle",t),s=r;break;case"input":Jx(t,r),s=hg(t,r),Le("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ke({},r,{value:void 0}),Le("invalid",t);break;case"textarea":ew(t,r),s=mg(t,r),Le("invalid",t);break;default:s=r}yg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?vS(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&gS(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&kc(t,l):typeof l=="number"&&kc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Le("scroll",t):l!=null&&T0(t,i,l,o))}switch(n){case"input":fd(t),Zx(t,r,!1);break;case"textarea":fd(t),tw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+xi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?pa(t,!!r.multiple,i,!1):r.defaultValue!=null&&pa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ih)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Vt(e),null;case 6:if(t&&e.stateNode!=null)B2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=ro(zc.current),ro(Rr.current),Ed(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pr]=e,(i=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:_d(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&_d(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=e,e.stateNode=r}return Vt(e),null;case 13:if(Ue(We),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if($e&&wn!==null&&e.mode&1&&!(e.flags&128))i2(),Ua(),e.flags|=98560,i=!1;else if(i=Ed(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[Pr]=e}else Ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Vt(e),i=!1}else rr!==null&&(Jg(rr),rr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?xt===0&&(xt=3):iv())),e.updateQueue!==null&&(e.flags|=4),Vt(e),null);case 4:return $a(),Hg(t,e),t===null&&Fc(e.stateNode.containerInfo),Vt(e),null;case 10:return $0(e.type._context),Vt(e),null;case 17:return fn(e.type)&&Ph(),Vt(e),null;case 19:if(Ue(We),i=e.memoizedState,i===null)return Vt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ql(i,!1);else{if(xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Mh(t),o!==null){for(e.flags|=128,ql(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Me(We,We.current&1|2),e.child}t=t.sibling}i.tail!==null&&it()>Ha&&(e.flags|=128,r=!0,ql(i,!1),e.lanes=4194304)}else{if(!r)if(t=Mh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ql(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!$e)return Vt(e),null}else 2*it()-i.renderingStartTime>Ha&&n!==1073741824&&(e.flags|=128,r=!0,ql(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=it(),e.sibling=null,n=We.current,Me(We,r?n&1|2:n&1),e):(Vt(e),null);case 22:case 23:return sv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yn&1073741824&&(Vt(e),e.subtreeFlags&6&&(e.flags|=8192)):Vt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function uD(t,e){switch(L0(e),e.tag){case 1:return fn(e.type)&&Ph(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $a(),Ue(hn),Ue(qt),G0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return q0(e),null;case 13:if(Ue(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ue(We),null;case 4:return $a(),null;case 10:return $0(e.type._context),null;case 22:case 23:return sv(),null;case 24:return null;default:return null}}var Sd=!1,Ut=!1,dD=typeof WeakSet=="function"?WeakSet:Set,Y=null;function aa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function Wg(t,e,n){try{n()}catch(r){Je(t,e,r)}}var Hw=!1;function hD(t,e){if(Pg=bh,t=qS(),V0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===s&&(a=o),p===i&&++h===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ag={focusedElem:t,selectionRange:n},bh=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,T=x.memoizedState,_=e.stateNode,y=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:Jn(e.type,v),T);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(A){Je(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return x=Hw,Hw=!1,x}function gc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wg(e,n,i)}s=s.next}while(s!==r)}}function Mf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $2(t){var e=t.alternate;e!==null&&(t.alternate=null,$2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pr],delete e[Bc],delete e[kg],delete e[Kj],delete e[Qj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function z2(t){return t.tag===5||t.tag===3||t.tag===4}function Ww(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||z2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ih));else if(r!==4&&(t=t.child,t!==null))for(Gg(t,e,n),t=t.sibling;t!==null;)Gg(t,e,n),t=t.sibling}function Kg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kg(t,e,n),t=t.sibling;t!==null;)Kg(t,e,n),t=t.sibling}var It=null,nr=!1;function Rs(t,e,n){for(n=n.child;n!==null;)H2(t,e,n),n=n.sibling}function H2(t,e,n){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(If,n)}catch{}switch(n.tag){case 5:Ut||aa(n,e);case 6:var r=It,s=nr;It=null,Rs(t,e,n),It=r,nr=s,It!==null&&(nr?(t=It,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):It.removeChild(n.stateNode));break;case 18:It!==null&&(nr?(t=It,n=n.stateNode,t.nodeType===8?pm(t.parentNode,n):t.nodeType===1&&pm(t,n),Vc(t)):pm(It,n.stateNode));break;case 4:r=It,s=nr,It=n.stateNode.containerInfo,nr=!0,Rs(t,e,n),It=r,nr=s;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wg(n,e,o),s=s.next}while(s!==r)}Rs(t,e,n);break;case 1:if(!Ut&&(aa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,e,a)}Rs(t,e,n);break;case 21:Rs(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,Rs(t,e,n),Ut=r):Rs(t,e,n);break;default:Rs(t,e,n)}}function qw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dD),e.forEach(function(r){var s=_D.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:It=a.stateNode,nr=!1;break e;case 3:It=a.stateNode.containerInfo,nr=!0;break e;case 4:It=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(It===null)throw Error(H(160));H2(i,o,s),It=null,nr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Je(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W2(e,t),e=e.sibling}function W2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),Er(t),r&4){try{gc(3,t,t.return),Mf(3,t)}catch(v){Je(t,t.return,v)}try{gc(5,t,t.return)}catch(v){Je(t,t.return,v)}}break;case 1:Kn(e,t),Er(t),r&512&&n!==null&&aa(n,n.return);break;case 5:if(Kn(e,t),Er(t),r&512&&n!==null&&aa(n,n.return),t.flags&32){var s=t.stateNode;try{kc(s,"")}catch(v){Je(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&fS(s,i),vg(a,o);var c=vg(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?vS(s,f):h==="dangerouslySetInnerHTML"?gS(s,f):h==="children"?kc(s,f):T0(s,h,f,c)}switch(a){case"input":fg(s,i);break;case"textarea":pS(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?pa(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?pa(s,!!i.multiple,i.defaultValue,!0):pa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Bc]=i}catch(v){Je(t,t.return,v)}}break;case 6:if(Kn(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){Je(t,t.return,v)}}break;case 3:if(Kn(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vc(e.containerInfo)}catch(v){Je(t,t.return,v)}break;case 4:Kn(e,t),Er(t);break;case 13:Kn(e,t),Er(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(nv=it())),r&4&&qw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(c=Ut)||h,Kn(e,t),Ut=c):Kn(e,t),Er(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Y=t,h=t.child;h!==null;){for(f=Y=h;Y!==null;){switch(p=Y,m=p.child,p.tag){case 0:case 11:case 14:case 15:gc(4,p,p.return);break;case 1:aa(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){Je(r,n,v)}}break;case 5:aa(p,p.return);break;case 22:if(p.memoizedState!==null){Kw(f);continue}}m!==null?(m.return=p,Y=m):Kw(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=yS("display",o))}catch(v){Je(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Je(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kn(e,t),Er(t),r&4&&qw(t);break;case 21:break;default:Kn(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(z2(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kc(s,""),r.flags&=-33);var i=Ww(t);Kg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ww(t);Gg(t,a,o);break;default:throw Error(H(161))}}catch(l){Je(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fD(t,e,n){Y=t,q2(t)}function q2(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var s=Y,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Sd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=Sd;var c=Ut;if(Sd=o,(Ut=l)&&!c)for(Y=s;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Qw(s):l!==null?(l.return=o,Y=l):Qw(s);for(;i!==null;)Y=i,q2(i),i=i.sibling;Y=s,Sd=a,Ut=c}Gw(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Y=i):Gw(t)}}function Gw(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||Mf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Rw(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Rw(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Vc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ut||e.flags&512&&qg(e)}catch(p){Je(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Kw(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Qw(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Mf(4,e)}catch(l){Je(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Je(e,s,l)}}var i=e.return;try{qg(e)}catch(l){Je(e,i,l)}break;case 5:var o=e.return;try{qg(e)}catch(l){Je(e,o,l)}}}catch(l){Je(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var pD=Math.ceil,Lh=xs.ReactCurrentDispatcher,ev=xs.ReactCurrentOwner,On=xs.ReactCurrentBatchConfig,Te=0,Ct=null,ct=null,Rt=0,yn=0,la=Di(0),xt=0,Gc=null,bo=0,Vf=0,tv=0,yc=null,cn=null,nv=0,Ha=1/0,Qr=null,Fh=!1,Qg=null,oi=null,Cd=!1,Xs=null,Uh=0,vc=0,Yg=null,Zd=-1,eh=0;function en(){return Te&6?it():Zd!==-1?Zd:Zd=it()}function ai(t){return t.mode&1?Te&2&&Rt!==0?Rt&-Rt:Xj.transition!==null?(eh===0&&(eh=NS()),eh):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:OS(t.type)),t):1}function ar(t,e,n,r){if(50<vc)throw vc=0,Yg=null,Error(H(185));wu(t,n,r),(!(Te&2)||t!==Ct)&&(t===Ct&&(!(Te&2)&&(Vf|=n),xt===4&&Bs(t,Rt)),pn(t,r),n===1&&Te===0&&!(e.mode&1)&&(Ha=it()+500,kf&&Mi()))}function pn(t,e){var n=t.callbackNode;X4(t,e);var r=Th(t,t===Ct?Rt:0);if(r===0)n!==null&&sw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sw(n),e===1)t.tag===0?Yj(Yw.bind(null,t)):n2(Yw.bind(null,t)),qj(function(){!(Te&6)&&Mi()}),n=null;else{switch(RS(r)){case 1:n=P0;break;case 4:n=PS;break;case 16:n=Eh;break;case 536870912:n=AS;break;default:n=Eh}n=eC(n,G2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function G2(t,e){if(Zd=-1,eh=0,Te&6)throw Error(H(327));var n=t.callbackNode;if(xa()&&t.callbackNode!==n)return null;var r=Th(t,t===Ct?Rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Bh(t,r);else{e=r;var s=Te;Te|=2;var i=Q2();(Ct!==t||Rt!==e)&&(Qr=null,Ha=it()+500,mo(t,e));do try{yD();break}catch(a){K2(t,a)}while(!0);B0(),Lh.current=i,Te=s,ct!==null?e=0:(Ct=null,Rt=0,e=xt)}if(e!==0){if(e===2&&(s=Tg(t),s!==0&&(r=s,e=Xg(t,s))),e===1)throw n=Gc,mo(t,0),Bs(t,r),pn(t,it()),n;if(e===6)Bs(t,r);else{if(s=t.current.alternate,!(r&30)&&!mD(s)&&(e=Bh(t,r),e===2&&(i=Tg(t),i!==0&&(r=i,e=Xg(t,i))),e===1))throw n=Gc,mo(t,0),Bs(t,r),pn(t,it()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Ji(t,cn,Qr);break;case 3:if(Bs(t,r),(r&130023424)===r&&(e=nv+500-it(),10<e)){if(Th(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Rg(Ji.bind(null,t,cn,Qr),e);break}Ji(t,cn,Qr);break;case 4:if(Bs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-or(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pD(r/1960))-r,10<r){t.timeoutHandle=Rg(Ji.bind(null,t,cn,Qr),r);break}Ji(t,cn,Qr);break;case 5:Ji(t,cn,Qr);break;default:throw Error(H(329))}}}return pn(t,it()),t.callbackNode===n?G2.bind(null,t):null}function Xg(t,e){var n=yc;return t.current.memoizedState.isDehydrated&&(mo(t,e).flags|=256),t=Bh(t,e),t!==2&&(e=cn,cn=n,e!==null&&Jg(e)),t}function Jg(t){cn===null?cn=t:cn.push.apply(cn,t)}function mD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ur(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Bs(t,e){for(e&=~tv,e&=~Vf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-or(e),r=1<<n;t[n]=-1,e&=~r}}function Yw(t){if(Te&6)throw Error(H(327));xa();var e=Th(t,0);if(!(e&1))return pn(t,it()),null;var n=Bh(t,e);if(t.tag!==0&&n===2){var r=Tg(t);r!==0&&(e=r,n=Xg(t,r))}if(n===1)throw n=Gc,mo(t,0),Bs(t,e),pn(t,it()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ji(t,cn,Qr),pn(t,it()),null}function rv(t,e){var n=Te;Te|=1;try{return t(e)}finally{Te=n,Te===0&&(Ha=it()+500,kf&&Mi())}}function So(t){Xs!==null&&Xs.tag===0&&!(Te&6)&&xa();var e=Te;Te|=1;var n=On.transition,r=Ae;try{if(On.transition=null,Ae=1,t)return t()}finally{Ae=r,On.transition=n,Te=e,!(Te&6)&&Mi()}}function sv(){yn=la.current,Ue(la)}function mo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Wj(n)),ct!==null)for(n=ct.return;n!==null;){var r=n;switch(L0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ph();break;case 3:$a(),Ue(hn),Ue(qt),G0();break;case 5:q0(r);break;case 4:$a();break;case 13:Ue(We);break;case 19:Ue(We);break;case 10:$0(r.type._context);break;case 22:case 23:sv()}n=n.return}if(Ct=t,ct=t=li(t.current,null),Rt=yn=e,xt=0,Gc=null,tv=Vf=bo=0,cn=yc=null,no!==null){for(e=0;e<no.length;e++)if(n=no[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}no=null}return t}function K2(t,e){do{var n=ct;try{if(B0(),Yd.current=Oh,Vh){for(var r=Ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Vh=!1}if(To=0,St=yt=Ge=null,mc=!1,Hc=0,ev.current=null,n===null||n.return===null){xt=1,Gc=e,ct=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Rt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=Ow(o);if(m!==null){m.flags&=-257,Lw(m,o,a,i,e),m.mode&1&&Vw(i,c,e),e=m,l=c;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){Vw(i,c,e),iv();break e}l=Error(H(426))}}else if($e&&a.mode&1){var T=Ow(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Lw(T,o,a,i,e),F0(za(l,a));break e}}i=l=za(l,a),xt!==4&&(xt=2),yc===null?yc=[i]:yc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=R2(i,l,e);Nw(i,_);break e;case 1:a=l;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(oi===null||!oi.has(w)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=k2(i,a,e);Nw(i,A);break e}}i=i.return}while(i!==null)}X2(n)}catch(j){e=j,ct===n&&n!==null&&(ct=n=n.return);continue}break}while(!0)}function Q2(){var t=Lh.current;return Lh.current=Oh,t===null?Oh:t}function iv(){(xt===0||xt===3||xt===2)&&(xt=4),Ct===null||!(bo&268435455)&&!(Vf&268435455)||Bs(Ct,Rt)}function Bh(t,e){var n=Te;Te|=2;var r=Q2();(Ct!==t||Rt!==e)&&(Qr=null,mo(t,e));do try{gD();break}catch(s){K2(t,s)}while(!0);if(B0(),Te=n,Lh.current=r,ct!==null)throw Error(H(261));return Ct=null,Rt=0,xt}function gD(){for(;ct!==null;)Y2(ct)}function yD(){for(;ct!==null&&!$4();)Y2(ct)}function Y2(t){var e=Z2(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?X2(t):ct=e,ev.current=null}function X2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uD(n,e),n!==null){n.flags&=32767,ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xt=6,ct=null;return}}else if(n=cD(n,e,yn),n!==null){ct=n;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);xt===0&&(xt=5)}function Ji(t,e,n){var r=Ae,s=On.transition;try{On.transition=null,Ae=1,vD(t,e,n,r)}finally{On.transition=s,Ae=r}return null}function vD(t,e,n,r){do xa();while(Xs!==null);if(Te&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(J4(t,i),t===Ct&&(ct=Ct=null,Rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cd||(Cd=!0,eC(Eh,function(){return xa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=On.transition,On.transition=null;var o=Ae;Ae=1;var a=Te;Te|=4,ev.current=null,hD(t,n),W2(n,t),Lj(Ag),bh=!!Pg,Ag=Pg=null,t.current=n,fD(n),z4(),Te=a,Ae=o,On.transition=i}else t.current=n;if(Cd&&(Cd=!1,Xs=t,Uh=s),i=t.pendingLanes,i===0&&(oi=null),q4(n.stateNode),pn(t,it()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Fh)throw Fh=!1,t=Qg,Qg=null,t;return Uh&1&&t.tag!==0&&xa(),i=t.pendingLanes,i&1?t===Yg?vc++:(vc=0,Yg=t):vc=0,Mi(),null}function xa(){if(Xs!==null){var t=RS(Uh),e=On.transition,n=Ae;try{if(On.transition=null,Ae=16>t?16:t,Xs===null)var r=!1;else{if(t=Xs,Xs=null,Uh=0,Te&6)throw Error(H(331));var s=Te;for(Te|=4,Y=t.current;Y!==null;){var i=Y,o=i.child;if(Y.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var h=Y;switch(h.tag){case 0:case 11:case 15:gc(8,h,i)}var f=h.child;if(f!==null)f.return=h,Y=f;else for(;Y!==null;){h=Y;var p=h.sibling,m=h.return;if($2(h),h===c){Y=null;break}if(p!==null){p.return=m,Y=p;break}Y=m}}}var x=i.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}Y=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Y=o;else e:for(;Y!==null;){if(i=Y,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Y=_;break e}Y=i.return}}var y=t.current;for(Y=y;Y!==null;){o=Y;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Y=w;else e:for(o=y;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Mf(9,a)}}catch(j){Je(a,a.return,j)}if(a===o){Y=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,Y=A;break e}Y=a.return}}if(Te=s,Mi(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(If,t)}catch{}r=!0}return r}finally{Ae=n,On.transition=e}}return!1}function Xw(t,e,n){e=za(n,e),e=R2(t,e,1),t=ii(t,e,1),e=en(),t!==null&&(wu(t,1,e),pn(t,e))}function Je(t,e,n){if(t.tag===3)Xw(t,t,n);else for(;e!==null;){if(e.tag===3){Xw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oi===null||!oi.has(r))){t=za(n,t),t=k2(e,t,1),e=ii(e,t,1),t=en(),e!==null&&(wu(e,1,t),pn(e,t));break}}e=e.return}}function xD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,Ct===t&&(Rt&n)===n&&(xt===4||xt===3&&(Rt&130023424)===Rt&&500>it()-nv?mo(t,0):tv|=n),pn(t,e)}function J2(t,e){e===0&&(t.mode&1?(e=gd,gd<<=1,!(gd&130023424)&&(gd=4194304)):e=1);var n=en();t=ls(t,e),t!==null&&(wu(t,e,n),pn(t,n))}function wD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),J2(t,n)}function _D(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),J2(t,n)}var Z2;Z2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,lD(t,e,n);dn=!!(t.flags&131072)}else dn=!1,$e&&e.flags&1048576&&r2(e,Rh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jd(t,e),t=e.pendingProps;var s=Fa(e,qt.current);va(e,n),s=Q0(null,e,r,t,s,n);var i=Y0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(r)?(i=!0,Ah(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,H0(e),s.updater=Df,e.stateNode=s,s._reactInternals=e,Lg(e,r,t,n),e=Bg(null,e,r,!0,i,n)):(e.tag=0,$e&&i&&O0(e),Yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=TD(r),t=Jn(r,t),s){case 0:e=Ug(null,e,r,t,n);break e;case 1:e=Bw(null,e,r,t,n);break e;case 11:e=Fw(null,e,r,t,n);break e;case 14:e=Uw(null,e,r,Jn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),Ug(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),Bw(t,e,r,s,n);case 3:e:{if(V2(e),t===null)throw Error(H(387));r=e.pendingProps,i=e.memoizedState,s=i.element,c2(t,e),Dh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=za(Error(H(423)),e),e=$w(t,e,r,n,s);break e}else if(r!==s){s=za(Error(H(424)),e),e=$w(t,e,r,n,s);break e}else for(wn=si(e.stateNode.containerInfo.firstChild),En=e,$e=!0,rr=null,n=a2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ua(),r===s){e=cs(t,e,n);break e}Yt(t,e,r,n)}e=e.child}return e;case 5:return u2(e),t===null&&Mg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Ng(r,s)?o=null:i!==null&&Ng(r,i)&&(e.flags|=32),M2(t,e),Yt(t,e,o,n),e.child;case 6:return t===null&&Mg(e),null;case 13:return O2(t,e,n);case 4:return W0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ba(e,null,r,n):Yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),Fw(t,e,r,s,n);case 7:return Yt(t,e,e.pendingProps,n),e.child;case 8:return Yt(t,e,e.pendingProps.children,n),e.child;case 12:return Yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Me(kh,r._currentValue),r._currentValue=o,i!==null)if(ur(i.value,o)){if(i.children===s.children&&!hn.current){e=cs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ns(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Vg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,va(e,n),s=Bn(s),r=r(s),e.flags|=1,Yt(t,e,r,n),e.child;case 14:return r=e.type,s=Jn(r,e.pendingProps),s=Jn(r.type,s),Uw(t,e,r,s,n);case 15:return j2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),Jd(t,e),e.tag=1,fn(r)?(t=!0,Ah(e)):t=!1,va(e,n),N2(e,r,s),Lg(e,r,s,n),Bg(null,e,r,!0,t,n);case 19:return L2(t,e,n);case 22:return D2(t,e,n)}throw Error(H(156,e.tag))};function eC(t,e){return IS(t,e)}function ED(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new ED(t,e,n,r)}function ov(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TD(t){if(typeof t=="function")return ov(t)?1:0;if(t!=null){if(t=t.$$typeof,t===S0)return 11;if(t===C0)return 14}return 2}function li(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function th(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")ov(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jo:return go(n.children,s,i,e);case b0:o=8,s|=8;break;case lg:return t=Mn(12,n,e,s|2),t.elementType=lg,t.lanes=i,t;case cg:return t=Mn(13,n,e,s),t.elementType=cg,t.lanes=i,t;case ug:return t=Mn(19,n,e,s),t.elementType=ug,t.lanes=i,t;case uS:return Of(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lS:o=10;break e;case cS:o=9;break e;case S0:o=11;break e;case C0:o=14;break e;case Ls:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Mn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function go(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function Of(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=uS,t.lanes=n,t.stateNode={isHidden:!1},t}function Em(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function Tm(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function bD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rm(0),this.expirationTimes=rm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function av(t,e,n,r,s,i,o,a,l){return t=new bD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},H0(i),t}function SD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function tC(t){if(!t)return wi;t=t._reactInternals;e:{if(Mo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(fn(n))return t2(t,n,e)}return e}function nC(t,e,n,r,s,i,o,a,l){return t=av(n,r,!0,t,s,i,o,a,l),t.context=tC(null),n=t.current,r=en(),s=ai(n),i=ns(r,s),i.callback=e??null,ii(n,i,s),t.current.lanes=s,wu(t,s,r),pn(t,r),t}function Lf(t,e,n,r){var s=e.current,i=en(),o=ai(s);return n=tC(n),e.context===null?e.context=n:e.pendingContext=n,e=ns(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ii(s,e,o),t!==null&&(ar(t,s,o,i),Qd(t,s,o)),o}function $h(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lv(t,e){Jw(t,e),(t=t.alternate)&&Jw(t,e)}function CD(){return null}var rC=typeof reportError=="function"?reportError:function(t){console.error(t)};function cv(t){this._internalRoot=t}Ff.prototype.render=cv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));Lf(t,e,null,null)};Ff.prototype.unmount=cv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;So(function(){Lf(null,t,null,null)}),e[as]=null}};function Ff(t){this._internalRoot=t}Ff.prototype.unstable_scheduleHydration=function(t){if(t){var e=DS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Us.length&&e!==0&&e<Us[n].priority;n++);Us.splice(n,0,t),n===0&&VS(t)}};function uv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zw(){}function ID(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=$h(o);i.call(c)}}var o=nC(e,r,t,0,null,!1,!1,"",Zw);return t._reactRootContainer=o,t[as]=o.current,Fc(t.nodeType===8?t.parentNode:t),So(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=$h(l);a.call(c)}}var l=av(t,0,!1,null,null,!1,!1,"",Zw);return t._reactRootContainer=l,t[as]=l.current,Fc(t.nodeType===8?t.parentNode:t),So(function(){Lf(e,l,n,r)}),l}function Bf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=$h(o);a.call(l)}}Lf(e,o,t,s)}else o=ID(n,e,t,s,r);return $h(o)}kS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ec(e.pendingLanes);n!==0&&(A0(e,n|1),pn(e,it()),!(Te&6)&&(Ha=it()+500,Mi()))}break;case 13:So(function(){var r=ls(t,1);if(r!==null){var s=en();ar(r,t,1,s)}}),lv(t,1)}};N0=function(t){if(t.tag===13){var e=ls(t,134217728);if(e!==null){var n=en();ar(e,t,134217728,n)}lv(t,134217728)}};jS=function(t){if(t.tag===13){var e=ai(t),n=ls(t,e);if(n!==null){var r=en();ar(n,t,e,r)}lv(t,e)}};DS=function(){return Ae};MS=function(t,e){var n=Ae;try{return Ae=t,e()}finally{Ae=n}};wg=function(t,e,n){switch(e){case"input":if(fg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Rf(r);if(!s)throw Error(H(90));hS(r),fg(r,s)}}}break;case"textarea":pS(t,n);break;case"select":e=n.value,e!=null&&pa(t,!!n.multiple,e,!1)}};_S=rv;ES=So;var PD={usingClientEntryPoint:!1,Events:[Eu,na,Rf,xS,wS,rv]},Gl={findFiberByHostInstance:to,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},AD={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SS(t),t===null?null:t.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||CD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{If=Id.inject(AD),Nr=Id}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PD;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uv(e))throw Error(H(200));return SD(t,e,null,n)};Cn.createRoot=function(t,e){if(!uv(t))throw Error(H(299));var n=!1,r="",s=rC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=av(t,1,!1,null,null,n,!1,r,s),t[as]=e.current,Fc(t.nodeType===8?t.parentNode:t),new cv(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=SS(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return So(t)};Cn.hydrate=function(t,e,n){if(!Uf(e))throw Error(H(200));return Bf(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!uv(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=rC;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=nC(e,null,t,1,n??null,s,!1,i,o),t[as]=e.current,Fc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ff(e)};Cn.render=function(t,e,n){if(!Uf(e))throw Error(H(200));return Bf(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!Uf(t))throw Error(H(40));return t._reactRootContainer?(So(function(){Bf(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};Cn.unstable_batchedUpdates=rv;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Uf(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Bf(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function sC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sC)}catch(t){console.error(t)}}sC(),sS.exports=Cn;var bu=sS.exports;const iC=qb(bu);var oC,e_=bu;oC=e_.createRoot,e_.hydrateRoot;const ND=1,RD=1e6;let bm=0;function kD(){return bm=(bm+1)%Number.MAX_SAFE_INTEGER,bm.toString()}const Sm=new Map,t_=t=>{if(Sm.has(t))return;const e=setTimeout(()=>{Sm.delete(t),xc({type:"REMOVE_TOAST",toastId:t})},RD);Sm.set(t,e)},jD=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,ND)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?t_(n):t.toasts.forEach(r=>{t_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},nh=[];let rh={toasts:[]};function xc(t){rh=jD(rh,t),nh.forEach(e=>{e(rh)})}function DD({...t}){const e=kD(),n=s=>xc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>xc({type:"DISMISS_TOAST",toastId:e});return xc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function MD(){const[t,e]=b.useState(rh);return b.useEffect(()=>(nh.push(e),()=>{const n=nh.indexOf(e);n>-1&&nh.splice(n,1)}),[t]),{...t,toast:DD,dismiss:n=>xc({type:"DISMISS_TOAST",toastId:n})}}function Ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function n_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function aC(...t){return e=>{let n=!1;const r=t.map(s=>{const i=n_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():n_(t[s],null)}}}}function zn(...t){return b.useCallback(aC(...t),t)}function al(t,e=[]){let n=[];function r(i,o){const a=b.createContext(o),l=n.length;n=[...n,o];const c=f=>{var _;const{scope:p,children:m,...x}=f,v=((_=p==null?void 0:p[t])==null?void 0:_[l])||a,T=b.useMemo(()=>x,Object.values(x));return u.jsx(v.Provider,{value:T,children:m})};c.displayName=i+"Provider";function h(f,p){var v;const m=((v=p==null?void 0:p[t])==null?void 0:v[l])||a,x=b.useContext(m);if(x)return x;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,h]}const s=()=>{const i=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,VD(s,...e)]}function VD(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function zh(t){const e=LD(t),n=b.forwardRef((r,s)=>{const{children:i,...o}=r,a=b.Children.toArray(i),l=a.find(UD);if(l){const c=l.props.children,h=a.map(f=>f===l?b.Children.count(c)>1?b.Children.only(null):b.isValidElement(c)?c.props.children:null:f);return u.jsx(e,{...o,ref:s,children:b.isValidElement(c)?b.cloneElement(c,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var OD=zh("Slot");function LD(t){const e=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const o=$D(s),a=BD(i,s.props);return s.type!==b.Fragment&&(a.ref=r?aC(r,o):o),b.cloneElement(s,a)}return b.Children.count(s)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lC=Symbol("radix.slottable");function FD(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=lC,e}function UD(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lC}function BD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function $D(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function cC(t){const e=t+"CollectionProvider",[n,r]=al(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:T,children:_}=v,y=W.useRef(null),w=W.useRef(new Map).current;return u.jsx(s,{scope:T,itemMap:w,collectionRef:y,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=zh(a),c=W.forwardRef((v,T)=>{const{scope:_,children:y}=v,w=i(a,_),A=zn(T,w.collectionRef);return u.jsx(l,{ref:A,children:y})});c.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=zh(h),m=W.forwardRef((v,T)=>{const{scope:_,children:y,...w}=v,A=W.useRef(null),j=zn(T,A),V=i(h,_);return W.useEffect(()=>(V.itemMap.set(A,{ref:A,...w}),()=>void V.itemMap.delete(A))),u.jsx(p,{[f]:"",ref:j,children:y})});m.displayName=h;function x(v){const T=i(t+"CollectionConsumer",v);return W.useCallback(()=>{const y=T.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(T.itemMap.values()).sort((V,C)=>w.indexOf(V.ref.current)-w.indexOf(C.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},x,r]}var zD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tt=zD.reduce((t,e)=>{const n=zh(`Primitive.${e}`),r=b.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function uC(t,e){t&&bu.flushSync(()=>t.dispatchEvent(e))}function us(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function HD(t,e=globalThis==null?void 0:globalThis.document){const n=us(t);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var WD="DismissableLayer",Zg="dismissableLayer.update",qD="dismissableLayer.pointerDownOutside",GD="dismissableLayer.focusOutside",r_,dC=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dv=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=b.useContext(dC),[h,f]=b.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=b.useState({}),x=zn(e,C=>f(C)),v=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(T),y=h?v.indexOf(h):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,A=y>=_,j=QD(C=>{const S=C.target,I=[...c.branches].some(N=>N.contains(S));!A||I||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),V=YD(C=>{const S=C.target;[...c.branches].some(N=>N.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return HD(C=>{y===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),b.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(r_=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),s_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=r_)}},[h,p,n,c]),b.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),s_())},[h,c]),b.useEffect(()=>{const C=()=>m({});return document.addEventListener(Zg,C),()=>document.removeEventListener(Zg,C)},[]),u.jsx(tt.div,{...l,ref:x,style:{pointerEvents:w?A?"auto":"none":void 0,...t.style},onFocusCapture:Ne(t.onFocusCapture,V.onFocusCapture),onBlurCapture:Ne(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:Ne(t.onPointerDownCapture,j.onPointerDownCapture)})});dv.displayName=WD;var KD="DismissableLayerBranch",hC=b.forwardRef((t,e)=>{const n=b.useContext(dC),r=b.useRef(null),s=zn(e,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(tt.div,{...t,ref:s})});hC.displayName=KD;function QD(t,e=globalThis==null?void 0:globalThis.document){const n=us(t),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){fC(qD,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function YD(t,e=globalThis==null?void 0:globalThis.document){const n=us(t),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&fC(GD,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function s_(){const t=new CustomEvent(Zg);document.dispatchEvent(t)}function fC(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uC(s,i):s.dispatchEvent(i)}var XD=dv,JD=hC,ds=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},ZD="Portal",pC=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=b.useState(!1);ds(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?iC.createPortal(u.jsx(tt.div,{...r,ref:e}),o):null});pC.displayName=ZD;function eM(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var $f=t=>{const{present:e,children:n}=t,r=tM(e),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=zn(r.ref,nM(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};$f.displayName="Presence";function tM(t){const[e,n]=b.useState(),r=b.useRef(null),s=b.useRef(t),i=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=eM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=Pd(r.current);i.current=a==="mounted"?c:"none"},[a]),ds(()=>{const c=r.current,h=s.current;if(h!==t){const p=i.current,m=Pd(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),ds(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,f=m=>{const v=Pd(r.current).includes(m.animationName);if(m.target===e&&v&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},p=m=>{m.target===e&&(i.current=Pd(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function Pd(t){return(t==null?void 0:t.animationName)||"none"}function nM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var rM=w0[" useInsertionEffect ".trim().toString()]||ds;function hv({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=sM({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=b.useRef(t!==void 0);b.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const c=b.useCallback(h=>{var f;if(a){const p=iM(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[l,c]}function sM({defaultProp:t,onChange:e}){const[n,r]=b.useState(t),s=b.useRef(n),i=b.useRef(e);return rM(()=>{i.current=e},[e]),b.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function iM(t){return typeof t=="function"}var oM=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),aM="VisuallyHidden",zf=b.forwardRef((t,e)=>u.jsx(tt.span,{...t,ref:e,style:{...oM,...t.style}}));zf.displayName=aM;var lM=zf,fv="ToastProvider",[pv,cM,uM]=cC("Toast"),[mC,PG]=al("Toast",[uM]),[dM,Hf]=mC(fv),gC=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=b.useState(null),[c,h]=b.useState(0),f=b.useRef(!1),p=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${fv}\`. Expected non-empty \`string\`.`),u.jsx(pv.Provider,{scope:e,children:u.jsx(dM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>h(m=>m+1),[]),onToastRemove:b.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};gC.displayName=fv;var yC="ToastViewport",hM=["F8"],ey="toast.viewportPause",ty="toast.viewportResume",vC=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=hM,label:s="Notifications ({hotkey})",...i}=t,o=Hf(yC,n),a=cM(n),l=b.useRef(null),c=b.useRef(null),h=b.useRef(null),f=b.useRef(null),p=zn(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),x=o.toastCount>0;b.useEffect(()=>{const T=_=>{var w;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((w=f.current)==null||w.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),b.useEffect(()=>{const T=l.current,_=f.current;if(x&&T&&_){const y=()=>{if(!o.isClosePausedRef.current){const V=new CustomEvent(ey);_.dispatchEvent(V),o.isClosePausedRef.current=!0}},w=()=>{if(o.isClosePausedRef.current){const V=new CustomEvent(ty);_.dispatchEvent(V),o.isClosePausedRef.current=!1}},A=V=>{!T.contains(V.relatedTarget)&&w()},j=()=>{T.contains(document.activeElement)||w()};return T.addEventListener("focusin",y),T.addEventListener("focusout",A),T.addEventListener("pointermove",y),T.addEventListener("pointerleave",j),window.addEventListener("blur",y),window.addEventListener("focus",w),()=>{T.removeEventListener("focusin",y),T.removeEventListener("focusout",A),T.removeEventListener("pointermove",y),T.removeEventListener("pointerleave",j),window.removeEventListener("blur",y),window.removeEventListener("focus",w)}}},[x,o.isClosePausedRef]);const v=b.useCallback(({tabbingDirection:T})=>{const y=a().map(w=>{const A=w.ref.current,j=[A,...SM(A)];return T==="forwards"?j:j.reverse()});return(T==="forwards"?y.reverse():y).flat()},[a]);return b.useEffect(()=>{const T=f.current;if(T){const _=y=>{var j,V,C;const w=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!w){const S=document.activeElement,I=y.shiftKey;if(y.target===T&&I){(j=c.current)==null||j.focus();return}const D=v({tabbingDirection:I?"backwards":"forwards"}),R=D.findIndex(z=>z===S);Cm(D.slice(R+1))?y.preventDefault():I?(V=c.current)==null||V.focus():(C=h.current)==null||C.focus()}};return T.addEventListener("keydown",_),()=>T.removeEventListener("keydown",_)}},[a,v]),u.jsxs(JD,{ref:l,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:x?void 0:"none"},children:[x&&u.jsx(ny,{ref:c,onFocusFromOutsideViewport:()=>{const T=v({tabbingDirection:"forwards"});Cm(T)}}),u.jsx(pv.Slot,{scope:n,children:u.jsx(tt.ol,{tabIndex:-1,...i,ref:p})}),x&&u.jsx(ny,{ref:h,onFocusFromOutsideViewport:()=>{const T=v({tabbingDirection:"backwards"});Cm(T)}})]})});vC.displayName=yC;var xC="ToastFocusProxy",ny=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Hf(xC,n);return u.jsx(zf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});ny.displayName=xC;var Su="Toast",fM="toast.swipeStart",pM="toast.swipeMove",mM="toast.swipeCancel",gM="toast.swipeEnd",wC=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=hv({prop:r,defaultProp:s??!0,onChange:i,caller:Su});return u.jsx($f,{present:n||a,children:u.jsx(xM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:us(t.onPause),onResume:us(t.onResume),onSwipeStart:Ne(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ne(t.onSwipeMove,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ne(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ne(t.onSwipeEnd,c=>{const{x:h,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});wC.displayName=Su;var[yM,vM]=mC(Su,{onClose(){}}),xM=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...x}=t,v=Hf(Su,n),[T,_]=b.useState(null),y=zn(e,z=>_(z)),w=b.useRef(null),A=b.useRef(null),j=s||v.duration,V=b.useRef(0),C=b.useRef(j),S=b.useRef(0),{onToastAdd:I,onToastRemove:N}=v,k=us(()=>{var re;(T==null?void 0:T.contains(document.activeElement))&&((re=v.viewport)==null||re.focus()),o()}),D=b.useCallback(z=>{!z||z===1/0||(window.clearTimeout(S.current),V.current=new Date().getTime(),S.current=window.setTimeout(k,z))},[k]);b.useEffect(()=>{const z=v.viewport;if(z){const re=()=>{D(C.current),c==null||c()},te=()=>{const X=new Date().getTime()-V.current;C.current=C.current-X,window.clearTimeout(S.current),l==null||l()};return z.addEventListener(ey,te),z.addEventListener(ty,re),()=>{z.removeEventListener(ey,te),z.removeEventListener(ty,re)}}},[v.viewport,j,l,c,D]),b.useEffect(()=>{i&&!v.isClosePausedRef.current&&D(j)},[i,j,v.isClosePausedRef,D]),b.useEffect(()=>(I(),()=>N()),[I,N]);const R=b.useMemo(()=>T?IC(T):null,[T]);return v.viewport?u.jsxs(u.Fragment,{children:[R&&u.jsx(wM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),u.jsx(yM,{scope:n,onClose:k,children:bu.createPortal(u.jsx(pv.ItemSlot,{scope:n,children:u.jsx(XD,{asChild:!0,onEscapeKeyDown:Ne(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(tt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...x,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ne(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Ne(t.onPointerDown,z=>{z.button===0&&(w.current={x:z.clientX,y:z.clientY})}),onPointerMove:Ne(t.onPointerMove,z=>{if(!w.current)return;const re=z.clientX-w.current.x,te=z.clientY-w.current.y,X=!!A.current,M=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,q=M?L(0,re):0,se=M?0:L(0,te),Z=z.pointerType==="touch"?10:2,ce={x:q,y:se},he={originalEvent:z,delta:ce};X?(A.current=ce,Ad(pM,f,he,{discrete:!1})):i_(ce,v.swipeDirection,Z)?(A.current=ce,Ad(fM,h,he,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs(re)>Z||Math.abs(te)>Z)&&(w.current=null)}),onPointerUp:Ne(t.onPointerUp,z=>{const re=A.current,te=z.target;if(te.hasPointerCapture(z.pointerId)&&te.releasePointerCapture(z.pointerId),A.current=null,w.current=null,re){const X=z.currentTarget,M={originalEvent:z,delta:re};i_(re,v.swipeDirection,v.swipeThreshold)?Ad(gM,m,M,{discrete:!0}):Ad(mM,p,M,{discrete:!0}),X.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),wM=t=>{const{__scopeToast:e,children:n,...r}=t,s=Hf(Su,e),[i,o]=b.useState(!1),[a,l]=b.useState(!1);return TM(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(pC,{asChild:!0,children:u.jsx(zf,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},_M="ToastTitle",_C=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(tt.div,{...r,ref:e})});_C.displayName=_M;var EM="ToastDescription",EC=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(tt.div,{...r,ref:e})});EC.displayName=EM;var TC="ToastAction",bC=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(CC,{altText:n,asChild:!0,children:u.jsx(mv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${TC}\`. Expected non-empty \`string\`.`),null)});bC.displayName=TC;var SC="ToastClose",mv=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=vM(SC,n);return u.jsx(CC,{asChild:!0,children:u.jsx(tt.button,{type:"button",...r,ref:e,onClick:Ne(t.onClick,s.onClose)})})});mv.displayName=SC;var CC=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(tt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function IC(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),bM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...IC(r))}}),e}function Ad(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?uC(s,i):s.dispatchEvent(i)}var i_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function TM(t=()=>{}){const e=us(t);ds(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function bM(t){return t.nodeType===t.ELEMENT_NODE}function SM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Cm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var CM=gC,PC=vC,AC=wC,NC=_C,RC=EC,kC=bC,jC=mv;function DC(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=DC(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function MC(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=DC(t))&&(r&&(r+=" "),r+=e);return r}const o_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,a_=MC,Wf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return a_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const h=n==null?void 0:n[c],f=i==null?void 0:i[c];if(h===null)return null;const p=o_(h)||o_(f);return s[c][p]}),a=n&&Object.entries(n).reduce((c,h)=>{let[f,p]=h;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(x=>{let[v,T]=x;return Array.isArray(T)?T.includes({...i,...a}[v]):{...i,...a}[v]===T})?[...c,f,p]:c},[]);return a_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VC=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...PM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:VC("lucide",s),...a},[...o.map(([c,h])=>b.createElement(c,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(t,e)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(AM,{ref:i,iconNode:e,className:VC(`lucide-${IM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yo=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gv=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=le("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=le("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=le("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=le("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ci=le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=le("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=le("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=le("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=le("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=le("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=le("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=le("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=le("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=le("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cu=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),vv="-",qM=t=>{const e=KM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(vv);return a[0]===""&&a.length!==1&&a.shift(),HC(a,e)||GM(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},HC=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?HC(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(vv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},f_=/^\[(.+)\]$/,GM=t=>{if(f_.test(t)){const e=f_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},KM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return YM(Object.entries(t.classGroups),n).forEach(([i,o])=>{sy(o,r,i,e)}),r},sy=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:p_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(QM(s)){sy(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{sy(o,p_(e,i),n,r)})})},p_=(t,e)=>{let n=t;return e.split(vv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},QM=t=>t.isThemeGetter,YM=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,XM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},WC="!",JM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let c=0,h=0,f;for(let T=0;T<a.length;T++){let _=a[T];if(c===0){if(_===s&&(r||a.slice(T,T+i)===e)){l.push(a.slice(h,T)),h=T+i;continue}if(_==="/"){f=T;continue}}_==="["?c++:_==="]"&&c--}const p=l.length===0?a:a.substring(h),m=p.startsWith(WC),x=m?p.substring(1):p,v=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:x,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},ZM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},e3=t=>({cache:XM(t.cacheSize),parseClassName:JM(t),...qM(t)}),t3=/\s+/,n3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(t3);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let x=!!m,v=r(x?p.substring(0,m):p);if(!v){if(!x){a=c+(a.length>0?" "+a:a);continue}if(v=r(p),!v){a=c+(a.length>0?" "+a:a);continue}x=!1}const T=ZM(h).join(":"),_=f?T+WC:T,y=_+v;if(i.includes(y))continue;i.push(y);const w=s(v,x);for(let A=0;A<w.length;++A){const j=w[A];i.push(_+j)}a=c+(a.length>0?" "+a:a)}return a};function r3(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=qC(e))&&(r&&(r+=" "),r+=n);return r}const qC=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=qC(t[r]))&&(n&&(n+=" "),n+=e);return n};function s3(t,...e){let n,r,s,i=o;function o(l){const c=e.reduce((h,f)=>f(h),t());return n=e3(c),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=n3(l,n);return s(l,h),h}return function(){return i(r3.apply(null,arguments))}}const Oe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},GC=/^\[(?:([a-z-]+):)?(.+)\]$/i,i3=/^\d+\/\d+$/,o3=new Set(["px","full","screen"]),a3=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l3=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c3=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,u3=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,d3=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gr=t=>_a(t)||o3.has(t)||i3.test(t),ks=t=>ll(t,"length",x3),_a=t=>!!t&&!Number.isNaN(Number(t)),Im=t=>ll(t,"number",_a),Kl=t=>!!t&&Number.isInteger(Number(t)),h3=t=>t.endsWith("%")&&_a(t.slice(0,-1)),me=t=>GC.test(t),js=t=>a3.test(t),f3=new Set(["length","size","percentage"]),p3=t=>ll(t,f3,KC),m3=t=>ll(t,"position",KC),g3=new Set(["image","url"]),y3=t=>ll(t,g3,_3),v3=t=>ll(t,"",w3),Ql=()=>!0,ll=(t,e,n)=>{const r=GC.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},x3=t=>l3.test(t)&&!c3.test(t),KC=()=>!1,w3=t=>u3.test(t),_3=t=>d3.test(t),E3=()=>{const t=Oe("colors"),e=Oe("spacing"),n=Oe("blur"),r=Oe("brightness"),s=Oe("borderColor"),i=Oe("borderRadius"),o=Oe("borderSpacing"),a=Oe("borderWidth"),l=Oe("contrast"),c=Oe("grayscale"),h=Oe("hueRotate"),f=Oe("invert"),p=Oe("gap"),m=Oe("gradientColorStops"),x=Oe("gradientColorStopPositions"),v=Oe("inset"),T=Oe("margin"),_=Oe("opacity"),y=Oe("padding"),w=Oe("saturate"),A=Oe("scale"),j=Oe("sepia"),V=Oe("skew"),C=Oe("space"),S=Oe("translate"),I=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",me,e],D=()=>[me,e],R=()=>["",Gr,ks],z=()=>["auto",_a,me],re=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],te=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",me],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[_a,me];return{cacheSize:500,separator:":",theme:{colors:[Ql],spacing:[Gr,ks],blur:["none","",js,me],brightness:se(),borderColor:[t],borderRadius:["none","","full",js,me],borderSpacing:D(),borderWidth:R(),contrast:se(),grayscale:L(),hueRotate:se(),invert:L(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[h3,ks],inset:k(),margin:k(),opacity:se(),padding:D(),saturate:se(),scale:se(),sepia:L(),skew:se(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",me]}],container:["container"],columns:[{columns:[js]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...re(),me]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kl,me]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",me]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Kl,me]}],"grid-cols":[{"grid-cols":[Ql]}],"col-start-end":[{col:["auto",{span:["full",Kl,me]},me]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Ql]}],"row-start-end":[{row:["auto",{span:[Kl,me]},me]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",me]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",me,e]}],"min-w":[{"min-w":[me,e,"min","max","fit"]}],"max-w":[{"max-w":[me,e,"none","full","min","max","fit","prose",{screen:[js]},js]}],h:[{h:[me,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[me,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[me,e,"auto","min","max","fit"]}],"font-size":[{text:["base",js,ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Im]}],"font-family":[{font:[Ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",me]}],"line-clamp":[{"line-clamp":["none",_a,Im]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Gr,me]}],"list-image":[{"list-image":["none",me]}],"list-style-type":[{list:["none","disc","decimal",me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...te(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Gr,ks]}],"underline-offset":[{"underline-offset":["auto",Gr,me]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...re(),m3]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",p3]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y3]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[x]}],"gradient-via-pos":[{via:[x]}],"gradient-to-pos":[{to:[x]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...te(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:te()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...te()]}],"outline-offset":[{"outline-offset":[Gr,me]}],"outline-w":[{outline:[Gr,ks]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Gr,ks]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",js,v3]}],"shadow-color":[{shadow:[Ql]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",js,me]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",me]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",me]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Kl,me]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[V]}],"skew-y":[{"skew-y":[V]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",me]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Gr,ks,Im]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},T3=s3(E3);function nt(...t){return T3(MC(t))}const b3=CM,QC=b.forwardRef(({className:t,...e},n)=>u.jsx(PC,{ref:n,className:nt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));QC.displayName=PC.displayName;const S3=Wf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),YC=b.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(AC,{ref:r,className:nt(S3({variant:e}),t),...n}));YC.displayName=AC.displayName;const C3=b.forwardRef(({className:t,...e},n)=>u.jsx(kC,{ref:n,className:nt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));C3.displayName=kC.displayName;const XC=b.forwardRef(({className:t,...e},n)=>u.jsx(jC,{ref:n,className:nt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Cu,{className:"h-4 w-4"})}));XC.displayName=jC.displayName;const JC=b.forwardRef(({className:t,...e},n)=>u.jsx(NC,{ref:n,className:nt("text-sm font-semibold",t),...e}));JC.displayName=NC.displayName;const ZC=b.forwardRef(({className:t,...e},n)=>u.jsx(RC,{ref:n,className:nt("text-sm opacity-90",t),...e}));ZC.displayName=RC.displayName;function I3(){const{toasts:t}=MD();return u.jsxs(b3,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(YC,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(JC,{children:n}),r&&u.jsx(ZC,{children:r})]}),s,u.jsx(XC,{})]},e)}),u.jsx(QC,{})]})}var m_=["light","dark"],P3="(prefers-color-scheme: dark)",A3=b.createContext(void 0),N3={setTheme:t=>{},themes:[]},R3=()=>{var t;return(t=b.useContext(A3))!=null?t:N3};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let c=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(x=>`'${x}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?m_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(x,v=!1,T=!0)=>{let _=o?o[x]:x,y=v?x+"|| ''":`'${_}'`,w="";return s&&T&&!v&&m_.includes(x)&&(w+=`d.style.colorScheme = '${x}';`),n==="class"?v||_?w+=`c.add(${y})`:w+="null":_&&(w+=`d[s](n,${y})`),w},m=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${P3}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var k3=t=>{switch(t){case"success":return M3;case"info":return O3;case"warning":return V3;case"error":return L3;default:return null}},j3=Array(12).fill(0),D3=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},j3.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),M3=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),V3=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),O3=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),L3=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),F3=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),U3=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},iy=1,B3=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:iy++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],W.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(z3(l)&&!l.ok){s=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:h})}else if(e.success!==void 0){s=!1;let c=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:h})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let c=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:h})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>i[0]==="reject"?c(i[1]):l(i[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||iy++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},an=new B3,$3=(t,e)=>{let n=(e==null?void 0:e.id)||iy++;return an.addToast({title:t,...e,id:n}),n},z3=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",H3=$3,W3=()=>an.toasts,q3=()=>an.getActiveToasts(),J=Object.assign(H3,{success:an.success,info:an.info,warning:an.warning,error:an.error,custom:an.custom,message:an.message,promise:an.promise,dismiss:an.dismiss,loading:an.loading},{getHistory:W3,getToasts:q3});function G3(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}G3(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Nd(t){return t.label!==void 0}var K3=3,Q3="32px",Y3="16px",g_=4e3,X3=356,J3=14,Z3=20,e5=200;function Qn(...t){return t.filter(Boolean).join(" ")}function t5(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var n5=t=>{var e,n,r,s,i,o,a,l,c,h,f;let{invert:p,toast:m,unstyled:x,interacting:v,setHeights:T,visibleToasts:_,heights:y,index:w,toasts:A,expanded:j,removeToast:V,defaultRichColors:C,closeButton:S,style:I,cancelButtonStyle:N,actionButtonStyle:k,className:D="",descriptionClassName:R="",duration:z,position:re,gap:te,loadingIcon:X,expandByDefault:M,classNames:L,icons:q,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:Z}=t,[ce,he]=W.useState(null),[Re,ot]=W.useState(null),[_e,pr]=W.useState(!1),[Wn,zr]=W.useState(!1),[mr,Hr]=W.useState(!1),[Pn,$i]=W.useState(!1),[Sl,Es]=W.useState(!1),[zi,Ts]=W.useState(0),[ze,_t]=W.useState(0),gr=W.useRef(m.duration||z||g_),Xu=W.useRef(null),yr=W.useRef(null),Mp=w===0,Hi=w+1<=_,Kt=m.type,Wr=m.dismissible!==!1,Cl=m.className||"",Vp=m.descriptionClassName||"",Bo=W.useMemo(()=>y.findIndex(ie=>ie.toastId===m.id)||0,[y,m.id]),Ju=W.useMemo(()=>{var ie;return(ie=m.closeButton)!=null?ie:S},[m.closeButton,S]),Il=W.useMemo(()=>m.duration||z||g_,[m.duration,z]),qr=W.useRef(0),vr=W.useRef(0),$o=W.useRef(0),sn=W.useRef(null),[Zu,zo]=re.split("-"),Pl=W.useMemo(()=>y.reduce((ie,Se,je)=>je>=Bo?ie:ie+Se.height,0),[y,Bo]),bs=U3(),ed=m.invert||p,pt=Kt==="loading";vr.current=W.useMemo(()=>Bo*te+Pl,[Bo,Pl]),W.useEffect(()=>{gr.current=Il},[Il]),W.useEffect(()=>{pr(!0)},[]),W.useEffect(()=>{let ie=yr.current;if(ie){let Se=ie.getBoundingClientRect().height;return _t(Se),T(je=>[{toastId:m.id,height:Se,position:m.position},...je]),()=>T(je=>je.filter(Et=>Et.toastId!==m.id))}},[T,m.id]),W.useLayoutEffect(()=>{if(!_e)return;let ie=yr.current,Se=ie.style.height;ie.style.height="auto";let je=ie.getBoundingClientRect().height;ie.style.height=Se,_t(je),T(Et=>Et.find(mn=>mn.toastId===m.id)?Et.map(mn=>mn.toastId===m.id?{...mn,height:je}:mn):[{toastId:m.id,height:je,position:m.position},...Et])},[_e,m.title,m.description,T,m.id]);let qn=W.useCallback(()=>{zr(!0),Ts(vr.current),T(ie=>ie.filter(Se=>Se.toastId!==m.id)),setTimeout(()=>{V(m)},e5)},[m,V,T,vr]);W.useEffect(()=>{if(m.promise&&Kt==="loading"||m.duration===1/0||m.type==="loading")return;let ie;return j||v||Z&&bs?(()=>{if($o.current<qr.current){let Se=new Date().getTime()-qr.current;gr.current=gr.current-Se}$o.current=new Date().getTime()})():gr.current!==1/0&&(qr.current=new Date().getTime(),ie=setTimeout(()=>{var Se;(Se=m.onAutoClose)==null||Se.call(m,m),qn()},gr.current)),()=>clearTimeout(ie)},[j,v,m,Kt,Z,bs,qn]),W.useEffect(()=>{m.delete&&qn()},[qn,m.delete]);function Wi(){var ie,Se,je;return q!=null&&q.loading?W.createElement("div",{className:Qn(L==null?void 0:L.loader,(ie=m==null?void 0:m.classNames)==null?void 0:ie.loader,"sonner-loader"),"data-visible":Kt==="loading"},q.loading):X?W.createElement("div",{className:Qn(L==null?void 0:L.loader,(Se=m==null?void 0:m.classNames)==null?void 0:Se.loader,"sonner-loader"),"data-visible":Kt==="loading"},X):W.createElement(D3,{className:Qn(L==null?void 0:L.loader,(je=m==null?void 0:m.classNames)==null?void 0:je.loader),visible:Kt==="loading"})}return W.createElement("li",{tabIndex:0,ref:yr,className:Qn(D,Cl,L==null?void 0:L.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Kt],(n=m==null?void 0:m.classNames)==null?void 0:n[Kt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||x),"data-mounted":_e,"data-promise":!!m.promise,"data-swiped":Sl,"data-removed":Wn,"data-visible":Hi,"data-y-position":Zu,"data-x-position":zo,"data-index":w,"data-front":Mp,"data-swiping":mr,"data-dismissible":Wr,"data-type":Kt,"data-invert":ed,"data-swipe-out":Pn,"data-swipe-direction":Re,"data-expanded":!!(j||M&&_e),style:{"--index":w,"--toasts-before":w,"--z-index":A.length-w,"--offset":`${Wn?zi:vr.current}px`,"--initial-height":M?"auto":`${ze}px`,...I,...m.style},onDragEnd:()=>{Hr(!1),he(null),sn.current=null},onPointerDown:ie=>{pt||!Wr||(Xu.current=new Date,Ts(vr.current),ie.target.setPointerCapture(ie.pointerId),ie.target.tagName!=="BUTTON"&&(Hr(!0),sn.current={x:ie.clientX,y:ie.clientY}))},onPointerUp:()=>{var ie,Se,je,Et;if(Pn||!Wr)return;sn.current=null;let mn=Number(((ie=yr.current)==null?void 0:ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xr=Number(((Se=yr.current)==null?void 0:Se.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),An=new Date().getTime()-((je=Xu.current)==null?void 0:je.getTime()),on=ce==="x"?mn:xr,Gn=Math.abs(on)/An;if(Math.abs(on)>=Z3||Gn>.11){Ts(vr.current),(Et=m.onDismiss)==null||Et.call(m,m),ot(ce==="x"?mn>0?"right":"left":xr>0?"down":"up"),qn(),$i(!0),Es(!1);return}Hr(!1),he(null)},onPointerMove:ie=>{var Se,je,Et,mn;if(!sn.current||!Wr||((Se=window.getSelection())==null?void 0:Se.toString().length)>0)return;let xr=ie.clientY-sn.current.y,An=ie.clientX-sn.current.x,on=(je=t.swipeDirections)!=null?je:t5(re);!ce&&(Math.abs(An)>1||Math.abs(xr)>1)&&he(Math.abs(An)>Math.abs(xr)?"x":"y");let Gn={x:0,y:0};ce==="y"?(on.includes("top")||on.includes("bottom"))&&(on.includes("top")&&xr<0||on.includes("bottom")&&xr>0)&&(Gn.y=xr):ce==="x"&&(on.includes("left")||on.includes("right"))&&(on.includes("left")&&An<0||on.includes("right")&&An>0)&&(Gn.x=An),(Math.abs(Gn.x)>0||Math.abs(Gn.y)>0)&&Es(!0),(Et=yr.current)==null||Et.style.setProperty("--swipe-amount-x",`${Gn.x}px`),(mn=yr.current)==null||mn.style.setProperty("--swipe-amount-y",`${Gn.y}px`)}},Ju&&!m.jsx?W.createElement("button",{"aria-label":se,"data-disabled":pt,"data-close-button":!0,onClick:pt||!Wr?()=>{}:()=>{var ie;qn(),(ie=m.onDismiss)==null||ie.call(m,m)},className:Qn(L==null?void 0:L.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=q==null?void 0:q.close)!=null?i:F3):null,m.jsx||b.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:W.createElement(W.Fragment,null,Kt||m.icon||m.promise?W.createElement("div",{"data-icon":"",className:Qn(L==null?void 0:L.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Wi():null,m.type!=="loading"?m.icon||(q==null?void 0:q[Kt])||k3(Kt):null):null,W.createElement("div",{"data-content":"",className:Qn(L==null?void 0:L.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Qn(L==null?void 0:L.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?W.createElement("div",{"data-description":"",className:Qn(R,Vp,L==null?void 0:L.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),b.isValidElement(m.cancel)?m.cancel:m.cancel&&Nd(m.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||N,onClick:ie=>{var Se,je;Nd(m.cancel)&&Wr&&((je=(Se=m.cancel).onClick)==null||je.call(Se,ie),qn())},className:Qn(L==null?void 0:L.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,b.isValidElement(m.action)?m.action:m.action&&Nd(m.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||k,onClick:ie=>{var Se,je;Nd(m.action)&&((je=(Se=m.action).onClick)==null||je.call(Se,ie),!ie.defaultPrevented&&qn())},className:Qn(L==null?void 0:L.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function y_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function r5(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?Y3:Q3;function l(c){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var s5=b.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:c,theme:h="light",richColors:f,duration:p,style:m,visibleToasts:x=K3,toastOptions:v,dir:T=y_(),gap:_=J3,loadingIcon:y,icons:w,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:j}=t,[V,C]=W.useState([]),S=W.useMemo(()=>Array.from(new Set([r].concat(V.filter(Z=>Z.position).map(Z=>Z.position)))),[V,r]),[I,N]=W.useState([]),[k,D]=W.useState(!1),[R,z]=W.useState(!1),[re,te]=W.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=W.useRef(null),M=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=W.useRef(null),q=W.useRef(!1),se=W.useCallback(Z=>{C(ce=>{var he;return(he=ce.find(Re=>Re.id===Z.id))!=null&&he.delete||an.dismiss(Z.id),ce.filter(({id:Re})=>Re!==Z.id)})},[]);return W.useEffect(()=>an.subscribe(Z=>{if(Z.dismiss){C(ce=>ce.map(he=>he.id===Z.id?{...he,delete:!0}:he));return}setTimeout(()=>{iC.flushSync(()=>{C(ce=>{let he=ce.findIndex(Re=>Re.id===Z.id);return he!==-1?[...ce.slice(0,he),{...ce[he],...Z},...ce.slice(he+1)]:[Z,...ce]})})})}),[]),W.useEffect(()=>{if(h!=="system"){te(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?te("dark"):te("light")),typeof window>"u")return;let Z=window.matchMedia("(prefers-color-scheme: dark)");try{Z.addEventListener("change",({matches:ce})=>{te(ce?"dark":"light")})}catch{Z.addListener(({matches:he})=>{try{te(he?"dark":"light")}catch(Re){console.error(Re)}})}},[h]),W.useEffect(()=>{V.length<=1&&D(!1)},[V]),W.useEffect(()=>{let Z=ce=>{var he,Re;s.every(ot=>ce[ot]||ce.code===ot)&&(D(!0),(he=X.current)==null||he.focus()),ce.code==="Escape"&&(document.activeElement===X.current||(Re=X.current)!=null&&Re.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",Z),()=>document.removeEventListener("keydown",Z)},[s]),W.useEffect(()=>{if(X.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,q.current=!1)}},[X.current]),W.createElement("section",{ref:e,"aria-label":`${A} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((Z,ce)=>{var he;let[Re,ot]=Z.split("-");return V.length?W.createElement("ol",{key:Z,dir:T==="auto"?y_():T,tabIndex:-1,ref:X,className:a,"data-sonner-toaster":!0,"data-theme":re,"data-y-position":Re,"data-lifted":k&&V.length>1&&!i,"data-x-position":ot,style:{"--front-toast-height":`${((he=I[0])==null?void 0:he.height)||0}px`,"--width":`${X3}px`,"--gap":`${_}px`,...m,...r5(l,c)},onBlur:_e=>{q.current&&!_e.currentTarget.contains(_e.relatedTarget)&&(q.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||q.current||(q.current=!0,L.current=_e.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{R||D(!1)},onDragEnd:()=>D(!1),onPointerDown:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||z(!0)},onPointerUp:()=>z(!1)},V.filter(_e=>!_e.position&&ce===0||_e.position===Z).map((_e,pr)=>{var Wn,zr;return W.createElement(n5,{key:_e.id,icons:w,index:pr,toast:_e,defaultRichColors:f,duration:(Wn=v==null?void 0:v.duration)!=null?Wn:p,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:x,closeButton:(zr=v==null?void 0:v.closeButton)!=null?zr:o,interacting:R,position:Z,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:se,toasts:V.filter(mr=>mr.position==_e.position),heights:I.filter(mr=>mr.position==_e.position),setHeights:N,expandByDefault:i,gap:_,loadingIcon:y,expanded:k,pauseWhenPageIsHidden:j,swipeDirections:t.swipeDirections})})):null}))});const i5=({...t})=>{const{theme:e="system"}=R3();return u.jsx(s5,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var o5=w0[" useId ".trim().toString()]||(()=>{}),a5=0;function eI(t){const[e,n]=b.useState(o5());return ds(()=>{t||n(r=>r??String(a5++))},[t]),t||(e?`radix-${e}`:"")}const l5=["top","right","bottom","left"],_i=Math.min,vn=Math.max,Wh=Math.round,Rd=Math.floor,kr=t=>({x:t,y:t}),c5={left:"right",right:"left",bottom:"top",top:"bottom"},u5={start:"end",end:"start"};function oy(t,e,n){return vn(t,_i(e,n))}function hs(t,e){return typeof t=="function"?t(e):t}function fs(t){return t.split("-")[0]}function cl(t){return t.split("-")[1]}function xv(t){return t==="x"?"y":"x"}function wv(t){return t==="y"?"height":"width"}const d5=new Set(["top","bottom"]);function Ar(t){return d5.has(fs(t))?"y":"x"}function _v(t){return xv(Ar(t))}function h5(t,e,n){n===void 0&&(n=!1);const r=cl(t),s=_v(t),i=wv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=qh(o)),[o,qh(o)]}function f5(t){const e=qh(t);return[ay(t),e,ay(e)]}function ay(t){return t.replace(/start|end/g,e=>u5[e])}const v_=["left","right"],x_=["right","left"],p5=["top","bottom"],m5=["bottom","top"];function g5(t,e,n){switch(t){case"top":case"bottom":return n?e?x_:v_:e?v_:x_;case"left":case"right":return e?p5:m5;default:return[]}}function y5(t,e,n,r){const s=cl(t);let i=g5(fs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(ay)))),i}function qh(t){return t.replace(/left|right|bottom|top/g,e=>c5[e])}function v5(t){return{top:0,right:0,bottom:0,left:0,...t}}function tI(t){return typeof t!="number"?v5(t):{top:t,right:t,bottom:t,left:t}}function Gh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function w_(t,e,n){let{reference:r,floating:s}=t;const i=Ar(e),o=_v(e),a=wv(o),l=fs(e),c=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(cl(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const x5=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=w_(c,r,l),p=r,m={},x=0;for(let v=0;v<a.length;v++){const{name:T,fn:_}=a[v],{x:y,y:w,data:A,reset:j}=await _({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});h=y??h,f=w??f,m={...m,[T]:{...m[T],...A}},j&&x<=50&&(x++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(c=j.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):j.rects),{x:h,y:f}=w_(c,p,l)),v=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:m}};async function Qc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=hs(e,t),x=tI(m),T=a[p?f==="floating"?"reference":"floating":f],_=Gh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),y=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Gh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:w,strategy:l}):y);return{top:(_.top-j.top+x.top)/A.y,bottom:(j.bottom-_.bottom+x.bottom)/A.y,left:(_.left-j.left+x.left)/A.x,right:(j.right-_.right+x.right)/A.x}}const w5=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=hs(t,e)||{};if(c==null)return{};const f=tI(h),p={x:n,y:r},m=_v(s),x=wv(m),v=await o.getDimensions(c),T=m==="y",_=T?"top":"left",y=T?"bottom":"right",w=T?"clientHeight":"clientWidth",A=i.reference[x]+i.reference[m]-p[m]-i.floating[x],j=p[m]-i.reference[m],V=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=V?V[w]:0;(!C||!await(o.isElement==null?void 0:o.isElement(V)))&&(C=a.floating[w]||i.floating[x]);const S=A/2-j/2,I=C/2-v[x]/2-1,N=_i(f[_],I),k=_i(f[y],I),D=N,R=C-v[x]-k,z=C/2-v[x]/2+S,re=oy(D,z,R),te=!l.arrow&&cl(s)!=null&&z!==re&&i.reference[x]/2-(z<D?N:k)-v[x]/2<0,X=te?z<D?z-D:z-R:0;return{[m]:p[m]+X,data:{[m]:re,centerOffset:z-re-X,...te&&{alignmentOffset:X}},reset:te}}}),_5=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:v=!0,...T}=hs(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=fs(s),y=Ar(a),w=fs(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(c.floating)),j=p||(w||!v?[qh(a)]:f5(a)),V=x!=="none";!p&&V&&j.push(...y5(a,v,x,A));const C=[a,...j],S=await Qc(e,T),I=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(S[_]),f){const z=h5(s,o,A);I.push(S[z[0]],S[z[1]])}if(N=[...N,{placement:s,overflows:I}],!I.every(z=>z<=0)){var k,D;const z=(((k=i.flip)==null?void 0:k.index)||0)+1,re=C[z];if(re&&(!(f==="alignment"?y!==Ar(re):!1)||N.every(M=>M.overflows[0]>0&&Ar(M.placement)===y)))return{data:{index:z,overflows:N},reset:{placement:re}};let te=(D=N.filter(X=>X.overflows[0]<=0).sort((X,M)=>X.overflows[1]-M.overflows[1])[0])==null?void 0:D.placement;if(!te)switch(m){case"bestFit":{var R;const X=(R=N.filter(M=>{if(V){const L=Ar(M.placement);return L===y||L==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(L=>L>0).reduce((L,q)=>L+q,0)]).sort((M,L)=>M[1]-L[1])[0])==null?void 0:R[0];X&&(te=X);break}case"initialPlacement":te=a;break}if(s!==te)return{reset:{placement:te}}}return{}}}};function __(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function E_(t){return l5.some(e=>t[e]>=0)}const E5=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=hs(t,e);switch(r){case"referenceHidden":{const i=await Qc(e,{...s,elementContext:"reference"}),o=__(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:E_(o)}}}case"escaped":{const i=await Qc(e,{...s,altBoundary:!0}),o=__(i,n.floating);return{data:{escapedOffsets:o,escaped:E_(o)}}}default:return{}}}}},nI=new Set(["left","top"]);async function T5(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=fs(n),a=cl(n),l=Ar(n)==="y",c=nI.has(o)?-1:1,h=i&&l?-1:1,f=hs(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:x}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof x=="number"&&(m=a==="end"?x*-1:x),l?{x:m*h,y:p*c}:{x:p*c,y:m*h}}const b5=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await T5(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},S5=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:_,y}=T;return{x:_,y}}},...l}=hs(t,e),c={x:n,y:r},h=await Qc(e,l),f=Ar(fs(s)),p=xv(f);let m=c[p],x=c[f];if(i){const T=p==="y"?"top":"left",_=p==="y"?"bottom":"right",y=m+h[T],w=m-h[_];m=oy(y,m,w)}if(o){const T=f==="y"?"top":"left",_=f==="y"?"bottom":"right",y=x+h[T],w=x-h[_];x=oy(y,x,w)}const v=a.fn({...e,[p]:m,[f]:x});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[p]:i,[f]:o}}}}}},C5=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=hs(t,e),h={x:n,y:r},f=Ar(s),p=xv(f);let m=h[p],x=h[f];const v=hs(a,e),T=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const w=p==="y"?"height":"width",A=i.reference[p]-i.floating[w]+T.mainAxis,j=i.reference[p]+i.reference[w]-T.mainAxis;m<A?m=A:m>j&&(m=j)}if(c){var _,y;const w=p==="y"?"width":"height",A=nI.has(fs(s)),j=i.reference[f]-i.floating[w]+(A&&((_=o.offset)==null?void 0:_[f])||0)+(A?0:T.crossAxis),V=i.reference[f]+i.reference[w]+(A?0:((y=o.offset)==null?void 0:y[f])||0)-(A?T.crossAxis:0);x<j?x=j:x>V&&(x=V)}return{[p]:m,[f]:x}}}},I5=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=hs(t,e),h=await Qc(e,c),f=fs(s),p=cl(s),m=Ar(s)==="y",{width:x,height:v}=i.floating;let T,_;f==="top"||f==="bottom"?(T=f,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,T=p==="end"?"top":"bottom");const y=v-h.top-h.bottom,w=x-h.left-h.right,A=_i(v-h[T],y),j=_i(x-h[_],w),V=!e.middlewareData.shift;let C=A,S=j;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=w),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=y),V&&!p){const N=vn(h.left,0),k=vn(h.right,0),D=vn(h.top,0),R=vn(h.bottom,0);m?S=x-2*(N!==0||k!==0?N+k:vn(h.left,h.right)):C=v-2*(D!==0||R!==0?D+R:vn(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:C});const I=await o.getDimensions(a.floating);return x!==I.width||v!==I.height?{reset:{rects:!0}}:{}}}};function Xf(){return typeof window<"u"}function ul(t){return rI(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $r(t){var e;return(e=(rI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rI(t){return Xf()?t instanceof Node||t instanceof Tn(t).Node:!1}function dr(t){return Xf()?t instanceof Element||t instanceof Tn(t).Element:!1}function Fr(t){return Xf()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function T_(t){return!Xf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}const P5=new Set(["inline","contents"]);function Iu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=hr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!P5.has(s)}const A5=new Set(["table","td","th"]);function N5(t){return A5.has(ul(t))}const R5=[":popover-open",":modal"];function Jf(t){return R5.some(e=>{try{return t.matches(e)}catch{return!1}})}const k5=["transform","translate","scale","rotate","perspective"],j5=["transform","translate","scale","rotate","perspective","filter"],D5=["paint","layout","strict","content"];function Ev(t){const e=Tv(),n=dr(t)?hr(t):t;return k5.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||j5.some(r=>(n.willChange||"").includes(r))||D5.some(r=>(n.contain||"").includes(r))}function M5(t){let e=Ei(t);for(;Fr(e)&&!Wa(e);){if(Ev(e))return e;if(Jf(e))return null;e=Ei(e)}return null}function Tv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const V5=new Set(["html","body","#document"]);function Wa(t){return V5.has(ul(t))}function hr(t){return Tn(t).getComputedStyle(t)}function Zf(t){return dr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ei(t){if(ul(t)==="html")return t;const e=t.assignedSlot||t.parentNode||T_(t)&&t.host||$r(t);return T_(e)?e.host:e}function sI(t){const e=Ei(t);return Wa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fr(e)&&Iu(e)?e:sI(e)}function Yc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=sI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Tn(s);if(i){const a=ly(o);return e.concat(o,o.visualViewport||[],Iu(s)?s:[],a&&n?Yc(a):[])}return e.concat(s,Yc(s,[],n))}function ly(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function iI(t){const e=hr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Wh(n)!==i||Wh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function bv(t){return dr(t)?t:t.contextElement}function Ea(t){const e=bv(t);if(!Fr(e))return kr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=iI(e);let o=(i?Wh(n.width):n.width)/r,a=(i?Wh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const O5=kr(0);function oI(t){const e=Tn(t);return!Tv()||!e.visualViewport?O5:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function L5(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function Io(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=bv(t);let o=kr(1);e&&(r?dr(r)&&(o=Ea(r)):o=Ea(t));const a=L5(i,n,r)?oI(i):kr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=Tn(i),m=r&&dr(r)?Tn(r):r;let x=p,v=ly(x);for(;v&&r&&m!==x;){const T=Ea(v),_=v.getBoundingClientRect(),y=hr(v),w=_.left+(v.clientLeft+parseFloat(y.paddingLeft))*T.x,A=_.top+(v.clientTop+parseFloat(y.paddingTop))*T.y;l*=T.x,c*=T.y,h*=T.x,f*=T.y,l+=w,c+=A,x=Tn(v),v=ly(x)}}return Gh({width:h,height:f,x:l,y:c})}function Sv(t,e){const n=Zf(t).scrollLeft;return e?e.left+n:Io($r(t)).left+n}function aI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Sv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function F5(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=$r(r),a=e?Jf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=kr(1);const h=kr(0),f=Fr(r);if((f||!f&&!i)&&((ul(r)!=="body"||Iu(o))&&(l=Zf(r)),Fr(r))){const m=Io(r);c=Ea(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const p=o&&!f&&!i?aI(o,l,!0):kr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+p.x,y:n.y*c.y-l.scrollTop*c.y+h.y+p.y}}function U5(t){return Array.from(t.getClientRects())}function B5(t){const e=$r(t),n=Zf(t),r=t.ownerDocument.body,s=vn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=vn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Sv(t);const a=-n.scrollTop;return hr(r).direction==="rtl"&&(o+=vn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function $5(t,e){const n=Tn(t),r=$r(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=Tv();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const z5=new Set(["absolute","fixed"]);function H5(t,e){const n=Io(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Fr(t)?Ea(t):kr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function b_(t,e,n){let r;if(e==="viewport")r=$5(t,n);else if(e==="document")r=B5($r(t));else if(dr(e))r=H5(e,n);else{const s=oI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Gh(r)}function lI(t,e){const n=Ei(t);return n===e||!dr(n)||Wa(n)?!1:hr(n).position==="fixed"||lI(n,e)}function W5(t,e){const n=e.get(t);if(n)return n;let r=Yc(t,[],!1).filter(a=>dr(a)&&ul(a)!=="body"),s=null;const i=hr(t).position==="fixed";let o=i?Ei(t):t;for(;dr(o)&&!Wa(o);){const a=hr(o),l=Ev(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&z5.has(s.position)||Iu(o)&&!l&&lI(t,o))?r=r.filter(h=>h!==o):s=a,o=Ei(o)}return e.set(t,r),r}function q5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Jf(e)?[]:W5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const f=b_(e,h,s);return c.top=vn(f.top,c.top),c.right=_i(f.right,c.right),c.bottom=_i(f.bottom,c.bottom),c.left=vn(f.left,c.left),c},b_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function G5(t){const{width:e,height:n}=iI(t);return{width:e,height:n}}function K5(t,e,n){const r=Fr(e),s=$r(e),i=n==="fixed",o=Io(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=kr(0);function c(){l.x=Sv(s)}if(r||!r&&!i)if((ul(e)!=="body"||Iu(s))&&(a=Zf(e)),r){const m=Io(e,!0,i,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else s&&c();i&&!r&&s&&c();const h=s&&!r&&!i?aI(s,a):kr(0),f=o.left+a.scrollLeft-l.x-h.x,p=o.top+a.scrollTop-l.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function Pm(t){return hr(t).position==="static"}function S_(t,e){if(!Fr(t)||hr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $r(t)===n&&(n=n.ownerDocument.body),n}function cI(t,e){const n=Tn(t);if(Jf(t))return n;if(!Fr(t)){let s=Ei(t);for(;s&&!Wa(s);){if(dr(s)&&!Pm(s))return s;s=Ei(s)}return n}let r=S_(t,e);for(;r&&N5(r)&&Pm(r);)r=S_(r,e);return r&&Wa(r)&&Pm(r)&&!Ev(r)?n:r||M5(t)||n}const Q5=async function(t){const e=this.getOffsetParent||cI,n=this.getDimensions,r=await n(t.floating);return{reference:K5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Y5(t){return hr(t).direction==="rtl"}const X5={convertOffsetParentRelativeRectToViewportRelativeRect:F5,getDocumentElement:$r,getClippingRect:q5,getOffsetParent:cI,getElementRects:Q5,getClientRects:U5,getDimensions:G5,getScale:Ea,isElement:dr,isRTL:Y5};function uI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function J5(t,e){let n=null,r;const s=$r(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:h,top:f,width:p,height:m}=c;if(a||e(),!p||!m)return;const x=Rd(f),v=Rd(s.clientWidth-(h+p)),T=Rd(s.clientHeight-(f+m)),_=Rd(h),w={rootMargin:-x+"px "+-v+"px "+-T+"px "+-_+"px",threshold:vn(0,_i(1,l))||1};let A=!0;function j(V){const C=V[0].intersectionRatio;if(C!==l){if(!A)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!uI(c,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(j,w)}n.observe(t)}return o(!0),i}function Z5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=bv(t),h=s||i?[...c?Yc(c):[],...Yc(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=c&&a?J5(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[y]=_;y&&y.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let x,v=l?Io(t):null;l&&T();function T(){const _=Io(t);v&&!uI(v,_)&&n(),v=_,x=requestAnimationFrame(T)}return n(),()=>{var _;h.forEach(y=>{s&&y.removeEventListener("scroll",n),i&&y.removeEventListener("resize",n)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,l&&cancelAnimationFrame(x)}}const eV=b5,tV=S5,nV=_5,rV=I5,sV=E5,C_=w5,iV=C5,oV=(t,e,n)=>{const r=new Map,s={platform:X5,...n},i={...s.platform,_c:r};return x5(t,e,{...s,platform:i})};var aV=typeof document<"u",lV=function(){},sh=aV?b.useLayoutEffect:lV;function Kh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Kh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function dI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function I_(t,e){const n=dI(t);return Math.round(e*n)/n}function Am(t){const e=b.useRef(t);return sh(()=>{e.current=t}),e}function cV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=b.useState(r);Kh(p,r)||m(r);const[x,v]=b.useState(null),[T,_]=b.useState(null),y=b.useCallback(M=>{M!==V.current&&(V.current=M,v(M))},[]),w=b.useCallback(M=>{M!==C.current&&(C.current=M,_(M))},[]),A=i||x,j=o||T,V=b.useRef(null),C=b.useRef(null),S=b.useRef(h),I=l!=null,N=Am(l),k=Am(s),D=Am(c),R=b.useCallback(()=>{if(!V.current||!C.current)return;const M={placement:e,strategy:n,middleware:p};k.current&&(M.platform=k.current),oV(V.current,C.current,M).then(L=>{const q={...L,isPositioned:D.current!==!1};z.current&&!Kh(S.current,q)&&(S.current=q,bu.flushSync(()=>{f(q)}))})},[p,e,n,k,D]);sh(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[c]);const z=b.useRef(!1);sh(()=>(z.current=!0,()=>{z.current=!1}),[]),sh(()=>{if(A&&(V.current=A),j&&(C.current=j),A&&j){if(N.current)return N.current(A,j,R);R()}},[A,j,R,N,I]);const re=b.useMemo(()=>({reference:V,floating:C,setReference:y,setFloating:w}),[y,w]),te=b.useMemo(()=>({reference:A,floating:j}),[A,j]),X=b.useMemo(()=>{const M={position:n,left:0,top:0};if(!te.floating)return M;const L=I_(te.floating,h.x),q=I_(te.floating,h.y);return a?{...M,transform:"translate("+L+"px, "+q+"px)",...dI(te.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:q}},[n,a,te.floating,h.x,h.y]);return b.useMemo(()=>({...h,update:R,refs:re,elements:te,floatingStyles:X}),[h,R,re,te,X])}const uV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?C_({element:r.current,padding:s}).fn(n):{}:r?C_({element:r,padding:s}).fn(n):{}}}},dV=(t,e)=>({...eV(t),options:[t,e]}),hV=(t,e)=>({...tV(t),options:[t,e]}),fV=(t,e)=>({...iV(t),options:[t,e]}),pV=(t,e)=>({...nV(t),options:[t,e]}),mV=(t,e)=>({...rV(t),options:[t,e]}),gV=(t,e)=>({...sV(t),options:[t,e]}),yV=(t,e)=>({...uV(t),options:[t,e]});var vV="Arrow",hI=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(tt.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});hI.displayName=vV;var xV=hI;function wV(t){const[e,n]=b.useState(void 0);return ds(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var fI="Popper",[pI,mI]=al(fI),[AG,gI]=pI(fI),yI="PopperAnchor",vI=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=gI(yI,n),o=b.useRef(null),a=zn(e,o);return b.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(tt.div,{...s,ref:a})});vI.displayName=yI;var Cv="PopperContent",[_V,EV]=pI(Cv),xI=b.forwardRef((t,e)=>{var _e,pr,Wn,zr,mr,Hr;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:x,...v}=t,T=gI(Cv,n),[_,y]=b.useState(null),w=zn(e,Pn=>y(Pn)),[A,j]=b.useState(null),V=wV(A),C=(V==null?void 0:V.width)??0,S=(V==null?void 0:V.height)??0,I=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},k=Array.isArray(c)?c:[c],D=k.length>0,R={padding:N,boundary:k.filter(bV),altBoundary:D},{refs:z,floatingStyles:re,placement:te,isPositioned:X,middlewareData:M}=cV({strategy:"fixed",placement:I,whileElementsMounted:(...Pn)=>Z5(...Pn,{animationFrame:m==="always"}),elements:{reference:T.anchor},middleware:[dV({mainAxis:s+S,alignmentAxis:o}),l&&hV({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?fV():void 0,...R}),l&&pV({...R}),mV({...R,apply:({elements:Pn,rects:$i,availableWidth:Sl,availableHeight:Es})=>{const{width:zi,height:Ts}=$i.reference,ze=Pn.floating.style;ze.setProperty("--radix-popper-available-width",`${Sl}px`),ze.setProperty("--radix-popper-available-height",`${Es}px`),ze.setProperty("--radix-popper-anchor-width",`${zi}px`),ze.setProperty("--radix-popper-anchor-height",`${Ts}px`)}}),A&&yV({element:A,padding:a}),SV({arrowWidth:C,arrowHeight:S}),p&&gV({strategy:"referenceHidden",...R})]}),[L,q]=EI(te),se=us(x);ds(()=>{X&&(se==null||se())},[X,se]);const Z=(_e=M.arrow)==null?void 0:_e.x,ce=(pr=M.arrow)==null?void 0:pr.y,he=((Wn=M.arrow)==null?void 0:Wn.centerOffset)!==0,[Re,ot]=b.useState();return ds(()=>{_&&ot(window.getComputedStyle(_).zIndex)},[_]),u.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...re,transform:X?re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[(zr=M.transformOrigin)==null?void 0:zr.x,(mr=M.transformOrigin)==null?void 0:mr.y].join(" "),...((Hr=M.hide)==null?void 0:Hr.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(_V,{scope:n,placedSide:L,onArrowChange:j,arrowX:Z,arrowY:ce,shouldHideArrow:he,children:u.jsx(tt.div,{"data-side":L,"data-align":q,...v,ref:w,style:{...v.style,animation:X?void 0:"none"}})})})});xI.displayName=Cv;var wI="PopperArrow",TV={top:"bottom",right:"left",bottom:"top",left:"right"},_I=b.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=EV(wI,r),o=TV[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(xV,{...s,ref:n,style:{...s.style,display:"block"}})})});_I.displayName=wI;function bV(t){return t!==null}var SV=t=>({name:"transformOrigin",options:t,fn(e){var T,_,y;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=EI(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+l/2;let x="",v="";return c==="bottom"?(x=o?f:`${p}px`,v=`${-l}px`):c==="top"?(x=o?f:`${p}px`,v=`${r.floating.height+l}px`):c==="right"?(x=`${-l}px`,v=o?f:`${m}px`):c==="left"&&(x=`${r.floating.width+l}px`,v=o?f:`${m}px`),{data:{x,y:v}}}});function EI(t){const[e,n="center"]=t.split("-");return[e,n]}var CV=vI,IV=xI,PV=_I,[ep,NG]=al("Tooltip",[mI]),Iv=mI(),TI="TooltipProvider",AV=700,P_="tooltip.open",[NV,bI]=ep(TI),SI=t=>{const{__scopeTooltip:e,delayDuration:n=AV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=b.useRef(!0),a=b.useRef(!1),l=b.useRef(0);return b.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(NV,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:b.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:i})};SI.displayName=TI;var CI="Tooltip",[RG,tp]=ep(CI),cy="TooltipTrigger",RV=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=tp(cy,n),i=bI(cy,n),o=Iv(n),a=b.useRef(null),l=zn(e,a,s.onTriggerChange),c=b.useRef(!1),h=b.useRef(!1),f=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(CV,{asChild:!0,...o,children:u.jsx(tt.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:Ne(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:Ne(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:Ne(t.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ne(t.onFocus,()=>{c.current||s.onOpen()}),onBlur:Ne(t.onBlur,s.onClose),onClick:Ne(t.onClick,s.onClose)})})});RV.displayName=cy;var kV="TooltipPortal",[kG,jV]=ep(kV,{forceMount:void 0}),qa="TooltipContent",II=b.forwardRef((t,e)=>{const n=jV(qa,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=tp(qa,t.__scopeTooltip);return u.jsx($f,{present:r||o.open,children:o.disableHoverableContent?u.jsx(PI,{side:s,...i,ref:e}):u.jsx(DV,{side:s,...i,ref:e})})}),DV=b.forwardRef((t,e)=>{const n=tp(qa,t.__scopeTooltip),r=bI(qa,t.__scopeTooltip),s=b.useRef(null),i=zn(e,s),[o,a]=b.useState(null),{trigger:l,onClose:c}=n,h=s.current,{onPointerInTransitChange:f}=r,p=b.useCallback(()=>{a(null),f(!1)},[f]),m=b.useCallback((x,v)=>{const T=x.currentTarget,_={x:x.clientX,y:x.clientY},y=FV(_,T.getBoundingClientRect()),w=UV(_,y),A=BV(v.getBoundingClientRect()),j=zV([...w,...A]);a(j),f(!0)},[f]);return b.useEffect(()=>()=>p(),[p]),b.useEffect(()=>{if(l&&h){const x=T=>m(T,h),v=T=>m(T,l);return l.addEventListener("pointerleave",x),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",x),h.removeEventListener("pointerleave",v)}}},[l,h,m,p]),b.useEffect(()=>{if(o){const x=v=>{const T=v.target,_={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(T))||(h==null?void 0:h.contains(T)),w=!$V(_,o);y?p():w&&(p(),c())};return document.addEventListener("pointermove",x),()=>document.removeEventListener("pointermove",x)}},[l,h,o,c,p]),u.jsx(PI,{...t,ref:i})}),[MV,VV]=ep(CI,{isInside:!1}),OV=FD("TooltipContent"),PI=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=tp(qa,n),c=Iv(n),{onClose:h}=l;return b.useEffect(()=>(document.addEventListener(P_,h),()=>document.removeEventListener(P_,h)),[h]),b.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),u.jsx(dv,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:u.jsxs(IV,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(OV,{children:r}),u.jsx(MV,{scope:n,isInside:!0,children:u.jsx(lM,{id:l.contentId,role:"tooltip",children:s||r})})]})})});II.displayName=qa;var AI="TooltipArrow",LV=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Iv(n);return VV(AI,n).isInside?null:u.jsx(PV,{...s,...r,ref:e})});LV.displayName=AI;function FV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function UV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function BV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function $V(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,h=a.y,f=l.x,p=l.y;h>r!=p>r&&n<(f-c)*(r-h)/(p-h)+c&&(s=!s)}return s}function zV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),HV(e)}function HV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var WV=SI,NI=II;const qV=WV,GV=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(NI,{ref:r,sideOffset:e,className:nt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));GV.displayName=NI.displayName;var np=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rp=typeof window>"u"||"Deno"in globalThis;function Zn(){}function KV(t,e){return typeof t=="function"?t(e):t}function QV(t){return typeof t=="number"&&t>=0&&t!==1/0}function YV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function uy(t,e){return typeof t=="function"?t(e):t}function XV(t,e){return typeof t=="function"?t(e):t}function A_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Pv(o,e.options))return!1}else if(!Jc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function N_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Xc(e.options.mutationKey)!==Xc(i))return!1}else if(!Jc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Pv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Xc)(t)}function Xc(t){return JSON.stringify(t,(e,n)=>dy(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Jc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Jc(t[n],e[n])):!1}function RI(t,e){if(t===e)return t;const n=R_(t)&&R_(e);if(n||dy(t)&&dy(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let c=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=RI(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return s===o&&c===s?t:a}return e}function R_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function dy(t){if(!k_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!k_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function k_(t){return Object.prototype.toString.call(t)==="[object Object]"}function JV(t){return new Promise(e=>{setTimeout(e,t)})}function ZV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?RI(t,e):e}function eO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function tO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Av=Symbol();function kI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Av?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var lo,Ws,Na,Lb,nO=(Lb=class extends np{constructor(){super();be(this,lo);be(this,Ws);be(this,Na);fe(this,Na,e=>{if(!rp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Ws)||this.setEventListener(U(this,Na))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ws))==null||e.call(this),fe(this,Ws,void 0))}setEventListener(e){var n;fe(this,Na,e),(n=U(this,Ws))==null||n.call(this),fe(this,Ws,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,lo)!==e&&(fe(this,lo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,lo)=="boolean"?U(this,lo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},lo=new WeakMap,Ws=new WeakMap,Na=new WeakMap,Lb),jI=new nO,Ra,qs,ka,Fb,rO=(Fb=class extends np{constructor(){super();be(this,Ra,!0);be(this,qs);be(this,ka);fe(this,ka,e=>{if(!rp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,qs)||this.setEventListener(U(this,ka))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,qs))==null||e.call(this),fe(this,qs,void 0))}setEventListener(e){var n;fe(this,ka,e),(n=U(this,qs))==null||n.call(this),fe(this,qs,e(this.setOnline.bind(this)))}setOnline(e){U(this,Ra)!==e&&(fe(this,Ra,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Ra)}},Ra=new WeakMap,qs=new WeakMap,ka=new WeakMap,Fb),Qh=new rO;function sO(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function iO(t){return Math.min(1e3*2**t,3e4)}function DI(t){return(t??"online")==="online"?Qh.isOnline():!0}var MI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Nm(t){return t instanceof MI}function VI(t){let e=!1,n=0,r=!1,s;const i=sO(),o=v=>{var T;r||(p(new MI(v)),(T=t.abort)==null||T.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>jI.isFocused()&&(t.networkMode==="always"||Qh.isOnline())&&t.canRun(),h=()=>DI(t.networkMode)&&t.canRun(),f=v=>{var T;r||(r=!0,(T=t.onSuccess)==null||T.call(t,v),s==null||s(),i.resolve(v))},p=v=>{var T;r||(r=!0,(T=t.onError)==null||T.call(t,v),s==null||s(),i.reject(v))},m=()=>new Promise(v=>{var T;s=_=>{(r||c())&&v(_)},(T=t.onPause)==null||T.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),x=()=>{if(r)return;let v;const T=n===0?t.initialPromise:void 0;try{v=T??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(f).catch(_=>{var V;if(r)return;const y=t.retry??(rp?0:3),w=t.retryDelay??iO,A=typeof w=="function"?w(n,_):w,j=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,_);if(e||!j){p(_);return}n++,(V=t.onFail)==null||V.call(t,n,_),JV(A).then(()=>c()?void 0:m()).then(()=>{e?p(_):x()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?x():m().then(x),i)}}var oO=t=>setTimeout(t,0);function aO(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=oO;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Xt=aO(),co,Ub,OI=(Ub=class{constructor(){be(this,co)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QV(this.gcTime)&&fe(this,co,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(rp?1/0:5*60*1e3))}clearGcTimeout(){U(this,co)&&(clearTimeout(U(this,co)),fe(this,co,void 0))}},co=new WeakMap,Ub),ja,uo,Rn,ho,Lt,yu,fo,er,Kr,Bb,lO=(Bb=class extends OI{constructor(n){super();be(this,er);be(this,ja);be(this,uo);be(this,Rn);be(this,ho);be(this,Lt);be(this,yu);be(this,fo);fe(this,fo,!1),fe(this,yu,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,ho,n.client),fe(this,Rn,U(this,ho).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,ja,uO(this.options)),this.state=n.state??U(this,ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Lt))==null?void 0:n.promise}setOptions(n){this.options={...U(this,yu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Rn).remove(this)}setData(n,r){const s=ZV(this.state.data,n,this.options);return Dt(this,er,Kr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Dt(this,er,Kr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=U(this,Lt))==null?void 0:s.promise;return(i=U(this,Lt))==null||i.cancel(n),r?r.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ja))}isActive(){return this.observers.some(n=>XV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Av||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>uy(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!YV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Lt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Lt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,Rn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Lt)&&(U(this,fo)?U(this,Lt).cancel({revert:!0}):U(this,Lt).cancelRetry()),this.scheduleGc()),U(this,Rn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Dt(this,er,Kr).call(this,{type:"invalidate"})}fetch(n,r){var h,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Lt))return U(this,Lt).continueRetry(),U(this,Lt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(x=>x.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(fe(this,fo,!0),s.signal)})},o=()=>{const m=kI(this.options,r),v=(()=>{const T={client:U(this,ho),queryKey:this.queryKey,meta:this.meta};return i(T),T})();return fe(this,fo,!1),this.options.persister?this.options.persister(m,v,this):m(v)},l=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,ho),state:this.state,fetchFn:o};return i(m),m})();(h=this.options.behavior)==null||h.onFetch(l,this),fe(this,uo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Dt(this,er,Kr).call(this,{type:"fetch",meta:(p=l.fetchOptions)==null?void 0:p.meta});const c=m=>{var x,v,T,_;Nm(m)&&m.silent||Dt(this,er,Kr).call(this,{type:"error",error:m}),Nm(m)||((v=(x=U(this,Rn).config).onError)==null||v.call(x,m,this),(_=(T=U(this,Rn).config).onSettled)==null||_.call(T,this.state.data,m,this)),this.scheduleGc()};return fe(this,Lt,VI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var x,v,T,_;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(y){c(y);return}(v=(x=U(this,Rn).config).onSuccess)==null||v.call(x,m,this),(_=(T=U(this,Rn).config).onSettled)==null||_.call(T,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,x)=>{Dt(this,er,Kr).call(this,{type:"failed",failureCount:m,error:x})},onPause:()=>{Dt(this,er,Kr).call(this,{type:"pause"})},onContinue:()=>{Dt(this,er,Kr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),U(this,Lt).start()}},ja=new WeakMap,uo=new WeakMap,Rn=new WeakMap,ho=new WeakMap,Lt=new WeakMap,yu=new WeakMap,fo=new WeakMap,er=new WeakSet,Kr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...cO(s.data,this.options),fetchMeta:n.meta??null};case"success":return fe(this,uo,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Nm(i)&&i.revert&&U(this,uo)?{...U(this,uo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Xt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,Rn).notify({query:this,type:"updated",action:n})})},Bb);function cO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:DI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function uO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Sr,$b,dO=($b=class extends np{constructor(e={}){super();be(this,Sr);this.config=e,fe(this,Sr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Pv(s,n);let o=this.get(i);return o||(o=new lO({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){U(this,Sr).has(e.queryHash)||(U(this,Sr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,Sr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,Sr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,Sr).get(e)}getAll(){return[...U(this,Sr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>A_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>A_(e,r)):n}notify(e){Xt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Xt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Sr=new WeakMap,$b),Cr,Qt,po,Ir,Ms,zb,hO=(zb=class extends OI{constructor(n){super();be(this,Ir);be(this,Cr);be(this,Qt);be(this,po);this.mutationId=n.mutationId,fe(this,Qt,n.mutationCache),fe(this,Cr,[]),this.state=n.state||fO(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,Cr).includes(n)||(U(this,Cr).push(n),this.clearGcTimeout(),U(this,Qt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){fe(this,Cr,U(this,Cr).filter(r=>r!==n)),this.scheduleGc(),U(this,Qt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,Cr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Qt).remove(this))}continue(){var n;return((n=U(this,po))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,c,h,f,p,m,x,v,T,_,y,w,A,j,V,C,S,I;const r=()=>{Dt(this,Ir,Ms).call(this,{type:"continue"})};fe(this,po,VI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{Dt(this,Ir,Ms).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{Dt(this,Ir,Ms).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Qt).canRun(this)}));const s=this.state.status==="pending",i=!U(this,po).canStart();try{if(s)r();else{Dt(this,Ir,Ms).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=U(this,Qt).config).onMutate)==null?void 0:a.call(o,n,this));const k=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));k!==this.state.context&&Dt(this,Ir,Ms).call(this,{type:"pending",context:k,variables:n,isPaused:i})}const N=await U(this,po).start();return await((f=(h=U(this,Qt).config).onSuccess)==null?void 0:f.call(h,N,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,N,n,this.state.context)),await((v=(x=U(this,Qt).config).onSettled)==null?void 0:v.call(x,N,null,this.state.variables,this.state.context,this)),await((_=(T=this.options).onSettled)==null?void 0:_.call(T,N,null,n,this.state.context)),Dt(this,Ir,Ms).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(y=U(this,Qt).config).onError)==null?void 0:w.call(y,N,n,this.state.context,this)),await((j=(A=this.options).onError)==null?void 0:j.call(A,N,n,this.state.context)),await((C=(V=U(this,Qt).config).onSettled)==null?void 0:C.call(V,void 0,N,this.state.variables,this.state.context,this)),await((I=(S=this.options).onSettled)==null?void 0:I.call(S,void 0,N,n,this.state.context)),N}finally{Dt(this,Ir,Ms).call(this,{type:"error",error:N})}}finally{U(this,Qt).runNext(this)}}},Cr=new WeakMap,Qt=new WeakMap,po=new WeakMap,Ir=new WeakSet,Ms=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Xt.batch(()=>{U(this,Cr).forEach(s=>{s.onMutationUpdate(n)}),U(this,Qt).notify({mutation:this,type:"updated",action:n})})},zb);function fO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xr,tr,vu,Hb,pO=(Hb=class extends np{constructor(e={}){super();be(this,Xr);be(this,tr);be(this,vu);this.config=e,fe(this,Xr,new Set),fe(this,tr,new Map),fe(this,vu,0)}build(e,n,r){const s=new hO({mutationCache:this,mutationId:++ud(this,vu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,Xr).add(e);const n=kd(e);if(typeof n=="string"){const r=U(this,tr).get(n);r?r.push(e):U(this,tr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,Xr).delete(e)){const n=kd(e);if(typeof n=="string"){const r=U(this,tr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,tr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=kd(e);if(typeof n=="string"){const r=U(this,tr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=kd(e);if(typeof n=="string"){const s=(r=U(this,tr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xt.batch(()=>{U(this,Xr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,Xr).clear(),U(this,tr).clear()})}getAll(){return Array.from(U(this,Xr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>N_(n,r))}findAll(e={}){return this.getAll().filter(n=>N_(e,n))}notify(e){Xt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Xt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Zn))))}},Xr=new WeakMap,tr=new WeakMap,vu=new WeakMap,Hb);function kd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function j_(t){return{onFetch:(e,n)=>{var h,f,p,m,x;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((x=e.state.data)==null?void 0:x.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const T=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=kI(e.options,e.fetchOptions),y=async(w,A,j)=>{if(v)return Promise.reject();if(A==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:A,direction:j?"backward":"forward",meta:e.options.meta};return T(k),k})(),S=await _(C),{maxPages:I}=e.options,N=j?tO:eO;return{pages:N(w.pages,S,I),pageParams:N(w.pageParams,A,I)}};if(s&&i.length){const w=s==="backward",A=w?mO:D_,j={pages:i,pageParams:o},V=A(r,j);a=await y(j,V,w)}else{const w=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:D_(r,a);if(l>0&&A==null)break;a=await y(a,A),l++}while(l<w)}return a};e.options.persister?e.fetchFn=()=>{var v,T;return(T=(v=e.options).persister)==null?void 0:T.call(v,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function D_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function mO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Xe,Gs,Ks,Da,Ma,Qs,Va,Oa,Wb,gO=(Wb=class{constructor(t={}){be(this,Xe);be(this,Gs);be(this,Ks);be(this,Da);be(this,Ma);be(this,Qs);be(this,Va);be(this,Oa);fe(this,Xe,t.queryCache||new dO),fe(this,Gs,t.mutationCache||new pO),fe(this,Ks,t.defaultOptions||{}),fe(this,Da,new Map),fe(this,Ma,new Map),fe(this,Qs,0)}mount(){ud(this,Qs)._++,U(this,Qs)===1&&(fe(this,Va,jI.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Xe).onFocus())})),fe(this,Oa,Qh.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,Xe).onOnline())})))}unmount(){var t,e;ud(this,Qs)._--,U(this,Qs)===0&&((t=U(this,Va))==null||t.call(this),fe(this,Va,void 0),(e=U(this,Oa))==null||e.call(this),fe(this,Oa,void 0))}isFetching(t){return U(this,Xe).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Gs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Xe).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,Xe).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(uy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,Xe).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,Xe).get(r.queryHash),i=s==null?void 0:s.state.data,o=KV(e,i);if(o!==void 0)return U(this,Xe).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Xt.batch(()=>U(this,Xe).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,Xe).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,Xe);Xt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,Xe);return Xt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Xt.batch(()=>U(this,Xe).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Zn).catch(Zn)}invalidateQueries(t,e={}){return Xt.batch(()=>(U(this,Xe).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Xt.batch(()=>U(this,Xe).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Zn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,Xe).build(this,e);return n.isStaleByTime(uy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zn).catch(Zn)}fetchInfiniteQuery(t){return t.behavior=j_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zn).catch(Zn)}ensureInfiniteQueryData(t){return t.behavior=j_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Qh.isOnline()?U(this,Gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,Xe)}getMutationCache(){return U(this,Gs)}getDefaultOptions(){return U(this,Ks)}setDefaultOptions(t){fe(this,Ks,t)}setQueryDefaults(t,e){U(this,Da).set(Xc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Da).values()],n={};return e.forEach(r=>{Jc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Ma).set(Xc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Ma).values()],n={};return e.forEach(r=>{Jc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Ks).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Pv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Av&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Ks).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,Xe).clear(),U(this,Gs).clear()}},Xe=new WeakMap,Gs=new WeakMap,Ks=new WeakMap,Da=new WeakMap,Ma=new WeakMap,Qs=new WeakMap,Va=new WeakMap,Oa=new WeakMap,Wb),yO=b.createContext(void 0),vO=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(yO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}var Js;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Js||(Js={}));const M_="popstate";function xO(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return hy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Yh(s)}return _O(e,n,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wO(){return Math.random().toString(36).substr(2,8)}function V_(t,e){return{usr:t.state,key:t.key,idx:e}}function hy(t,e,n,r){return n===void 0&&(n=null),Zc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?dl(e):e,{state:n,key:e&&e.key||r||wO()})}function Yh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function dl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _O(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Js.Pop,l=null,c=h();c==null&&(c=0,o.replaceState(Zc({},o.state,{idx:c}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=Js.Pop;let T=h(),_=T==null?null:T-c;c=T,l&&l({action:a,location:v.location,delta:_})}function p(T,_){a=Js.Push;let y=hy(v.location,T,_);c=h()+1;let w=V_(y,c),A=v.createHref(y);try{o.pushState(w,"",A)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(A)}i&&l&&l({action:a,location:v.location,delta:1})}function m(T,_){a=Js.Replace;let y=hy(v.location,T,_);c=h();let w=V_(y,c),A=v.createHref(y);o.replaceState(w,"",A),i&&l&&l({action:a,location:v.location,delta:0})}function x(T){let _=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof T=="string"?T:Yh(T);return y=y.replace(/ $/,"%20"),ht(_,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,_)}let v={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(M_,f),l=T,()=>{s.removeEventListener(M_,f),l=null}},createHref(T){return e(s,T)},createURL:x,encodeLocation(T){let _=x(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(T){return o.go(T)}};return v}var O_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(O_||(O_={}));function EO(t,e,n){return n===void 0&&(n="/"),TO(t,e,n,!1)}function TO(t,e,n,r){let s=typeof e=="string"?dl(e):e,i=Nv(s.pathname||"/",n);if(i==null)return null;let o=FI(t);bO(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=MO(i);a=jO(o[l],c,r)}return a}function FI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ui([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(ht(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),FI(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:RO(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of UI(i.path))s(i,o,l)}),e}function UI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=UI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function bO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SO=/^:[\w-]+$/,CO=3,IO=2,PO=1,AO=10,NO=-2,L_=t=>t==="*";function RO(t,e){let n=t.split("/"),r=n.length;return n.some(L_)&&(r+=NO),e&&(r+=IO),n.filter(s=>!L_(s)).reduce((s,i)=>s+(SO.test(i)?CO:i===""?PO:AO),r)}function kO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function jO(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=F_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=F_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:ui([i,f.pathname]),pathnameBase:FO(ui([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=ui([i,f.pathnameBase]))}return o}function F_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DO(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const x=a[f];return m&&!x?c[p]=void 0:c[p]=(x||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function DO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),LI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function MO(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return LI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Nv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?dl(t):t;return{pathname:n?n.startsWith("/")?n:OO(n,e):e,search:UO(r),hash:BO(s)}}function OO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Rm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function LO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function BI(t,e){let n=LO(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $I(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=dl(t):(s=Zc({},t),ht(!s.pathname||!s.pathname.includes("?"),Rm("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Rm("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Rm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=VO(s,a),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||h)&&(l.pathname+="/"),l}const ui=t=>t.join("/").replace(/\/\/+/g,"/"),FO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),UO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,BO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $O(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zI=["post","put","patch","delete"];new Set(zI);const zO=["get",...zI];new Set(zO);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eu.apply(this,arguments)}const Rv=b.createContext(null),HO=b.createContext(null),Vo=b.createContext(null),sp=b.createContext(null),Oo=b.createContext({outlet:null,matches:[],isDataRoute:!1}),HI=b.createContext(null);function WO(t,e){let{relative:n}=e===void 0?{}:e;Pu()||ht(!1);let{basename:r,navigator:s}=b.useContext(Vo),{hash:i,pathname:o,search:a}=qI(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ui([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Pu(){return b.useContext(sp)!=null}function Au(){return Pu()||ht(!1),b.useContext(sp).location}function WI(t){b.useContext(Vo).static||b.useLayoutEffect(t)}function Nu(){let{isDataRoute:t}=b.useContext(Oo);return t?sL():qO()}function qO(){Pu()||ht(!1);let t=b.useContext(Rv),{basename:e,future:n,navigator:r}=b.useContext(Vo),{matches:s}=b.useContext(Oo),{pathname:i}=Au(),o=JSON.stringify(BI(s,n.v7_relativeSplatPath)),a=b.useRef(!1);return WI(()=>{a.current=!0}),b.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=$I(c,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:ui([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function qI(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(Vo),{matches:s}=b.useContext(Oo),{pathname:i}=Au(),o=JSON.stringify(BI(s,r.v7_relativeSplatPath));return b.useMemo(()=>$I(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function GO(t,e){return KO(t,e)}function KO(t,e,n,r){Pu()||ht(!1);let{navigator:s}=b.useContext(Vo),{matches:i}=b.useContext(Oo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Au(),h;if(e){var f;let T=typeof e=="string"?dl(e):e;l==="/"||(f=T.pathname)!=null&&f.startsWith(l)||ht(!1),h=T}else h=c;let p=h.pathname||"/",m=p;if(l!=="/"){let T=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(T.length).join("/")}let x=EO(t,{pathname:m}),v=ZO(x&&x.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:ui([l,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:ui([l,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&v?b.createElement(sp.Provider,{value:{location:eu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Js.Pop}},v):v}function QO(){let t=rL(),e=$O(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const YO=b.createElement(QO,null);class XO extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(Oo.Provider,{value:this.props.routeContext},b.createElement(HI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JO(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(Rv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Oo.Provider,{value:e},r)}function ZO(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||ht(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:p,errors:m}=n,x=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||x){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let m,x=!1,v=null,T=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||YO,l&&(c<0&&p===0?(x=!0,T=null):c===p&&(x=!0,T=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),y=()=>{let w;return m?w=v:x?w=T:f.route.Component?w=b.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=h,b.createElement(JO,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?b.createElement(XO,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:y(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):y()},null)}var GI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GI||{}),Xh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Xh||{});function eL(t){let e=b.useContext(Rv);return e||ht(!1),e}function tL(t){let e=b.useContext(HO);return e||ht(!1),e}function nL(t){let e=b.useContext(Oo);return e||ht(!1),e}function KI(t){let e=nL(),n=e.matches[e.matches.length-1];return n.route.id||ht(!1),n.route.id}function rL(){var t;let e=b.useContext(HI),n=tL(Xh.UseRouteError),r=KI(Xh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sL(){let{router:t}=eL(GI.UseNavigateStable),e=KI(Xh.UseNavigateStable),n=b.useRef(!1);return WI(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,eu({fromRouteId:e},i)))},[t,e])}function iL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Vs(t){ht(!1)}function oL(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Js.Pop,navigator:i,static:o=!1,future:a}=t;Pu()&&ht(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:eu({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=dl(r));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:x="default"}=r,v=b.useMemo(()=>{let T=Nv(h,l);return T==null?null:{location:{pathname:T,search:f,hash:p,state:m,key:x},navigationType:s}},[l,h,f,p,m,x,s]);return v==null?null:b.createElement(Vo.Provider,{value:c},b.createElement(sp.Provider,{children:n,value:v}))}function aL(t){let{children:e,location:n}=t;return GO(fy(e),n)}new Promise(()=>{});function fy(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,fy(r.props.children,i));return}r.type!==Vs&&ht(!1),!r.props.index||!r.props.children||ht(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function py(){return py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},py.apply(this,arguments)}function lL(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function cL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uL(t,e){return t.button===0&&(!e||e==="_self")&&!cL(t)}const dL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hL="6";try{window.__reactRouterVersion=hL}catch{}const fL="startTransition",U_=w0[fL];function pL(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=xO({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},h=b.useCallback(f=>{c&&U_?U_(()=>l(f)):l(f)},[l,c]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.useEffect(()=>iL(r),[r]),b.createElement(oL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const mL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vt=b.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:h,viewTransition:f}=e,p=lL(e,dL),{basename:m}=b.useContext(Vo),x,v=!1;if(typeof c=="string"&&gL.test(c)&&(x=c,mL))try{let w=new URL(window.location.href),A=c.startsWith("//")?new URL(w.protocol+c):new URL(c),j=Nv(A.pathname,m);A.origin===w.origin&&j!=null?c=j+A.search+A.hash:v=!0}catch{}let T=WO(c,{relative:s}),_=yL(c,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function y(w){r&&r(w),w.defaultPrevented||_(w)}return b.createElement("a",py({},p,{href:x||T,onClick:v||i?r:y,ref:n,target:l}))});var B_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(B_||(B_={}));var $_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($_||($_={}));function yL(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=Nu(),c=Au(),h=qI(t,{relative:o});return b.useCallback(f=>{if(uL(f,n)){f.preventDefault();let p=r!==void 0?r:Yh(c)===Yh(h);l(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,h,r,s,n,t,i,o,a])}const QI=b.createContext(void 0);function vL({children:t}){const[e,n]=b.useState(()=>{const c=localStorage.getItem("cart");return c?JSON.parse(c):[]});b.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const r=c=>{n(h=>h.find(p=>p.id===c.id)?h.map(p=>p.id===c.id?{...p,quantity:p.quantity+1}:p):[...h,{id:c.id,name:c.name,icon:c.icon,image:c.image,price:c.price,quantity:1}])},s=c=>{n(h=>h.filter(f=>f.id!==c))},i=(c,h)=>{if(h<=0){s(c);return}n(f=>f.map(p=>p.id===c?{...p,quantity:h}:p))},o=()=>{n([])},a=()=>e.reduce((c,h)=>c+h.price*h.quantity,0),l=()=>e.reduce((c,h)=>c+h.quantity,0);return u.jsx(QI.Provider,{value:{cart:e,addToCart:r,removeFromCart:s,updateQuantity:i,clearCart:o,getTotal:a,getItemCount:l},children:t})}function ip(){const t=b.useContext(QI);if(!t)throw new Error("useCart must be used within a CartProvider");return t}const xL=()=>{};var z_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},XI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(p=64)),r.push(n[h],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(YI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new _L;const p=i<<2|a>>4;if(r.push(p),c!==64){const m=a<<4&240|c>>2;if(r.push(m),f!==64){const x=c<<6&192|f;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _L extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EL=function(t){const e=YI(t);return XI.encodeByteArray(e,!0)},Jh=function(t){return EL(t).replace(/\./g,"")},JI=function(t){try{return XI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL=()=>TL().__FIREBASE_DEFAULTS__,SL=()=>{if(typeof process>"u"||typeof z_>"u")return;const t=z_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},CL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&JI(t[1]);return e&&JSON.parse(e)},op=()=>{try{return xL()||bL()||SL()||CL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZI=t=>{var e,n;return(n=(e=op())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},IL=t=>{const e=ZI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},eP=()=>{var t;return(t=op())==null?void 0:t.config},tP=t=>{var e;return(e=op())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function nP(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AL(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Jh(JSON.stringify(n)),Jh(JSON.stringify(o)),""].join(".")}const _c={};function NL(){const t={prod:[],emulator:[]};for(const e of Object.keys(_c))_c[e]?t.emulator.push(e):t.prod.push(e);return t}function RL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let H_=!1;function rP(t,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||_c[t]===e||_c[t]||H_)return;_c[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=NL().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function l(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function c(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{H_=!0,o()},p}function h(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=RL(r),m=n("text"),x=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),T=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),y=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const w=p.element;a(w),h(T,v);const A=c();l(y,_),w.append(y,x,T,A),document.body.appendChild(w)}i?(x.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function jL(){var e;const t=(e=op())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ML(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function VL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OL(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LL(){return!jL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FL(){try{return typeof indexedDB=="object"}catch{return!1}}function UL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BL,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ru.prototype.create)}}class Ru{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$L(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ws(s,a,r)}}function $L(t,e){return t.replace(zL,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const zL=/\{\$([^}]+)}/g;function HL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Po(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(W_(i)&&W_(o)){if(!Po(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function W_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function rc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WL(t,e){const n=new qL(t,e);return n.subscribe.bind(n)}class qL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=km),s.error===void 0&&(s.error=km),s.complete===void 0&&(s.complete=km);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function km(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class Ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YL(e))try{this.getOrInitializeService({instanceIdentifier:Zi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Zi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zi){return this.instances.has(e)}getOptions(e=Zi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:QL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zi){return this.component?this.component.multipleInstances?e:Zi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QL(t){return t===Zi?void 0:t}function YL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ve||(ve={}));const JL={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},ZL=ve.INFO,e6={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},t6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=e6[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kv{constructor(e){this.name=e,this._logLevel=ZL,this._logHandler=t6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}const n6=(t,e)=>e.some(n=>t instanceof n);let q_,G_;function r6(){return q_||(q_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s6(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sP=new WeakMap,my=new WeakMap,iP=new WeakMap,jm=new WeakMap,jv=new WeakMap;function i6(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(di(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&sP.set(n,t)}).catch(()=>{}),jv.set(e,t),e}function o6(t){if(my.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});my.set(t,e)}let gy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return my.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iP.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return di(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function a6(t){gy=t(gy)}function l6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dm(this),e,...n);return iP.set(r,e.sort?e.sort():[e]),di(r)}:s6().includes(t)?function(...e){return t.apply(Dm(this),e),di(sP.get(this))}:function(...e){return di(t.apply(Dm(this),e))}}function c6(t){return typeof t=="function"?l6(t):(t instanceof IDBTransaction&&o6(t),n6(t,r6())?new Proxy(t,gy):t)}function di(t){if(t instanceof IDBRequest)return i6(t);if(jm.has(t))return jm.get(t);const e=c6(t);return e!==t&&(jm.set(t,e),jv.set(e,t)),e}const Dm=t=>jv.get(t);function u6(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=di(o);return r&&o.addEventListener("upgradeneeded",l=>{r(di(o.result),l.oldVersion,l.newVersion,di(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const d6=["get","getKey","getAll","getAllKeys","count"],h6=["put","add","delete","clear"],Mm=new Map;function K_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=h6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||d6.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Mm.set(e,i),i}a6(t=>({...t,get:(e,n,r)=>K_(e,n)||t.get(e,n,r),has:(e,n)=>!!K_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function p6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yy="@firebase/app",Q_="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new kv("@firebase/app"),m6="@firebase/app-compat",g6="@firebase/analytics-compat",y6="@firebase/analytics",v6="@firebase/app-check-compat",x6="@firebase/app-check",w6="@firebase/auth",_6="@firebase/auth-compat",E6="@firebase/database",T6="@firebase/data-connect",b6="@firebase/database-compat",S6="@firebase/functions",C6="@firebase/functions-compat",I6="@firebase/installations",P6="@firebase/installations-compat",A6="@firebase/messaging",N6="@firebase/messaging-compat",R6="@firebase/performance",k6="@firebase/performance-compat",j6="@firebase/remote-config",D6="@firebase/remote-config-compat",M6="@firebase/storage",V6="@firebase/storage-compat",O6="@firebase/firestore",L6="@firebase/ai",F6="@firebase/firestore-compat",U6="firebase",B6="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy="[DEFAULT]",$6={[yy]:"fire-core",[m6]:"fire-core-compat",[y6]:"fire-analytics",[g6]:"fire-analytics-compat",[x6]:"fire-app-check",[v6]:"fire-app-check-compat",[w6]:"fire-auth",[_6]:"fire-auth-compat",[E6]:"fire-rtdb",[T6]:"fire-data-connect",[b6]:"fire-rtdb-compat",[S6]:"fire-fn",[C6]:"fire-fn-compat",[I6]:"fire-iid",[P6]:"fire-iid-compat",[A6]:"fire-fcm",[N6]:"fire-fcm-compat",[R6]:"fire-perf",[k6]:"fire-perf-compat",[j6]:"fire-rc",[D6]:"fire-rc-compat",[M6]:"fire-gcs",[V6]:"fire-gcs-compat",[O6]:"fire-fst",[F6]:"fire-fst-compat",[L6]:"fire-vertex","fire-js":"fire-js",[U6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,z6=new Map,xy=new Map;function Y_(t,e){try{t.container.addComponent(e)}catch(n){ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ga(t){const e=t.name;if(xy.has(e))return ps.debug(`There were multiple attempts to register component ${e}.`),!1;xy.set(e,t);for(const n of Zh.values())Y_(n,t);for(const n of z6.values())Y_(n,t);return!0}function Dv(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hi=new Ru("app","Firebase",H6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=B6;function oP(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:vy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw hi.create("bad-app-name",{appName:String(s)});if(n||(n=eP()),!n)throw hi.create("no-options");const i=Zh.get(s);if(i){if(Po(n,i.options)&&Po(r,i.config))return i;throw hi.create("duplicate-app",{appName:s})}const o=new XL(s);for(const l of xy.values())o.addComponent(l);const a=new W6(n,r,o);return Zh.set(s,a),a}function aP(t=vy){const e=Zh.get(t);if(!e&&t===vy&&eP())return oP();if(!e)throw hi.create("no-app",{appName:t});return e}function fi(t,e,n){let r=$6[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ps.warn(o.join(" "));return}Ga(new Ao(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q6="firebase-heartbeat-database",G6=1,tu="firebase-heartbeat-store";let Vm=null;function lP(){return Vm||(Vm=u6(q6,G6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw hi.create("idb-open",{originalErrorMessage:t.message})})),Vm}async function K6(t){try{const n=(await lP()).transaction(tu),r=await n.objectStore(tu).get(cP(t));return await n.done,r}catch(e){if(e instanceof ws)ps.warn(e.message);else{const n=hi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ps.warn(n.message)}}}async function X_(t,e){try{const r=(await lP()).transaction(tu,"readwrite");await r.objectStore(tu).put(e,cP(t)),await r.done}catch(n){if(n instanceof ws)ps.warn(n.message);else{const r=hi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ps.warn(r.message)}}}function cP(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q6=1024,Y6=30;class X6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=J_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>Y6){const o=eF(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=J_(),{heartbeatsToSend:r,unsentEntries:s}=J6(this._heartbeatsCache.heartbeats),i=Jh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return ps.warn(n),""}}}function J_(){return new Date().toISOString().substring(0,10)}function J6(t,e=Q6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Z_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Z_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Z6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FL()?UL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return X_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Z_(t){return Jh(JSON.stringify({version:2,heartbeats:t})).length}function eF(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t){Ga(new Ao("platform-logger",e=>new f6(e),"PRIVATE")),Ga(new Ao("heartbeat",e=>new X6(e),"PRIVATE")),fi(yy,Q_,t),fi(yy,Q_,"esm2020"),fi("fire-js","")}tF("");function uP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nF=uP,dP=new Ru("auth","Firebase",uP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new kv("@firebase/auth");function rF(t,...e){ef.logLevel<=ve.WARN&&ef.warn(`Auth (${fl}): ${t}`,...e)}function ih(t,...e){ef.logLevel<=ve.ERROR&&ef.error(`Auth (${fl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(t,...e){throw Vv(t,...e)}function lr(t,...e){return Vv(t,...e)}function Mv(t,e,n){const r={...nF(),[e]:n};return new Ru("auth","Firebase",r).create(e,{appName:t.name})}function rs(t){return Mv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sF(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Hn(t,"argument-error"),Mv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dP.create(t,...e)}function oe(t,e,...n){if(!t)throw Vv(e,...n)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ih(e),new Error(e)}function ms(t,e){t||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function iF(){return eE()==="http:"||eE()==="https:"}function eE(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iF()||ML()||"connection"in navigator)?navigator.onLine:!0}function aF(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=kL()||VL()}get(){return oF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],uF=new ju(3e4,6e4);function Vi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function _s(t,e,n,r,s={}){return fP(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=ku({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...i};return DL()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&hl(t.emulatorConfig.host)&&(c.credentials="include"),hP.fetch()(await pP(t,t.config.apiHost,n,a),c)})}async function fP(t,e,n){t._canInitEmulator=!1;const r={...lF,...e};try{const s=new hF(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw jd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw jd(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Mv(t,h,c);Hn(t,h)}}catch(s){if(s instanceof ws)throw s;Hn(t,"network-request-failed",{message:String(s)})}}async function Du(t,e,n,r,s={}){const i=await _s(t,e,n,r,s);return"mfaPendingCredential"in i&&Hn(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function pP(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Ov(t.config,s):`${t.config.apiScheme}://${s}`;return cF.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function dF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class hF{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(lr(this.auth,"network-request-failed")),uF.get())})}}function jd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=lr(t,e,r);return s.customData._tokenResponse=n,s}function tE(t){return t!==void 0&&t.enterprise!==void 0}class fF{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pF(t,e){return _s(t,"GET","/v2/recaptchaConfig",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mF(t,e){return _s(t,"POST","/v1/accounts:delete",e)}async function tf(t,e){return _s(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gF(t,e=!1){const n=ft(t),r=await n.getIdToken(e),s=Lv(r);oe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ec(Om(s.auth_time)),issuedAtTime:Ec(Om(s.iat)),expirationTime:Ec(Om(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Om(t){return Number(t)*1e3}function Lv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ih("JWT malformed, contained fewer than 3 sections"),null;try{const s=JI(n);return s?JSON.parse(s):(ih("Failed to decode base64 JWT payload"),null)}catch(s){return ih("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function nE(t){const e=Lv(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ka(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&yF(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nf(t){var f;const e=t.auth,n=await t.getIdToken(),r=await Ka(t,tf(e,{idToken:n}));oe(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?mP(s.providerUserInfo):[],o=wF(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new _y(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function xF(t){const e=ft(t);await nf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wF(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function mP(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _F(t,e){const n=await fP(t,{},async()=>{const r=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await pP(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&hl(t.emulatorConfig.host)&&(l.credentials="include"),hP.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EF(t,e){return _s(t,"POST","/v2/accounts:revokeToken",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=nE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await _F(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ta;return r&&(oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(oe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(oe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ta,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ir{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new vF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _y(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ka(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gF(this,e)}reload(){return xF(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await nf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await Ka(this,mF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:x,stsTokenManager:v}=n;oe(f&&v,e,"internal-error");const T=Ta.fromJSON(this.name,v);oe(typeof f=="string",e,"internal-error"),Ds(r,e.name),Ds(s,e.name),oe(typeof p=="boolean",e,"internal-error"),oe(typeof m=="boolean",e,"internal-error"),Ds(i,e.name),Ds(o,e.name),Ds(a,e.name),Ds(l,e.name),Ds(c,e.name),Ds(h,e.name);const _=new ir({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:T,createdAt:c,lastLoginAt:h});return x&&Array.isArray(x)&&(_.providerData=x.map(y=>({...y}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ta;s.updateFromServerResponse(n);const i=new ir({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await nf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];oe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?mP(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ta;a.updateFromIdToken(r);const l=new ir({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new _y(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE=new Map;function ts(t){ms(t instanceof Function,"Expected a class definition");let e=rE.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}gP.type="NONE";const sE=gP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){return`firebase:${t}:${e}:${n}`}class ba{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=oh(this.userKey,s.apiKey,i),this.fullPersistenceKey=oh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await tf(this.auth,{idToken:e}).catch(()=>{});return n?ir._fromGetAccountInfoResponse(this.auth,n,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ba(ts(sE),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||ts(sE);const o=oh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let f;if(typeof h=="string"){const p=await tf(e,{idToken:h}).catch(()=>{});if(!p)break;f=await ir._fromGetAccountInfoResponse(e,p,h)}else f=ir._fromJSON(e,h);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ba(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new ba(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EP(e))return"Blackberry";if(TP(e))return"Webos";if(vP(e))return"Safari";if((e.includes("chrome/")||xP(e))&&!e.includes("edge/"))return"Chrome";if(_P(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function yP(t=Gt()){return/firefox\//i.test(t)}function vP(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xP(t=Gt()){return/crios\//i.test(t)}function wP(t=Gt()){return/iemobile/i.test(t)}function _P(t=Gt()){return/android/i.test(t)}function EP(t=Gt()){return/blackberry/i.test(t)}function TP(t=Gt()){return/webos/i.test(t)}function Fv(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TF(t=Gt()){var e;return Fv(t)&&!!((e=window.navigator)!=null&&e.standalone)}function bF(){return OL()&&document.documentMode===10}function bP(t=Gt()){return Fv(t)||_P(t)||TP(t)||EP(t)||/windows phone/i.test(t)||wP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t,e=[]){let n;switch(t){case"Browser":n=iE(Gt());break;case"Worker":n=`${iE(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CF(t,e={}){return _s(t,"GET","/v2/passwordPolicy",Vi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IF=6;class PF{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??IF,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oE(this),this.idTokenSubscription=new oE(this),this.beforeStateQueue=new SF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ba.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tf(this,{idToken:e}),r=await ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(xn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aF()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(rs(this));const n=e?ft(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CF(this),n=new PF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ru("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ts(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await ba.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=SP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&rF(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Oi(t){return ft(t)}class oE{constructor(e){this.auth=e,this.observer=null,this.addObserver=WL(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NF(t){ap=t}function CP(t){return ap.loadJS(t)}function RF(){return ap.recaptchaEnterpriseScript}function kF(){return ap.gapiScript}function jF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class DF{constructor(){this.enterprise=new MF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VF="recaptcha-enterprise",IP="NO_RECAPTCHA";class OF{constructor(e){this.type=VF,this.auth=Oi(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{pF(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new fF(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;tE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(IP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new DF().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&tE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=RF();l.length!==0&&(l+=a),CP(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function aE(t,e,n,r=!1,s=!1){const i=new OF(t);let o;if(s)o=IP;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ey(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await aE(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await aE(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LF(t,e){const n=Dv(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Po(i,e??{}))return s;Hn(s,"already-initialized")}return n.initialize({options:e})}function FF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function UF(t,e,n){const r=Oi(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=PP(e),{host:o,port:a}=BF(e),l=a===null?"":`:${a}`,c={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(Po(c,r.config.emulator)&&Po(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,hl(o)?(nP(`${i}//${o}${l}`),rP("Auth",!0)):$F()}function PP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function BF(t){const e=PP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:lE(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:lE(o)}}}function lE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $F(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function zF(t,e){return _s(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HF(t,e){return Du(t,"POST","/v1/accounts:signInWithPassword",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WF(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}async function qF(t,e){return Du(t,"POST","/v1/accounts:signInWithEmailLink",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends Uv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ey(e,n,"signInWithPassword",HF);case"emailLink":return WF(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ey(e,r,"signUpPassword",zF);case"emailLink":return qF(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e){return Du(t,"POST","/v1/accounts:signInWithIdp",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF="http://localhost";class No extends Uv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new No(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new No(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sa(e,n)}buildRequest(){const e={requestUri:GF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ku(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QF(t){const e=nc(rc(t)).link,n=e?nc(rc(e)).deep_link_id:null,r=nc(rc(t)).deep_link_id;return(r?nc(rc(r)).link:null)||r||n||e||t}class Bv{constructor(e){const n=nc(rc(e)),r=n.apiKey??null,s=n.oobCode??null,i=KF(n.mode??null);oe(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=QF(e);try{return new Bv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(){this.providerId=pl.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bv.parseLink(n);return oe(r,"argument-error"),nu._fromEmailAndCode(e,r.code,r.tenantId)}}pl.PROVIDER_ID="password";pl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends Mu{constructor(){super("facebook.com")}static credential(e){return No._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return No._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Mu{constructor(){super("github.com")}static credential(e){return No._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zs.credential(e.oauthAccessToken)}catch{return null}}}zs.GITHUB_SIGN_IN_METHOD="github.com";zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Mu{constructor(){super("twitter.com")}static credential(e,n){return No._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YF(t,e){return Du(t,"POST","/v1/accounts:signUp",Vi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ir._fromIdTokenResponse(e,r,s),o=cE(r);return new Ro({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=cE(r);return new Ro({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function cE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends ws{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,rf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new rf(e,n,r,s)}}function AP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?rf._fromErrorAndOperation(t,i,e,r):i})}async function XF(t,e,n=!1){const r=await Ka(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ro._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JF(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(rs(r));const s="reauthenticate";try{const i=await Ka(t,AP(r,s,e,t),n);oe(i.idToken,r,"internal-error");const o=Lv(i.idToken);oe(o,r,"internal-error");const{sub:a}=o;return oe(t.uid===a,r,"user-mismatch"),Ro._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Hn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(t,e,n=!1){if(xn(t.app))return Promise.reject(rs(t));const r="signIn",s=await AP(t,r,e),i=await Ro._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function ZF(t,e){return NP(Oi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t){const e=Oi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e9(t,e,n){if(xn(t.app))return Promise.reject(rs(t));const r=Oi(t),o=await Ey(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YF).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&RP(t),l}),a=await Ro._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function t9(t,e,n){return xn(t.app)?Promise.reject(rs(t)):ZF(ft(t),pl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&RP(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n9(t,e){return _s(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r9(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ft(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ka(r,n9(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function s9(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function i9(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function kP(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function o9(t){return ft(t).signOut()}const sf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sf,"1"),this.storage.removeItem(sf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=1e3,l9=10;class DP extends jP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);bF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,l9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},a9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}DP.type="LOCAL";const c9=DP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP extends jP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MP.type="SESSION";const VP=MP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new lp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await u9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}lp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=zv("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===c)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(){return window}function h9(t){jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){return typeof jr().WorkerGlobalScope<"u"&&typeof jr().importScripts=="function"}async function f9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function m9(){return OP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="firebaseLocalStorageDb",g9=1,of="firebaseLocalStorage",FP="fbase_key";class Vu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cp(t,e){return t.transaction([of],e?"readwrite":"readonly").objectStore(of)}function y9(){const t=indexedDB.deleteDatabase(LP);return new Vu(t).toPromise()}function Ty(){const t=indexedDB.open(LP,g9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(of,{keyPath:FP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(of)?e(r):(r.close(),await y9(),e(await Ty()))})})}async function uE(t,e,n){const r=cp(t,!0).put({[FP]:e,value:n});return new Vu(r).toPromise()}async function v9(t,e){const n=cp(t,!1).get(e),r=await new Vu(n).toPromise();return r===void 0?null:r.value}function dE(t,e){const n=cp(t,!0).delete(e);return new Vu(n).toPromise()}const x9=800,w9=3;class UP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ty(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>w9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return OP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lp._getInstance(m9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await f9(),!this.activeServiceWorker)return;this.sender=new d9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||p9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ty();return await uE(e,sf,"1"),await dE(e,sf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>uE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>v9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>dE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=cp(s,!1).getAll();return new Vu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UP.type="LOCAL";const _9=UP;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BP(t,e){return e?ts(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv extends Uv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function E9(t){return NP(t.auth,new Hv(t),t.bypassAuthState)}function T9(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),JF(n,new Hv(t),t.bypassAuthState)}async function b9(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),XF(n,new Hv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return E9;case"linkViaPopup":case"linkViaRedirect":return b9;case"reauthViaPopup":case"reauthViaRedirect":return T9;default:Hn(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=new ju(2e3,1e4);async function Wv(t,e,n){if(xn(t.app))return Promise.reject(lr(t,"operation-not-supported-in-this-environment"));const r=Oi(t);sF(t,e,$v);const s=BP(r,n);return new so(r,"signInViaPopup",e,s).executeNotNull()}class so extends $P{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,so.currentPopupAction&&so.currentPopupAction.cancel(),so.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=zv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,so.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,S9.get())};e()}}so.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9="pendingRedirect",ah=new Map;class I9 extends $P{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const r=await P9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P9(t,e){const n=R9(e),r=N9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function A9(t,e){ah.set(t._key(),e)}function N9(t){return ts(t._redirectPersistence)}function R9(t){return oh(C9,t.config.apiKey,t.name)}async function k9(t,e,n=!1){if(xn(t.app))return Promise.reject(rs(t));const r=Oi(t),s=BP(r,e),o=await new I9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9=10*60*1e3;class D9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!M9(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!zP(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=j9&&this.cachedEventUids.clear(),this.cachedEventUids.has(hE(e))}saveEventToCache(e){this.cachedEventUids.add(hE(e)),this.lastProcessedEventTime=Date.now()}}function hE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function zP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function M9(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e={}){return _s(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L9=/^https?/;async function F9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V9(t);for(const n of e)try{if(U9(n))return}catch{}Hn(t,"unauthorized-domain")}function U9(t){const e=wy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!L9.test(n))return!1;if(O9.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=new ju(3e4,6e4);function fE(){const t=jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $9(t){return new Promise((e,n)=>{var s,i,o;function r(){fE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{fE(),n(lr(t,"network-request-failed"))},timeout:B9.get()})}if((i=(s=jr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=jr().gapi)!=null&&o.load)r();else{const a=jF("iframefcb");return jr()[a]=()=>{gapi.load?r():n(lr(t,"network-request-failed"))},CP(`${kF()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw lh=null,e})}let lh=null;function z9(t){return lh=lh||$9(t),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new ju(5e3,15e3),W9="__/auth/iframe",q9="emulator/auth/iframe",G9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q9(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ov(e,q9):`https://${t.config.authDomain}/${W9}`,r={apiKey:e.apiKey,appName:t.name,v:fl},s=K9.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${ku(r).slice(1)}`}async function Y9(t){const e=await z9(t),n=jr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:Q9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:G9,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=lr(t,"network-request-failed"),a=jr().setTimeout(()=>{i(o)},H9.get());function l(){jr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J9=500,Z9=600,e8="_blank",t8="http://localhost";class pE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n8(t,e,n,r=J9,s=Z9){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...X9,width:r.toString(),height:s.toString(),top:i,left:o},c=Gt().toLowerCase();n&&(a=xP(c)?e8:n),yP(c)&&(e=e||t8,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[m,x])=>`${p}${m}=${x},`,"");if(TF(c)&&a!=="_self")return r8(e||"",a),new pE(null);const f=window.open(e||"",a,h);oe(f,t,"popup-blocked");try{f.focus()}catch{}return new pE(f)}function r8(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s8="__/auth/handler",i8="emulator/auth/handler",o8=encodeURIComponent("fac");async function mE(t,e,n,r,s,i){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fl,eventId:s};if(e instanceof $v){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",HL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Mu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${o8}=${encodeURIComponent(l)}`:"";return`${a8(t)}?${ku(a).slice(1)}${c}`}function a8({config:t}){return t.emulator?Ov(t,i8):`https://${t.authDomain}/${s8}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="webStorageSupport";class l8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VP,this._completeRedirectFn=k9,this._overrideRedirectResult=A9}async _openPopup(e,n,r,s){var o;ms((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await mE(e,n,r,wy(),s);return n8(e,i,zv())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await mE(e,n,r,wy(),s);return h9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ms(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Y9(e),r=new D9(e);return n.register("authEvent",s=>(oe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lm,{type:Lm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Lm];i!==void 0&&n(!!i),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=F9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bP()||vP()||Fv()}}const c8=l8;var gE="@firebase/auth",yE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d8(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function h8(t){Ga(new Ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:SP(t)},c=new AF(r,s,i,l);return FF(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ga(new Ao("auth-internal",e=>{const n=Oi(e.getProvider("auth").getImmediate());return(r=>new u8(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fi(gE,yE,d8(t)),fi(gE,yE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8=5*60,p8=tP("authIdTokenMaxAge")||f8;let vE=null;const m8=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>p8)return;const s=n==null?void 0:n.token;vE!==s&&(vE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function g8(t=aP()){const e=Dv(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LF(t,{popupRedirectResolver:c8,persistence:[_9,c9,VP]}),r=tP("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=m8(i.toString());i9(n,o,()=>o(n.currentUser)),s9(n,a=>o(a))}}const s=ZI("auth");return s&&UF(n,`http://${s}`),n}function y8(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}NF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=lr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",y8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});h8("Browser");var v8="firebase",x8="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fi(v8,x8,"app");var xE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pi,HP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function I(){}I.prototype=S.prototype,C.F=S.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(N,k,D){for(var R=Array(arguments.length-2),z=2;z<arguments.length;z++)R[z-2]=arguments[z];return S.prototype[k].apply(N,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,I){I||(I=0);const N=Array(16);if(typeof S=="string")for(var k=0;k<16;++k)N[k]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(k=0;k<16;++k)N[k]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=C.g[0],I=C.g[1],k=C.g[2];let D=C.g[3],R;R=S+(D^I&(k^D))+N[0]+3614090360&4294967295,S=I+(R<<7&4294967295|R>>>25),R=D+(k^S&(I^k))+N[1]+3905402710&4294967295,D=S+(R<<12&4294967295|R>>>20),R=k+(I^D&(S^I))+N[2]+606105819&4294967295,k=D+(R<<17&4294967295|R>>>15),R=I+(S^k&(D^S))+N[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=S+(D^I&(k^D))+N[4]+4118548399&4294967295,S=I+(R<<7&4294967295|R>>>25),R=D+(k^S&(I^k))+N[5]+1200080426&4294967295,D=S+(R<<12&4294967295|R>>>20),R=k+(I^D&(S^I))+N[6]+2821735955&4294967295,k=D+(R<<17&4294967295|R>>>15),R=I+(S^k&(D^S))+N[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=S+(D^I&(k^D))+N[8]+1770035416&4294967295,S=I+(R<<7&4294967295|R>>>25),R=D+(k^S&(I^k))+N[9]+2336552879&4294967295,D=S+(R<<12&4294967295|R>>>20),R=k+(I^D&(S^I))+N[10]+4294925233&4294967295,k=D+(R<<17&4294967295|R>>>15),R=I+(S^k&(D^S))+N[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=S+(D^I&(k^D))+N[12]+1804603682&4294967295,S=I+(R<<7&4294967295|R>>>25),R=D+(k^S&(I^k))+N[13]+4254626195&4294967295,D=S+(R<<12&4294967295|R>>>20),R=k+(I^D&(S^I))+N[14]+2792965006&4294967295,k=D+(R<<17&4294967295|R>>>15),R=I+(S^k&(D^S))+N[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=S+(k^D&(I^k))+N[1]+4129170786&4294967295,S=I+(R<<5&4294967295|R>>>27),R=D+(I^k&(S^I))+N[6]+3225465664&4294967295,D=S+(R<<9&4294967295|R>>>23),R=k+(S^I&(D^S))+N[11]+643717713&4294967295,k=D+(R<<14&4294967295|R>>>18),R=I+(D^S&(k^D))+N[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=S+(k^D&(I^k))+N[5]+3593408605&4294967295,S=I+(R<<5&4294967295|R>>>27),R=D+(I^k&(S^I))+N[10]+38016083&4294967295,D=S+(R<<9&4294967295|R>>>23),R=k+(S^I&(D^S))+N[15]+3634488961&4294967295,k=D+(R<<14&4294967295|R>>>18),R=I+(D^S&(k^D))+N[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=S+(k^D&(I^k))+N[9]+568446438&4294967295,S=I+(R<<5&4294967295|R>>>27),R=D+(I^k&(S^I))+N[14]+3275163606&4294967295,D=S+(R<<9&4294967295|R>>>23),R=k+(S^I&(D^S))+N[3]+4107603335&4294967295,k=D+(R<<14&4294967295|R>>>18),R=I+(D^S&(k^D))+N[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=S+(k^D&(I^k))+N[13]+2850285829&4294967295,S=I+(R<<5&4294967295|R>>>27),R=D+(I^k&(S^I))+N[2]+4243563512&4294967295,D=S+(R<<9&4294967295|R>>>23),R=k+(S^I&(D^S))+N[7]+1735328473&4294967295,k=D+(R<<14&4294967295|R>>>18),R=I+(D^S&(k^D))+N[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=S+(I^k^D)+N[5]+4294588738&4294967295,S=I+(R<<4&4294967295|R>>>28),R=D+(S^I^k)+N[8]+2272392833&4294967295,D=S+(R<<11&4294967295|R>>>21),R=k+(D^S^I)+N[11]+1839030562&4294967295,k=D+(R<<16&4294967295|R>>>16),R=I+(k^D^S)+N[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=S+(I^k^D)+N[1]+2763975236&4294967295,S=I+(R<<4&4294967295|R>>>28),R=D+(S^I^k)+N[4]+1272893353&4294967295,D=S+(R<<11&4294967295|R>>>21),R=k+(D^S^I)+N[7]+4139469664&4294967295,k=D+(R<<16&4294967295|R>>>16),R=I+(k^D^S)+N[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=S+(I^k^D)+N[13]+681279174&4294967295,S=I+(R<<4&4294967295|R>>>28),R=D+(S^I^k)+N[0]+3936430074&4294967295,D=S+(R<<11&4294967295|R>>>21),R=k+(D^S^I)+N[3]+3572445317&4294967295,k=D+(R<<16&4294967295|R>>>16),R=I+(k^D^S)+N[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=S+(I^k^D)+N[9]+3654602809&4294967295,S=I+(R<<4&4294967295|R>>>28),R=D+(S^I^k)+N[12]+3873151461&4294967295,D=S+(R<<11&4294967295|R>>>21),R=k+(D^S^I)+N[15]+530742520&4294967295,k=D+(R<<16&4294967295|R>>>16),R=I+(k^D^S)+N[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=S+(k^(I|~D))+N[0]+4096336452&4294967295,S=I+(R<<6&4294967295|R>>>26),R=D+(I^(S|~k))+N[7]+1126891415&4294967295,D=S+(R<<10&4294967295|R>>>22),R=k+(S^(D|~I))+N[14]+2878612391&4294967295,k=D+(R<<15&4294967295|R>>>17),R=I+(D^(k|~S))+N[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=S+(k^(I|~D))+N[12]+1700485571&4294967295,S=I+(R<<6&4294967295|R>>>26),R=D+(I^(S|~k))+N[3]+2399980690&4294967295,D=S+(R<<10&4294967295|R>>>22),R=k+(S^(D|~I))+N[10]+4293915773&4294967295,k=D+(R<<15&4294967295|R>>>17),R=I+(D^(k|~S))+N[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=S+(k^(I|~D))+N[8]+1873313359&4294967295,S=I+(R<<6&4294967295|R>>>26),R=D+(I^(S|~k))+N[15]+4264355552&4294967295,D=S+(R<<10&4294967295|R>>>22),R=k+(S^(D|~I))+N[6]+2734768916&4294967295,k=D+(R<<15&4294967295|R>>>17),R=I+(D^(k|~S))+N[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=S+(k^(I|~D))+N[4]+4149444226&4294967295,S=I+(R<<6&4294967295|R>>>26),R=D+(I^(S|~k))+N[11]+3174756917&4294967295,D=S+(R<<10&4294967295|R>>>22),R=k+(S^(D|~I))+N[2]+718787259&4294967295,k=D+(R<<15&4294967295|R>>>17),R=I+(D^(k|~S))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+k&4294967295,C.g[3]=C.g[3]+D&4294967295}r.prototype.v=function(C,S){S===void 0&&(S=C.length);const I=S-this.blockSize,N=this.C;let k=this.h,D=0;for(;D<S;){if(k==0)for(;D<=I;)s(this,C,D),D+=this.blockSize;if(typeof C=="string"){for(;D<S;)if(N[k++]=C.charCodeAt(D++),k==this.blockSize){s(this,N),k=0;break}}else for(;D<S;)if(N[k++]=C[D++],k==this.blockSize){s(this,N),k=0;break}}this.h=k,this.o+=S},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;S=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=S&255,S/=256;for(this.v(C),C=Array(16),S=0,I=0;I<4;++I)for(let N=0;N<32;N+=8)C[S++]=this.g[I]>>>N&255;return C};function i(C,S){var I=a;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=S(C)}function o(C,S){this.h=S;const I=[];let N=!0;for(let k=C.length-1;k>=0;k--){const D=C[k]|0;N&&D==S||(I[k]=D,N=!1)}this.g=I}var a={};function l(C){return-128<=C&&C<128?i(C,function(S){return new o([S|0],S<0?-1:0)}):new o([C|0],C<0?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(C<0)return T(c(-C));const S=[];let I=1;for(let N=0;C>=I;N++)S[N]=C/I|0,I*=4294967296;return new o(S,0)}function h(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return T(h(C.substring(1),S));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=c(Math.pow(S,8));let N=f;for(let D=0;D<C.length;D+=8){var k=Math.min(8,C.length-D);const R=parseInt(C.substring(D,D+k),S);k<8?(k=c(Math.pow(S,k)),N=N.j(k).add(c(R))):(N=N.j(I),N=N.add(c(R)))}return N}var f=l(0),p=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-T(this).m();let C=0,S=1;for(let I=0;I<this.g.length;I++){const N=this.i(I);C+=(N>=0?N:4294967296+N)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(x(this))return"0";if(v(this))return"-"+T(this).toString(C);const S=c(Math.pow(C,6));var I=this;let N="";for(;;){const k=A(I,S).g;I=_(I,k.j(S));let D=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=k,x(I))return D+N;for(;D.length<6;)D="0"+D;N=D+N}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function x(C){if(C.h!=0)return!1;for(let S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function v(C){return C.h==-1}t.l=function(C){return C=_(this,C),v(C)?-1:x(C)?0:1};function T(C){const S=C.g.length,I=[];for(let N=0;N<S;N++)I[N]=~C.g[N];return new o(I,~C.h).add(p)}t.abs=function(){return v(this)?T(this):this},t.add=function(C){const S=Math.max(this.g.length,C.g.length),I=[];let N=0;for(let k=0;k<=S;k++){let D=N+(this.i(k)&65535)+(C.i(k)&65535),R=(D>>>16)+(this.i(k)>>>16)+(C.i(k)>>>16);N=R>>>16,D&=65535,R&=65535,I[k]=R<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function _(C,S){return C.add(T(S))}t.j=function(C){if(x(this)||x(C))return f;if(v(this))return v(C)?T(this).j(T(C)):T(T(this).j(C));if(v(C))return T(this.j(T(C)));if(this.l(m)<0&&C.l(m)<0)return c(this.m()*C.m());const S=this.g.length+C.g.length,I=[];for(var N=0;N<2*S;N++)I[N]=0;for(N=0;N<this.g.length;N++)for(let k=0;k<C.g.length;k++){const D=this.i(N)>>>16,R=this.i(N)&65535,z=C.i(k)>>>16,re=C.i(k)&65535;I[2*N+2*k]+=R*re,y(I,2*N+2*k),I[2*N+2*k+1]+=D*re,y(I,2*N+2*k+1),I[2*N+2*k+1]+=R*z,y(I,2*N+2*k+1),I[2*N+2*k+2]+=D*z,y(I,2*N+2*k+2)}for(C=0;C<S;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=S;C<2*S;C++)I[C]=0;return new o(I,0)};function y(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function w(C,S){this.g=C,this.h=S}function A(C,S){if(x(S))throw Error("division by zero");if(x(C))return new w(f,f);if(v(C))return S=A(T(C),S),new w(T(S.g),T(S.h));if(v(S))return S=A(C,T(S)),new w(T(S.g),S.h);if(C.g.length>30){if(v(C)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var I=p,N=S;N.l(C)<=0;)I=j(I),N=j(N);var k=V(I,1),D=V(N,1);for(N=V(N,2),I=V(I,2);!x(N);){var R=D.add(N);R.l(C)<=0&&(k=k.add(I),D=R),N=V(N,1),I=V(I,1)}return S=_(C,k.j(S)),new w(k,S)}for(k=f;C.l(S)>=0;){for(I=Math.max(1,Math.floor(C.m()/S.m())),N=Math.ceil(Math.log(I)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),D=c(I),R=D.j(S);v(R)||R.l(C)>0;)I-=N,D=c(I),R=D.j(S);x(D)&&(D=p),k=k.add(D),C=_(C,R)}return new w(k,C)}t.B=function(C){return A(this,C).h},t.and=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<S;N++)I[N]=this.i(N)&C.i(N);return new o(I,this.h&C.h)},t.or=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<S;N++)I[N]=this.i(N)|C.i(N);return new o(I,this.h|C.h)},t.xor=function(C){const S=Math.max(this.g.length,C.g.length),I=[];for(let N=0;N<S;N++)I[N]=this.i(N)^C.i(N);return new o(I,this.h^C.h)};function j(C){const S=C.g.length+1,I=[];for(let N=0;N<S;N++)I[N]=C.i(N)<<1|C.i(N-1)>>>31;return new o(I,C.h)}function V(C,S){const I=S>>5;S%=32;const N=C.g.length-I,k=[];for(let D=0;D<N;D++)k[D]=S>0?C.i(D+I)>>>S|C.i(D+I+1)<<32-S:C.i(D+I);return new o(k,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,HP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,pi=o}).apply(typeof xE<"u"?xE:typeof self<"u"?self:typeof window<"u"?window:{});var Dd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var WP,sc,qP,ch,by,GP,KP,QP;(function(){var t,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dd=="object"&&Dd];for(var g=0;g<d.length;++g){var E=d[g];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(d,g){if(g)e:{var E=r;d=d.split(".");for(var P=0;P<d.length-1;P++){var O=d[P];if(!(O in E))break e;E=E[O]}d=d[d.length-1],P=E[d],g=g(P),g!=P&&g!=null&&e(E,d,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(d){return d||function(g){var E=[],P;for(P in g)Object.prototype.hasOwnProperty.call(g,P)&&E.push([P,g[P]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(d){var g=typeof d;return g=="object"&&d!=null||g=="function"}function l(d,g,E){return d.call.apply(d.bind,arguments)}function c(d,g,E){return c=l,c.apply(null,arguments)}function h(d,g){var E=Array.prototype.slice.call(arguments,1);return function(){var P=E.slice();return P.push.apply(P,arguments),d.apply(this,P)}}function f(d,g){function E(){}E.prototype=g.prototype,d.Z=g.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(P,O,F){for(var G=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)G[ge-2]=arguments[ge];return g.prototype[O].apply(P,G)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function m(d){const g=d.length;if(g>0){const E=Array(g);for(let P=0;P<g;P++)E[P]=d[P];return E}return[]}function x(d,g){for(let P=1;P<arguments.length;P++){const O=arguments[P];var E=typeof O;if(E=E!="object"?E:O?Array.isArray(O)?"array":E:"null",E=="array"||E=="object"&&typeof O.length=="number"){E=d.length||0;const F=O.length||0;d.length=E+F;for(let G=0;G<F;G++)d[E+G]=O[G]}else d.push(O)}}class v{constructor(g,E){this.i=g,this.j=E,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function T(d){o.setTimeout(()=>{throw d},0)}function _(){var d=C;let g=null;return d.g&&(g=d.g,d.g=d.g.next,d.g||(d.h=null),g.next=null),g}class y{constructor(){this.h=this.g=null}add(g,E){const P=w.get();P.set(g,E),this.h?this.h.next=P:this.g=P,this.h=P}}var w=new v(()=>new A,d=>d.reset());class A{constructor(){this.next=this.g=this.h=null}set(g,E){this.h=g,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let j,V=!1,C=new y,S=()=>{const d=Promise.resolve(void 0);j=()=>{d.then(I)}};function I(){for(var d;d=_();){try{d.h.call(d.g)}catch(E){T(E)}var g=w;g.j(d),g.h<100&&(g.h++,d.next=g.g,g.g=d)}V=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(d,g){this.type=d,this.g=this.target=g,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var d=!1,g=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};o.addEventListener("test",E,g),o.removeEventListener("test",E,g)}catch{}return d}();function R(d){return/^[\s\xa0]*$/.test(d)}function z(d,g){k.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,g)}f(z,k),z.prototype.init=function(d,g){const E=this.type=d.type,P=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=g,g=d.relatedTarget,g||(E=="mouseover"?g=d.fromElement:E=="mouseout"&&(g=d.toElement)),this.relatedTarget=g,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&z.Z.h.call(this)},z.prototype.h=function(){z.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),te=0;function X(d,g,E,P,O){this.listener=d,this.proxy=null,this.src=g,this.type=E,this.capture=!!P,this.ha=O,this.key=++te,this.da=this.fa=!1}function M(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function L(d,g,E){for(const P in d)g.call(E,d[P],P,d)}function q(d,g){for(const E in d)g.call(void 0,d[E],E,d)}function se(d){const g={};for(const E in d)g[E]=d[E];return g}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(d,g){let E,P;for(let O=1;O<arguments.length;O++){P=arguments[O];for(E in P)d[E]=P[E];for(let F=0;F<Z.length;F++)E=Z[F],Object.prototype.hasOwnProperty.call(P,E)&&(d[E]=P[E])}}function he(d){this.src=d,this.g={},this.h=0}he.prototype.add=function(d,g,E,P,O){const F=d.toString();d=this.g[F],d||(d=this.g[F]=[],this.h++);const G=ot(d,g,P,O);return G>-1?(g=d[G],E||(g.fa=!1)):(g=new X(g,this.src,F,!!P,O),g.fa=E,d.push(g)),g};function Re(d,g){const E=g.type;if(E in d.g){var P=d.g[E],O=Array.prototype.indexOf.call(P,g,void 0),F;(F=O>=0)&&Array.prototype.splice.call(P,O,1),F&&(M(g),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ot(d,g,E,P){for(let O=0;O<d.length;++O){const F=d[O];if(!F.da&&F.listener==g&&F.capture==!!E&&F.ha==P)return O}return-1}var _e="closure_lm_"+(Math.random()*1e6|0),pr={};function Wn(d,g,E,P,O){if(Array.isArray(g)){for(let F=0;F<g.length;F++)Wn(d,g[F],E,P,O);return null}return E=Ts(E),d&&d[re]?d.J(g,E,a(P)?!!P.capture:!!P,O):zr(d,g,E,!1,P,O)}function zr(d,g,E,P,O,F){if(!g)throw Error("Invalid event type");const G=a(O)?!!O.capture:!!O;let ge=Es(d);if(ge||(d[_e]=ge=new he(d)),E=ge.add(g,E,P,G,F),E.proxy)return E;if(P=mr(),E.proxy=P,P.src=d,P.listener=E,d.addEventListener)D||(O=G),O===void 0&&(O=!1),d.addEventListener(g.toString(),P,O);else if(d.attachEvent)d.attachEvent($i(g.toString()),P);else if(d.addListener&&d.removeListener)d.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return E}function mr(){function d(E){return g.call(d.src,d.listener,E)}const g=Sl;return d}function Hr(d,g,E,P,O){if(Array.isArray(g))for(var F=0;F<g.length;F++)Hr(d,g[F],E,P,O);else P=a(P)?!!P.capture:!!P,E=Ts(E),d&&d[re]?(d=d.i,F=String(g).toString(),F in d.g&&(g=d.g[F],E=ot(g,E,P,O),E>-1&&(M(g[E]),Array.prototype.splice.call(g,E,1),g.length==0&&(delete d.g[F],d.h--)))):d&&(d=Es(d))&&(g=d.g[g.toString()],d=-1,g&&(d=ot(g,E,P,O)),(E=d>-1?g[d]:null)&&Pn(E))}function Pn(d){if(typeof d!="number"&&d&&!d.da){var g=d.src;if(g&&g[re])Re(g.i,d);else{var E=d.type,P=d.proxy;g.removeEventListener?g.removeEventListener(E,P,d.capture):g.detachEvent?g.detachEvent($i(E),P):g.addListener&&g.removeListener&&g.removeListener(P),(E=Es(g))?(Re(E,d),E.h==0&&(E.src=null,g[_e]=null)):M(d)}}}function $i(d){return d in pr?pr[d]:pr[d]="on"+d}function Sl(d,g){if(d.da)d=!0;else{g=new z(g,this);const E=d.listener,P=d.ha||d.src;d.fa&&Pn(d),d=E.call(P,g)}return d}function Es(d){return d=d[_e],d instanceof he?d:null}var zi="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ts(d){return typeof d=="function"?d:(d[zi]||(d[zi]=function(g){return d.handleEvent(g)}),d[zi])}function ze(){N.call(this),this.i=new he(this),this.M=this,this.G=null}f(ze,N),ze.prototype[re]=!0,ze.prototype.removeEventListener=function(d,g,E,P){Hr(this,d,g,E,P)};function _t(d,g){var E,P=d.G;if(P)for(E=[];P;P=P.G)E.push(P);if(d=d.M,P=g.type||g,typeof g=="string")g=new k(g,d);else if(g instanceof k)g.target=g.target||d;else{var O=g;g=new k(P,d),ce(g,O)}O=!0;let F,G;if(E)for(G=E.length-1;G>=0;G--)F=g.g=E[G],O=gr(F,P,!0,g)&&O;if(F=g.g=d,O=gr(F,P,!0,g)&&O,O=gr(F,P,!1,g)&&O,E)for(G=0;G<E.length;G++)F=g.g=E[G],O=gr(F,P,!1,g)&&O}ze.prototype.N=function(){if(ze.Z.N.call(this),this.i){var d=this.i;for(const g in d.g){const E=d.g[g];for(let P=0;P<E.length;P++)M(E[P]);delete d.g[g],d.h--}}this.G=null},ze.prototype.J=function(d,g,E,P){return this.i.add(String(d),g,!1,E,P)},ze.prototype.K=function(d,g,E,P){return this.i.add(String(d),g,!0,E,P)};function gr(d,g,E,P){if(g=d.i.g[String(g)],!g)return!0;g=g.concat();let O=!0;for(let F=0;F<g.length;++F){const G=g[F];if(G&&!G.da&&G.capture==E){const ge=G.listener,mt=G.ha||G.src;G.fa&&Re(d.i,G),O=ge.call(mt,P)!==!1&&O}}return O&&!P.defaultPrevented}function Xu(d,g){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=c(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(d,g||0)}function yr(d){d.g=Xu(()=>{d.g=null,d.i&&(d.i=!1,yr(d))},d.l);const g=d.h;d.h=null,d.m.apply(null,g)}class Mp extends N{constructor(g,E){super(),this.m=g,this.l=E,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:yr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(d){N.call(this),this.h=d,this.g={}}f(Hi,N);var Kt=[];function Wr(d){L(d.g,function(g,E){this.g.hasOwnProperty(E)&&Pn(g)},d),d.g={}}Hi.prototype.N=function(){Hi.Z.N.call(this),Wr(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cl=o.JSON.stringify,Vp=o.JSON.parse,Bo=class{stringify(d){return o.JSON.stringify(d,void 0)}parse(d){return o.JSON.parse(d,void 0)}};function Ju(){}function Il(){}var qr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vr(){k.call(this,"d")}f(vr,k);function $o(){k.call(this,"c")}f($o,k);var sn={},Zu=null;function zo(){return Zu=Zu||new ze}sn.Ia="serverreachability";function Pl(d){k.call(this,sn.Ia,d)}f(Pl,k);function bs(d){const g=zo();_t(g,new Pl(g))}sn.STAT_EVENT="statevent";function ed(d,g){k.call(this,sn.STAT_EVENT,d),this.stat=g}f(ed,k);function pt(d){const g=zo();_t(g,new ed(g,d))}sn.Ja="timingevent";function qn(d,g){k.call(this,sn.Ja,d),this.size=g}f(qn,k);function Wi(d,g){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){d()},g)}function ie(){this.g=!0}ie.prototype.ua=function(){this.g=!1};function Se(d,g,E,P,O,F){d.info(function(){if(d.g)if(F){var G="",ge=F.split("&");for(let ke=0;ke<ge.length;ke++){var mt=ge[ke].split("=");if(mt.length>1){const Tt=mt[0];mt=mt[1];const _r=Tt.split("_");G=_r.length>=2&&_r[1]=="type"?G+(Tt+"="+mt+"&"):G+(Tt+"=redacted&")}}}else G=null;else G=F;return"XMLHTTP REQ ("+P+") [attempt "+O+"]: "+g+`
`+E+`
`+G})}function je(d,g,E,P,O,F,G){d.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+O+"]: "+g+`
`+E+`
`+F+" "+G})}function Et(d,g,E,P){d.info(function(){return"XMLHTTP TEXT ("+g+"): "+xr(d,E)+(P?" "+P:"")})}function mn(d,g){d.info(function(){return"TIMEOUT: "+g})}ie.prototype.info=function(){};function xr(d,g){if(!d.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(d=0;d<F.length;d++)if(Array.isArray(F[d])){var E=F[d];if(!(E.length<2)){var P=E[1];if(Array.isArray(P)&&!(P.length<1)){var O=P[0];if(O!="noop"&&O!="stop"&&O!="close")for(let G=1;G<P.length;G++)P[G]=""}}}}return Cl(F)}catch{return g}}var An={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},on={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gn;function Op(){}f(Op,Ju),Op.prototype.g=function(){return new XMLHttpRequest},Gn=new Op;function Al(d){return encodeURIComponent(String(d))}function Uk(d){var g=1;d=d.split(":");const E=[];for(;g>0&&d.length;)E.push(d.shift()),g--;return d.length&&E.push(d.join(":")),E}function Ss(d,g,E,P){this.j=d,this.i=g,this.l=E,this.S=P||1,this.V=new Hi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new lx}function lx(){this.i=null,this.g="",this.h=!1}var cx={},Lp={};function Fp(d,g,E){d.M=1,d.A=nd(wr(g)),d.u=E,d.R=!0,ux(d,null)}function ux(d,g){d.F=Date.now(),td(d),d.B=wr(d.A);var E=d.B,P=d.S;Array.isArray(P)||(P=[String(P)]),Tx(E.i,"t",P),d.C=0,E=d.j.L,d.h=new lx,d.g=Bx(d.j,E?g:null,!d.u),d.P>0&&(d.O=new Mp(c(d.Y,d,d.g),d.P)),g=d.V,E=d.g,P=d.ba;var O="readystatechange";Array.isArray(O)||(O&&(Kt[0]=O.toString()),O=Kt);for(let F=0;F<O.length;F++){const G=Wn(E,O[F],P||g.handleEvent,!1,g.h||g);if(!G)break;g.g[G.key]=G}g=d.J?se(d.J):{},d.u?(d.v||(d.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,g)):(d.v="GET",d.g.ea(d.B,d.v,null,g)),bs(),Se(d.i,d.v,d.B,d.l,d.S,d.u)}Ss.prototype.ba=function(d){d=d.target;const g=this.O;g&&Ps(d)==3?g.j():this.Y(d)},Ss.prototype.Y=function(d){try{if(d==this.g)e:{const ge=Ps(this.g),mt=this.g.ya(),ke=this.g.ca();if(!(ge<3)&&(ge!=3||this.g&&(this.h.h||this.g.la()||Nx(this.g)))){this.K||ge!=4||mt==7||(mt==8||ke<=0?bs(3):bs(2)),Up(this);var g=this.g.ca();this.X=g;var E=Bk(this);if(this.o=g==200,je(this.i,this.v,this.B,this.l,this.S,ge,g),this.o){if(this.U&&!this.L){t:{if(this.g){var P,O=this.g;if((P=O.g?O.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(P)){var F=P;break t}}F=null}if(d=F)Et(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Bp(this,d);else{this.o=!1,this.m=3,pt(12),qi(this),Nl(this);break e}}if(this.R){d=!0;let Tt;for(;!this.K&&this.C<E.length;)if(Tt=$k(this,E),Tt==Lp){ge==4&&(this.m=4,pt(14),d=!1),Et(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==cx){this.m=4,pt(15),Et(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Et(this.i,this.l,Tt,null),Bp(this,Tt);if(dx(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ge!=4||E.length!=0||this.h.h||(this.m=1,pt(16),d=!1),this.o=this.o&&d,!d)Et(this.i,this.l,E,"[Invalid Chunked Response]"),qi(this),Nl(this);else if(E.length>0&&!this.W){this.W=!0;var G=this.j;G.g==this&&G.aa&&!G.P&&(G.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Qp(G),G.P=!0,pt(11))}}else Et(this.i,this.l,E,null),Bp(this,E);ge==4&&qi(this),this.o&&!this.K&&(ge==4?Ox(this.j,this):(this.o=!1,td(this)))}else n4(this.g),g==400&&E.indexOf("Unknown SID")>0?(this.m=3,pt(12)):(this.m=0,pt(13)),qi(this),Nl(this)}}}catch{}finally{}};function Bk(d){if(!dx(d))return d.g.la();const g=Nx(d.g);if(g==="")return"";let E="";const P=g.length,O=Ps(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return qi(d),Nl(d),"";d.h.i=new o.TextDecoder}for(let F=0;F<P;F++)d.h.h=!0,E+=d.h.i.decode(g[F],{stream:!(O&&F==P-1)});return g.length=0,d.h.g+=E,d.C=0,d.h.g}function dx(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function $k(d,g){var E=d.C,P=g.indexOf(`
`,E);return P==-1?Lp:(E=Number(g.substring(E,P)),isNaN(E)?cx:(P+=1,P+E>g.length?Lp:(g=g.slice(P,P+E),d.C=P+E,g)))}Ss.prototype.cancel=function(){this.K=!0,qi(this)};function td(d){d.T=Date.now()+d.H,hx(d,d.H)}function hx(d,g){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Wi(c(d.aa,d),g)}function Up(d){d.D&&(o.clearTimeout(d.D),d.D=null)}Ss.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(mn(this.i,this.B),this.M!=2&&(bs(),pt(17)),qi(this),this.m=2,Nl(this)):hx(this,this.T-d)};function Nl(d){d.j.I==0||d.K||Ox(d.j,d)}function qi(d){Up(d);var g=d.O;g&&typeof g.dispose=="function"&&g.dispose(),d.O=null,Wr(d.V),d.g&&(g=d.g,d.g=null,g.abort(),g.dispose())}function Bp(d,g){try{var E=d.j;if(E.I!=0&&(E.g==d||$p(E.h,d))){if(!d.L&&$p(E.h,d)&&E.I==3){try{var P=E.Ba.g.parse(g)}catch{P=null}if(Array.isArray(P)&&P.length==3){var O=P;if(O[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)ad(E),id(E);else break e;Kp(E),pt(18)}}else E.xa=O[1],0<E.xa-E.K&&O[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Wi(c(E.Va,E),6e3));mx(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ki(E,11)}else if((d.L||E.g==d)&&ad(E),!R(g))for(O=E.Ba.g.parse(g),g=0;g<O.length;g++){let ke=O[g];const Tt=ke[0];if(!(Tt<=E.K))if(E.K=Tt,ke=ke[1],E.I==2)if(ke[0]=="c"){E.M=ke[1],E.ba=ke[2];const _r=ke[3];_r!=null&&(E.ka=_r,E.j.info("VER="+E.ka));const Qi=ke[4];Qi!=null&&(E.za=Qi,E.j.info("SVER="+E.za));const As=ke[5];As!=null&&typeof As=="number"&&As>0&&(P=1.5*As,E.O=P,E.j.info("backChannelRequestTimeoutMs_="+P)),P=E;const Ns=d.g;if(Ns){const cd=Ns.g?Ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cd){var F=P.h;F.g||cd.indexOf("spdy")==-1&&cd.indexOf("quic")==-1&&cd.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(zp(F,F.h),F.h=null))}if(P.G){const Yp=Ns.g?Ns.g.getResponseHeader("X-HTTP-Session-Id"):null;Yp&&(P.wa=Yp,Ve(P.J,P.G,Yp))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),P=E;var G=d;if(P.na=Ux(P,P.L?P.ba:null,P.W),G.L){gx(P.h,G);var ge=G,mt=P.O;mt&&(ge.H=mt),ge.D&&(Up(ge),td(ge)),P.g=G}else Mx(P);E.i.length>0&&od(E)}else ke[0]!="stop"&&ke[0]!="close"||Ki(E,7);else E.I==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Ki(E,7):Gp(E):ke[0]!="noop"&&E.l&&E.l.qa(ke),E.A=0)}}bs(4)}catch{}}var zk=class{constructor(d,g){this.g=d,this.map=g}};function fx(d){this.l=d||10,o.PerformanceNavigationTiming?(d=o.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function px(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function mx(d){return d.h?1:d.g?d.g.size:0}function $p(d,g){return d.h?d.h==g:d.g?d.g.has(g):!1}function zp(d,g){d.g?d.g.add(g):d.h=g}function gx(d,g){d.h&&d.h==g?d.h=null:d.g&&d.g.has(g)&&d.g.delete(g)}fx.prototype.cancel=function(){if(this.i=yx(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function yx(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let g=d.i;for(const E of d.g.values())g=g.concat(E.G);return g}return m(d.i)}var vx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hk(d,g){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const P=d[E].indexOf("=");let O,F=null;P>=0?(O=d[E].substring(0,P),F=d[E].substring(P+1)):O=d[E],g(O,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Cs(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;d instanceof Cs?(this.l=d.l,Rl(this,d.j),this.o=d.o,this.g=d.g,kl(this,d.u),this.h=d.h,Hp(this,bx(d.i)),this.m=d.m):d&&(g=String(d).match(vx))?(this.l=!1,Rl(this,g[1]||"",!0),this.o=jl(g[2]||""),this.g=jl(g[3]||"",!0),kl(this,g[4]),this.h=jl(g[5]||"",!0),Hp(this,g[6]||"",!0),this.m=jl(g[7]||"")):(this.l=!1,this.i=new Ml(null,this.l))}Cs.prototype.toString=function(){const d=[];var g=this.j;g&&d.push(Dl(g,xx,!0),":");var E=this.g;return(E||g=="file")&&(d.push("//"),(g=this.o)&&d.push(Dl(g,xx,!0),"@"),d.push(Al(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Dl(E,E.charAt(0)=="/"?Gk:qk,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Dl(E,Qk)),d.join("")},Cs.prototype.resolve=function(d){const g=wr(this);let E=!!d.j;E?Rl(g,d.j):E=!!d.o,E?g.o=d.o:E=!!d.g,E?g.g=d.g:E=d.u!=null;var P=d.h;if(E)kl(g,d.u);else if(E=!!d.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var O=g.h.lastIndexOf("/");O!=-1&&(P=g.h.slice(0,O+1)+P)}if(O=P,O==".."||O==".")P="";else if(O.indexOf("./")!=-1||O.indexOf("/.")!=-1){P=O.lastIndexOf("/",0)==0,O=O.split("/");const F=[];for(let G=0;G<O.length;){const ge=O[G++];ge=="."?P&&G==O.length&&F.push(""):ge==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),P&&G==O.length&&F.push("")):(F.push(ge),P=!0)}P=F.join("/")}else P=O}return E?g.h=P:E=d.i.toString()!=="",E?Hp(g,bx(d.i)):E=!!d.m,E&&(g.m=d.m),g};function wr(d){return new Cs(d)}function Rl(d,g,E){d.j=E?jl(g,!0):g,d.j&&(d.j=d.j.replace(/:$/,""))}function kl(d,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);d.u=g}else d.u=null}function Hp(d,g,E){g instanceof Ml?(d.i=g,Yk(d.i,d.l)):(E||(g=Dl(g,Kk)),d.i=new Ml(g,d.l))}function Ve(d,g,E){d.i.set(g,E)}function nd(d){return Ve(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function jl(d,g){return d?g?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Dl(d,g,E){return typeof d=="string"?(d=encodeURI(d).replace(g,Wk),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Wk(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var xx=/[#\/\?@]/g,qk=/[#\?:]/g,Gk=/[#\?]/g,Kk=/[#\?@]/g,Qk=/#/g;function Ml(d,g){this.h=this.g=null,this.i=d||null,this.j=!!g}function Gi(d){d.g||(d.g=new Map,d.h=0,d.i&&Hk(d.i,function(g,E){d.add(decodeURIComponent(g.replace(/\+/g," ")),E)}))}t=Ml.prototype,t.add=function(d,g){Gi(this),this.i=null,d=Ho(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(g),this.h+=1,this};function wx(d,g){Gi(d),g=Ho(d,g),d.g.has(g)&&(d.i=null,d.h-=d.g.get(g).length,d.g.delete(g))}function _x(d,g){return Gi(d),g=Ho(d,g),d.g.has(g)}t.forEach=function(d,g){Gi(this),this.g.forEach(function(E,P){E.forEach(function(O){d.call(g,O,P,this)},this)},this)};function Ex(d,g){Gi(d);let E=[];if(typeof g=="string")_x(d,g)&&(E=E.concat(d.g.get(Ho(d,g))));else for(d=Array.from(d.g.values()),g=0;g<d.length;g++)E=E.concat(d[g]);return E}t.set=function(d,g){return Gi(this),this.i=null,d=Ho(this,d),_x(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[g]),this.h+=1,this},t.get=function(d,g){return d?(d=Ex(this,d),d.length>0?String(d[0]):g):g};function Tx(d,g,E){wx(d,g),E.length>0&&(d.i=null,d.g.set(Ho(d,g),m(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],g=Array.from(this.g.keys());for(let P=0;P<g.length;P++){var E=g[P];const O=Al(E);E=Ex(this,E);for(let F=0;F<E.length;F++){let G=O;E[F]!==""&&(G+="="+Al(E[F])),d.push(G)}}return this.i=d.join("&")};function bx(d){const g=new Ml;return g.i=d.i,d.g&&(g.g=new Map(d.g),g.h=d.h),g}function Ho(d,g){return g=String(g),d.j&&(g=g.toLowerCase()),g}function Yk(d,g){g&&!d.j&&(Gi(d),d.i=null,d.g.forEach(function(E,P){const O=P.toLowerCase();P!=O&&(wx(this,P),Tx(this,O,E))},d)),d.j=g}function Xk(d,g){const E=new ie;if(o.Image){const P=new Image;P.onload=h(Is,E,"TestLoadImage: loaded",!0,g,P),P.onerror=h(Is,E,"TestLoadImage: error",!1,g,P),P.onabort=h(Is,E,"TestLoadImage: abort",!1,g,P),P.ontimeout=h(Is,E,"TestLoadImage: timeout",!1,g,P),o.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=d}else g(!1)}function Jk(d,g){const E=new ie,P=new AbortController,O=setTimeout(()=>{P.abort(),Is(E,"TestPingServer: timeout",!1,g)},1e4);fetch(d,{signal:P.signal}).then(F=>{clearTimeout(O),F.ok?Is(E,"TestPingServer: ok",!0,g):Is(E,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(O),Is(E,"TestPingServer: error",!1,g)})}function Is(d,g,E,P,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),P(E)}catch{}}function Zk(){this.g=new Bo}function Wp(d){this.i=d.Sb||null,this.h=d.ab||!1}f(Wp,Ju),Wp.prototype.g=function(){return new rd(this.i,this.h)};function rd(d,g){ze.call(this),this.H=d,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(rd,ze),t=rd.prototype,t.open=function(d,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=g,this.readyState=1,Ol(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(g.body=d),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vl(this)),this.readyState=0},t.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ol(this)),this.g&&(this.readyState=3,Ol(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Sx(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Sx(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}t.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var g=d.value?d.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!d.done}))&&(this.response=this.responseText+=g)}d.done?Vl(this):Ol(this),this.readyState==3&&Sx(this)}},t.Oa=function(d){this.g&&(this.response=this.responseText=d,Vl(this))},t.Na=function(d){this.g&&(this.response=d,Vl(this))},t.ga=function(){this.g&&Vl(this)};function Vl(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ol(d)}t.setRequestHeader=function(d,g){this.A.append(d,g)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],g=this.h.entries();for(var E=g.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=g.next();return d.join(`\r
`)};function Ol(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(rd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Cx(d){let g="";return L(d,function(E,P){g+=P,g+=":",g+=E,g+=`\r
`}),g}function qp(d,g,E){e:{for(P in E){var P=!1;break e}P=!0}P||(E=Cx(E),typeof d=="string"?E!=null&&Al(E):Ve(d,g,E))}function Ye(d){ze.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ye,ze);var e4=/^https?$/i,t4=["POST","PUT"];t=Ye.prototype,t.Fa=function(d){this.H=d},t.ea=function(d,g,E,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);g=g?g.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gn.g(),this.g.onreadystatechange=p(c(this.Ca,this));try{this.B=!0,this.g.open(g,String(d),!0),this.B=!1}catch(F){Ix(this,F);return}if(d=E||"",E=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var O in P)E.set(O,P[O]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const F of P.keys())E.set(F,P.get(F));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),O=o.FormData&&d instanceof o.FormData,!(Array.prototype.indexOf.call(t4,g,void 0)>=0)||P||O||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,G]of E)this.g.setRequestHeader(F,G);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(F){Ix(this,F)}};function Ix(d,g){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=g,d.o=5,Px(d),sd(d)}function Px(d){d.A||(d.A=!0,_t(d,"complete"),_t(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,_t(this,"complete"),_t(this,"abort"),sd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sd(this,!0)),Ye.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ax(this):this.Xa())},t.Xa=function(){Ax(this)};function Ax(d){if(d.h&&typeof i<"u"){if(d.v&&Ps(d)==4)setTimeout(d.Ca.bind(d),0);else if(_t(d,"readystatechange"),Ps(d)==4){d.h=!1;try{const F=d.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var E;if(!(E=g)){var P;if(P=F===0){let G=String(d.D).match(vx)[1]||null;!G&&o.self&&o.self.location&&(G=o.self.location.protocol.slice(0,-1)),P=!e4.test(G?G.toLowerCase():"")}E=P}if(E)_t(d,"complete"),_t(d,"success");else{d.o=6;try{var O=Ps(d)>2?d.g.statusText:""}catch{O=""}d.l=O+" ["+d.ca()+"]",Px(d)}}finally{sd(d)}}}}function sd(d,g){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,g||_t(d,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ps(d){return d.g?d.g.readyState:0}t.ca=function(){try{return Ps(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(d){if(this.g){var g=this.g.responseText;return d&&g.indexOf(d)==0&&(g=g.substring(d.length)),Vp(g)}};function Nx(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function n4(d){const g={};d=(d.g&&Ps(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<d.length;P++){if(R(d[P]))continue;var E=Uk(d[P]);const O=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=g[O]||[];g[O]=F,F.push(E)}q(g,function(P){return P.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ll(d,g,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||g}function Rx(d){this.za=0,this.i=[],this.j=new ie,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ll("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ll("baseRetryDelayMs",5e3,d),this.Za=Ll("retryDelaySeedMs",1e4,d),this.Ta=Ll("forwardChannelMaxRetries",2,d),this.va=Ll("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new fx(d&&d.concurrentRequestLimit),this.Ba=new Zk,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Rx.prototype,t.ka=8,t.I=1,t.connect=function(d,g,E,P){pt(0),this.W=d,this.H=g||{},E&&P!==void 0&&(this.H.OSID=E,this.H.OAID=P),this.F=this.X,this.J=Ux(this,null,this.W),od(this)};function Gp(d){if(kx(d),d.I==3){var g=d.V++,E=wr(d.J);if(Ve(E,"SID",d.M),Ve(E,"RID",g),Ve(E,"TYPE","terminate"),Fl(d,E),g=new Ss(d,d.j,g),g.M=2,g.A=nd(wr(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=g.A,E=!0),E||(g.g=Bx(g.j,null),g.g.ea(g.A)),g.F=Date.now(),td(g)}Fx(d)}function id(d){d.g&&(Qp(d),d.g.cancel(),d.g=null)}function kx(d){id(d),d.v&&(o.clearTimeout(d.v),d.v=null),ad(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&o.clearTimeout(d.m),d.m=null)}function od(d){if(!px(d.h)&&!d.m){d.m=!0;var g=d.Ea;j||S(),V||(j(),V=!0),C.add(g,d),d.D=0}}function r4(d,g){return mx(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=g.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Wi(c(d.Ea,d,g),Lx(d,d.D)),d.D++,!0)}t.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const O=new Ss(this,this.j,d);let F=this.o;if(this.U&&(F?(F=se(F),ce(F,this.U)):F=this.U),this.u!==null||this.R||(O.J=F,F=null),this.S)e:{for(var g=0,E=0;E<this.i.length;E++){t:{var P=this.i[E];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(g+=P,g>4096){g=E;break e}if(g===4096||E===this.i.length-1){g=E+1;break e}}g=1e3}else g=1e3;g=Dx(this,O,g),E=wr(this.J),Ve(E,"RID",d),Ve(E,"CVER",22),this.G&&Ve(E,"X-HTTP-Session-Id",this.G),Fl(this,E),F&&(this.R?g="headers="+Al(Cx(F))+"&"+g:this.u&&qp(E,this.u,F)),zp(this.h,O),this.Ra&&Ve(E,"TYPE","init"),this.S?(Ve(E,"$req",g),Ve(E,"SID","null"),O.U=!0,Fp(O,E,null)):Fp(O,E,g),this.I=2}}else this.I==3&&(d?jx(this,d):this.i.length==0||px(this.h)||jx(this))};function jx(d,g){var E;g?E=g.l:E=d.V++;const P=wr(d.J);Ve(P,"SID",d.M),Ve(P,"RID",E),Ve(P,"AID",d.K),Fl(d,P),d.u&&d.o&&qp(P,d.u,d.o),E=new Ss(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),g&&(d.i=g.G.concat(d.i)),g=Dx(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),zp(d.h,E),Fp(E,P,g)}function Fl(d,g){d.H&&L(d.H,function(E,P){Ve(g,P,E)}),d.l&&L({},function(E,P){Ve(g,P,E)})}function Dx(d,g,E){E=Math.min(d.i.length,E);const P=d.l?c(d.l.Ka,d.l,d):null;e:{var O=d.i;let ge=-1;for(;;){const mt=["count="+E];ge==-1?E>0?(ge=O[0].g,mt.push("ofs="+ge)):ge=0:mt.push("ofs="+ge);let ke=!0;for(let Tt=0;Tt<E;Tt++){var F=O[Tt].g;const _r=O[Tt].map;if(F-=ge,F<0)ge=Math.max(0,O[Tt].g-100),ke=!1;else try{F="req"+F+"_"||"";try{var G=_r instanceof Map?_r:Object.entries(_r);for(const[Qi,As]of G){let Ns=As;a(As)&&(Ns=Cl(As)),mt.push(F+Qi+"="+encodeURIComponent(Ns))}}catch(Qi){throw mt.push(F+"type="+encodeURIComponent("_badmap")),Qi}}catch{P&&P(_r)}}if(ke){G=mt.join("&");break e}}G=void 0}return d=d.i.splice(0,E),g.G=d,G}function Mx(d){if(!d.g&&!d.v){d.Y=1;var g=d.Da;j||S(),V||(j(),V=!0),C.add(g,d),d.A=0}}function Kp(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Wi(c(d.Da,d),Lx(d,d.A)),d.A++,!0)}t.Da=function(){if(this.v=null,Vx(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Wi(c(this.Wa,this),d)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pt(10),id(this),Vx(this))};function Qp(d){d.B!=null&&(o.clearTimeout(d.B),d.B=null)}function Vx(d){d.g=new Ss(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var g=wr(d.na);Ve(g,"RID","rpc"),Ve(g,"SID",d.M),Ve(g,"AID",d.K),Ve(g,"CI",d.F?"0":"1"),!d.F&&d.ia&&Ve(g,"TO",d.ia),Ve(g,"TYPE","xmlhttp"),Fl(d,g),d.u&&d.o&&qp(g,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=nd(wr(g)),E.u=null,E.R=!0,ux(E,d)}t.Va=function(){this.C!=null&&(this.C=null,id(this),Kp(this),pt(19))};function ad(d){d.C!=null&&(o.clearTimeout(d.C),d.C=null)}function Ox(d,g){var E=null;if(d.g==g){ad(d),Qp(d),d.g=null;var P=2}else if($p(d.h,g))E=g.G,gx(d.h,g),P=1;else return;if(d.I!=0){if(g.o)if(P==1){E=g.u?g.u.length:0,g=Date.now()-g.F;var O=d.D;P=zo(),_t(P,new qn(P,E)),od(d)}else Mx(d);else if(O=g.m,O==3||O==0&&g.X>0||!(P==1&&r4(d,g)||P==2&&Kp(d)))switch(E&&E.length>0&&(g=d.h,g.i=g.i.concat(E)),O){case 1:Ki(d,5);break;case 4:Ki(d,10);break;case 3:Ki(d,6);break;default:Ki(d,2)}}}function Lx(d,g){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*g}function Ki(d,g){if(d.j.info("Error code "+g),g==2){var E=c(d.bb,d),P=d.Ua;const O=!P;P=new Cs(P||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Rl(P,"https"),nd(P),O?Xk(P.toString(),E):Jk(P.toString(),E)}else pt(2);d.I=0,d.l&&d.l.pa(g),Fx(d),kx(d)}t.bb=function(d){d?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Fx(d){if(d.I=0,d.ja=[],d.l){const g=yx(d.h);(g.length!=0||d.i.length!=0)&&(x(d.ja,g),x(d.ja,d.i),d.h.i.length=0,m(d.i),d.i.length=0),d.l.oa()}}function Ux(d,g,E){var P=E instanceof Cs?wr(E):new Cs(E);if(P.g!="")g&&(P.g=g+"."+P.g),kl(P,P.u);else{var O=o.location;P=O.protocol,g=g?g+"."+O.hostname:O.hostname,O=+O.port;const F=new Cs(null);P&&Rl(F,P),g&&(F.g=g),O&&kl(F,O),E&&(F.h=E),P=F}return E=d.G,g=d.wa,E&&g&&Ve(P,E,g),Ve(P,"VER",d.ka),Fl(d,P),P}function Bx(d,g,E){if(g&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=d.Aa&&!d.ma?new Ye(new Wp({ab:E})):new Ye(d.ma),g.Fa(d.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $x(){}t=$x.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ld(){}ld.prototype.g=function(d,g){return new gn(d,g)};function gn(d,g){ze.call(this),this.g=new Rx(g),this.l=d,this.h=g&&g.messageUrlParams||null,d=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(d?d["X-WebChannel-Content-Type"]=g.messageContentType:d={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(d?d["X-WebChannel-Client-Profile"]=g.sa:d={"X-WebChannel-Client-Profile":g.sa}),this.g.U=d,(d=g&&g.Qb)&&!R(d)&&(this.g.u=d),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,d=this.h,d!==null&&g in d&&(d=this.h,g in d&&delete d[g])),this.j=new Wo(this)}f(gn,ze),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Gp(this.g)},gn.prototype.o=function(d){var g=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Cl(d),d=E);g.i.push(new zk(g.Ya++,d)),g.I==3&&od(g)},gn.prototype.N=function(){this.g.l=null,delete this.j,Gp(this.g),delete this.g,gn.Z.N.call(this)};function zx(d){vr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var g=d.__sm__;if(g){e:{for(const E in g){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,g=g!==null&&d in g?g[d]:void 0),this.data=g}else this.data=d}f(zx,vr);function Hx(){$o.call(this),this.status=1}f(Hx,$o);function Wo(d){this.g=d}f(Wo,$x),Wo.prototype.ra=function(){_t(this.g,"a")},Wo.prototype.qa=function(d){_t(this.g,new zx(d))},Wo.prototype.pa=function(d){_t(this.g,new Hx)},Wo.prototype.oa=function(){_t(this.g,"b")},ld.prototype.createWebChannel=ld.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,QP=function(){return new ld},KP=function(){return zo()},GP=sn,by={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},An.NO_ERROR=0,An.TIMEOUT=8,An.HTTP_ERROR=6,ch=An,on.COMPLETE="complete",qP=on,Il.EventType=qr,qr.OPEN="a",qr.CLOSE="b",qr.ERROR="c",qr.MESSAGE="d",ze.prototype.listen=ze.prototype.J,sc=Il,Ye.prototype.listenOnce=Ye.prototype.K,Ye.prototype.getLastError=Ye.prototype.Ha,Ye.prototype.getLastErrorCode=Ye.prototype.ya,Ye.prototype.getStatus=Ye.prototype.ca,Ye.prototype.getResponseJson=Ye.prototype.La,Ye.prototype.getResponseText=Ye.prototype.la,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Fa,WP=Ye}).apply(typeof Dd<"u"?Dd:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.8.0";function w8(t){ml=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=new kv("@firebase/firestore");function Go(){return ko.logLevel}function Q(t,...e){if(ko.logLevel<=ve.DEBUG){const n=e.map(qv);ko.debug(`Firestore (${ml}): ${t}`,...n)}}function gs(t,...e){if(ko.logLevel<=ve.ERROR){const n=e.map(qv);ko.error(`Firestore (${ml}): ${t}`,...n)}}function Qa(t,...e){if(ko.logLevel<=ve.WARN){const n=e.map(qv);ko.warn(`Firestore (${ml}): ${t}`,...n)}}function qv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,YP(t,r,n)}function YP(t,e,n){let r=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw gs(r),new Error(r)}function Ie(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||YP(e,s,r)}function de(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class E8{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class T8{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ie(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mi,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ie(typeof r.accessToken=="string",31837,{l:r}),new XP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ie(e===null||typeof e=="string",2055,{h:e}),new Ft(e)}}class b8{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class S8{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new b8(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class wE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C8{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ie(this.o===void 0,3512);const r=i=>{i.error!=null&&Q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,Q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{Q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):Q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new wE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ie(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new wE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=I8(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function xe(t,e){return t<e?-1:t>e?1:0}function Sy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Fm(s)===Fm(i)?xe(s,i):Fm(s)?1:-1}return xe(t.length,e.length)}const P8=55296,A8=57343;function Fm(t){const e=t.charCodeAt(0);return e>=P8&&e<=A8}function Ya(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E="__name__";class br{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return br.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof br?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=br.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return xe(e.length,n.length)}static compareSegments(e,n){const r=br.isNumericId(e),s=br.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?br.extractNumericId(e).compare(br.extractNumericId(n)):Sy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pi.fromString(e.substring(4,e.length-2))}}class De extends br{construct(e,n,r){return new De(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new De(n)}static emptyPath(){return new De([])}}const N8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Nt extends br{construct(e,n,r){return new Nt(e,n,r)}static isValidIdentifier(e){return N8.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_E}static keyField(){return new Nt([_E])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Nt(n)}static emptyPath(){return new Nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(De.fromString(e))}static fromName(e){return new ne(De.fromString(e).popFirst(5))}static empty(){return new ne(De.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&De.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return De.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new De(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e,n){if(!n)throw new K(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function R8(t,e,n,r){if(e===!0&&r===!0)throw new K(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function EE(t){if(!ne.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TE(t){if(ne.isDocumentKey(t))throw new K(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ZP(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function Ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=up(t);throw new K(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ou(t,e){if(!ZP(t))throw new K(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=-62135596800,SE=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*SE);return new Fe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<bE)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/SE}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ou(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-bE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:dt("string",Fe._jsonSchemaVersion),seconds:dt("number"),nanoseconds:dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new Fe(0,0))}static max(){return new ue(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function k8(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ue.fromTimestamp(r===1e9?new Fe(n+1,0):new Fe(n,r));return new Ti(s,ne.empty(),e)}function j8(t){return new Ti(t.readTime,t.key,ru)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(ue.min(),ne.empty(),ru)}static max(){return new Ti(ue.max(),ne.empty(),ru)}}function D8(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M8="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V8{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gl(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==M8)throw t;Q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function O8(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv=-1;function hp(t){return t==null}function af(t){return t===0&&1/t==-1/0}function L8(t){return typeof t=="number"&&Number.isInteger(t)&&!af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="";function F8(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=CE(e)),e=U8(t.get(n),e);return CE(e)}function U8(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case eA:n+="";break;default:n+=i}}return n}function CE(t){return t+eA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Md(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Md(this.root,e,this.comparator,!1)}getReverseIterator(){return new Md(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Md(this.root,e,this.comparator,!0)}}class Md{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??At.RED,this.left=s??At.EMPTY,this.right=i??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new At(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return At.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wt(this.comparator);return n.data=e,n}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new wt(Nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new nA("Invalid base64 string: "+i):i}}(e);return new jt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const B8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(t){if(Ie(!!t,39018),typeof t=="string"){let e=0;const n=B8.exec(t);if(Ie(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Si(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA="server_timestamp",sA="__type__",iA="__previous_value__",oA="__local_write_time__";function Qv(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[sA])==null?void 0:r.stringValue)===rA}function fp(t){const e=t.mapValue.fields[iA];return Qv(e)?fp(e):e}function su(t){const e=bi(t.mapValue.fields[oA].timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $8{constructor(e,n,r,s,i,o,a,l,c,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=h,this.apiKey=f}}const lf="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||lf}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===lf}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}function z8(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new K(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="__type__",lA="__max__",Vd={mapValue:{fields:{__type__:{stringValue:lA}}}},cA="__vector__",cf="value";function Ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:W8(t)?9007199254740991:H8(t)?10:11:ae(28295,{value:t})}function Ur(t,e){if(t===e)return!0;const n=Ci(t);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return su(t).isEqual(su(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=bi(s.timestampValue),a=bi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Si(s.bytesValue).isEqual(Si(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return rt(s.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(s.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return rt(s.integerValue)===rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=rt(s.doubleValue),a=rt(i.doubleValue);return o===a?af(o)===af(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ya(t.arrayValue.values||[],e.arrayValue.values||[],Ur);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(IE(o)!==IE(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ur(o[l],a[l])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function ou(t,e){return(t.values||[]).find(n=>Ur(n,e))!==void 0}function Xa(t,e){if(t===e)return 0;const n=Ci(t),r=Ci(e);if(n!==r)return xe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=rt(i.integerValue||i.doubleValue),l=rt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return AE(t.timestampValue,e.timestampValue);case 4:return AE(su(t),su(e));case 5:return Sy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Si(i),l=Si(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const h=xe(a[c],l[c]);if(h!==0)return h}return xe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=xe(rt(i.latitude),rt(o.latitude));return a!==0?a:xe(rt(i.longitude),rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return NE(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,m,x,v;const a=i.fields||{},l=o.fields||{},c=(p=a[cf])==null?void 0:p.arrayValue,h=(m=l[cf])==null?void 0:m.arrayValue,f=xe(((x=c==null?void 0:c.values)==null?void 0:x.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:NE(c,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Vd.mapValue&&o===Vd.mapValue)return 0;if(i===Vd.mapValue)return 1;if(o===Vd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},h=Object.keys(c);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=Sy(l[f],h[f]);if(p!==0)return p;const m=Xa(a[l[f]],c[h[f]]);if(m!==0)return m}return xe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{he:n})}}function AE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=bi(t),r=bi(e),s=xe(n.seconds,r.seconds);return s!==0?s:xe(n.nanos,r.nanos)}function NE(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Xa(n[s],r[s]);if(i)return i}return xe(n.length,r.length)}function Ja(t){return Cy(t)}function Cy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=bi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Cy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Cy(n.fields[o])}`;return s+"}"}(t.mapValue):ae(61005,{value:t})}function uh(t){switch(Ci(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fp(t);return e?16+uh(e):16;case 5:return 2*t.stringValue.length;case 6:return Si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+uh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Li(r.fields,(i,o)=>{s+=i.length+uh(o)}),s}(t.mapValue);default:throw ae(13486,{value:t})}}function RE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Iy(t){return!!t&&"integerValue"in t}function Yv(t){return!!t&&"arrayValue"in t}function kE(t){return!!t&&"nullValue"in t}function jE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dh(t){return!!t&&"mapValue"in t}function H8(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[aA])==null?void 0:r.stringValue)===cA}function Tc(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tc(t.arrayValue.values[n]);return e}return{...t}}function W8(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===lA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tc(n)}setAll(e){let n=Nt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Tc(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ur(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];dh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Li(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new un(Tc(this.value))}}function uA(t){const e=[];return Li(t.fields,(n,r)=>{const s=new Nt([n]);if(dh(r)){const i=uA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,ue.min(),ue.min(),ue.min(),un.empty(),0)}static newFoundDocument(e,n,r,s){return new Bt(e,1,n,ue.min(),r,s,0)}static newNoDocument(e,n){return new Bt(e,2,n,ue.min(),ue.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,ue.min(),ue.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.position=e,this.inclusive=n}}function DE(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ne.comparator(ne.fromName(o.referenceValue),n.key):r=Xa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function ME(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ur(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function q8(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{}class ut extends dA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new K8(e,n,r):n==="array-contains"?new X8(e,r):n==="in"?new J8(e,r):n==="not-in"?new Z8(e,r):n==="array-contains-any"?new e7(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Q8(e,r):new Y8(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xa(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fr extends dA{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new fr(e,n)}matches(e){return hA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function hA(t){return t.op==="and"}function fA(t){return G8(t)&&hA(t)}function G8(t){for(const e of t.filters)if(e instanceof fr)return!1;return!0}function Py(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+Ja(t.value);if(fA(t))return t.filters.map(e=>Py(e)).join(",");{const e=t.filters.map(n=>Py(n)).join(",");return`${t.op}(${e})`}}function pA(t,e){return t instanceof ut?function(r,s){return s instanceof ut&&r.op===s.op&&r.field.isEqual(s.field)&&Ur(r.value,s.value)}(t,e):t instanceof fr?function(r,s){return s instanceof fr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&pA(o,s.filters[a]),!0):!1}(t,e):void ae(19439)}function mA(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Ja(n.value)}`}(t):t instanceof fr?function(n){return n.op.toString()+" {"+n.getFilters().map(mA).join(" ,")+"}"}(t):"Filter"}class K8 extends ut{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class Q8 extends ut{constructor(e,n){super(e,"in",n),this.keys=gA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Y8 extends ut{constructor(e,n){super(e,"not-in",n),this.keys=gA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gA(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class X8 extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yv(n)&&ou(n.arrayValue,this.value)}}class J8 extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class Z8 extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class e7 extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t7{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function VE(t,e=null,n=[],r=[],s=null,i=null,o=null){return new t7(t,e,n,r,s,i,o)}function Xv(t){const e=de(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Py(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),hp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ja(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ja(r)).join(",")),e.Te=n}return e.Te}function Jv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!q8(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ME(t.startAt,e.startAt)&&ME(t.endAt,e.endAt)}function Ay(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function n7(t,e,n,r,s,i,o,a){return new vl(t,e,n,r,s,i,o,a)}function pp(t){return new vl(t)}function OE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function r7(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function yA(t){return t.collectionGroup!==null}function bc(t){const e=de(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wt(Nt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new au(i,r))}),n.has(Nt.keyField().canonicalString())||e.Ie.push(new au(Nt.keyField(),r))}return e.Ie}function Dr(t){const e=de(t);return e.Ee||(e.Ee=s7(e,bc(t))),e.Ee}function s7(t,e){if(t.limitType==="F")return VE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new au(s.field,i)});const n=t.endAt?new uf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uf(t.startAt.position,t.startAt.inclusive):null;return VE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ny(t,e){const n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function i7(t,e){const n=t.explicitOrderBy.concat([e]);return new vl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function Ry(t,e,n){return new vl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mp(t,e){return Jv(Dr(t),Dr(e))&&t.limitType===e.limitType}function vA(t){return`${Xv(Dr(t))}|lt:${t.limitType}`}function Ko(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>mA(s)).join(", ")}]`),hp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ja(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ja(s)).join(",")),`Target(${r})`}(Dr(t))}; limitType=${t.limitType})`}function gp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ne.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of bc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=DE(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,bc(r),s)||r.endAt&&!function(o,a,l){const c=DE(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,bc(r),s))}(t,e)}function o7(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xA(t){return(e,n)=>{let r=!1;for(const s of bc(t)){const i=a7(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function a7(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Xa(l,c):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7=new Qe(ne.comparator);function ys(){return l7}const wA=new Qe(ne.comparator);function ic(...t){let e=wA;for(const n of t)e=e.insert(n.key,n);return e}function _A(t){let e=wA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function io(){return Sc()}function EA(){return Sc()}function Sc(){return new Lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const c7=new Qe(ne.comparator),u7=new wt(ne.comparator);function we(...t){let e=u7;for(const n of t)e=e.add(n);return e}const d7=new wt(xe);function h7(){return d7}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function TA(t){return{integerValue:""+t}}function f7(t,e){return L8(e)?TA(e):Zv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this._=void 0}}function p7(t,e,n){return t instanceof lu?function(s,i){const o={fields:{[sA]:{stringValue:rA},[oA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Qv(i)&&(i=fp(i)),i&&(o.fields[iA]=i),{mapValue:o}}(n,e):t instanceof cu?SA(t,e):t instanceof uu?CA(t,e):function(s,i){const o=bA(s,i),a=LE(o)+LE(s.Ae);return Iy(o)&&Iy(s.Ae)?TA(a):Zv(s.serializer,a)}(t,e)}function m7(t,e,n){return t instanceof cu?SA(t,e):t instanceof uu?CA(t,e):n}function bA(t,e){return t instanceof df?function(r){return Iy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class lu extends yp{}class cu extends yp{constructor(e){super(),this.elements=e}}function SA(t,e){const n=IA(e);for(const r of t.elements)n.some(s=>Ur(s,r))||n.push(r);return{arrayValue:{values:n}}}class uu extends yp{constructor(e){super(),this.elements=e}}function CA(t,e){let n=IA(e);for(const r of t.elements)n=n.filter(s=>!Ur(s,r));return{arrayValue:{values:n}}}class df extends yp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function LE(t){return rt(t.integerValue||t.doubleValue)}function IA(t){return Yv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e,n){this.field=e,this.transform=n}}function y7(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof cu&&s instanceof cu||r instanceof uu&&s instanceof uu?Ya(r.elements,s.elements,Ur):r instanceof df&&s instanceof df?Ur(r.Ae,s.Ae):r instanceof lu&&s instanceof lu}(t.transform,e.transform)}class v7{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vp{}function PA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new e1(t.key,Fn.none()):new Lu(t.key,t.data,Fn.none());{const n=t.data,r=un.empty();let s=new wt(Nt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Fi(t.key,r,new _n(s.toArray()),Fn.none())}}function x7(t,e,n){t instanceof Lu?function(s,i,o){const a=s.value.clone(),l=UE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fi?function(s,i,o){if(!hh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=UE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(AA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Cc(t,e,n,r){return t instanceof Lu?function(i,o,a,l){if(!hh(i.precondition,o))return a;const c=i.value.clone(),h=BE(i.fieldTransforms,l,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fi?function(i,o,a,l){if(!hh(i.precondition,o))return a;const c=BE(i.fieldTransforms,l,o),h=o.data;return h.setAll(AA(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return hh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function w7(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=bA(r.transform,s||null);i!=null&&(n===null&&(n=un.empty()),n.set(r.field,i))}return n||null}function FE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ya(r,s,(i,o)=>y7(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Lu extends vp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Fi extends vp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function AA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function UE(t,e,n){const r=new Map;Ie(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,m7(o,a,n[s]))}return r}function BE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,p7(i,o,e))}return r}class e1 extends vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _7 extends vp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&x7(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Cc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=PA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(n,r)=>FE(n,r))&&Ya(this.baseMutations,e.baseMutations,(n,r)=>FE(n,r))}}class t1{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ie(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return c7}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new t1(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ee;function S7(t){switch(t){case B.OK:return ae(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function NA(t){if(t===void 0)return gs("GRPC error has no .code"),B.UNKNOWN;switch(t){case at.OK:return B.OK;case at.CANCELLED:return B.CANCELLED;case at.UNKNOWN:return B.UNKNOWN;case at.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case at.INTERNAL:return B.INTERNAL;case at.UNAVAILABLE:return B.UNAVAILABLE;case at.UNAUTHENTICATED:return B.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case at.NOT_FOUND:return B.NOT_FOUND;case at.ALREADY_EXISTS:return B.ALREADY_EXISTS;case at.PERMISSION_DENIED:return B.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case at.ABORTED:return B.ABORTED;case at.OUT_OF_RANGE:return B.OUT_OF_RANGE;case at.UNIMPLEMENTED:return B.UNIMPLEMENTED;case at.DATA_LOSS:return B.DATA_LOSS;default:return ae(39323,{code:t})}}(Ee=at||(at={}))[Ee.OK=0]="OK",Ee[Ee.CANCELLED=1]="CANCELLED",Ee[Ee.UNKNOWN=2]="UNKNOWN",Ee[Ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ee[Ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ee[Ee.NOT_FOUND=5]="NOT_FOUND",Ee[Ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ee[Ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ee[Ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ee[Ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ee[Ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ee[Ee.ABORTED=10]="ABORTED",Ee[Ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ee[Ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ee[Ee.INTERNAL=13]="INTERNAL",Ee[Ee.UNAVAILABLE=14]="UNAVAILABLE",Ee[Ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=new pi([4294967295,4294967295],0);function $E(t){const e=C7().encode(t),n=new HP;return n.update(e),new Uint8Array(n.digest())}function zE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new pi([n,r],0),new pi([s,i],0)]}class n1{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new oc(`Invalid padding: ${n}`);if(r<0)throw new oc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new oc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new oc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(pi.fromNumber(r)));return s.compare(I7)===1&&(s=new pi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$E(e),[r,s]=zE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new n1(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=$E(e),[r,s]=zE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class oc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Fu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new xp(ue.min(),s,new Qe(xe),ys(),we())}}class Fu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Fu(r,n,we(),we(),we())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class RA{constructor(e,n){this.targetId=e,this.Ce=n}}class kA{constructor(e,n,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class HE{constructor(){this.ve=0,this.Fe=WE(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=we(),n=we(),r=we();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ae(38017,{changeType:i})}}),new Fu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=WE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ie(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class P7{constructor(e){this.Ge=e,this.ze=new Map,this.je=ys(),this.He=Od(),this.Je=Od(),this.Ze=new Qe(xe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(Ay(i))if(r===0){const o=new ne(i.path);this.et(n,o,Bt.newNoDocument(o,ue.min()))}else Ie(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Si(r).toUint8Array()}catch(l){if(l instanceof nA)return Qa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new n1(o,s,i)}catch(l){return Qa(l instanceof oc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&Ay(a.target)){const l=new ne(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Bt.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=we();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new xp(e,n,this.Ze,this.je,r);return this.je=ys(),this.He=Od(),this.Je=Od(),this.Ze=new Qe(xe),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new HE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new wt(xe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new wt(xe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new HE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Od(){return new Qe(ne.comparator)}function WE(){return new Qe(ne.comparator)}const A7={asc:"ASCENDING",desc:"DESCENDING"},N7={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R7={and:"AND",or:"OR"};class k7{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ky(t,e){return t.useProto3Json||hp(e)?e:{value:e}}function hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function j7(t,e){return hf(t,e.toTimestamp())}function Mr(t){return Ie(!!t,49232),ue.fromTimestamp(function(n){const r=bi(n);return new Fe(r.seconds,r.nanos)}(t))}function r1(t,e){return jy(t,e).canonicalString()}function jy(t,e){const n=function(s){return new De(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function DA(t){const e=De.fromString(t);return Ie(FA(e),10190,{key:e.toString()}),e}function Dy(t,e){return r1(t.databaseId,e.path)}function Um(t,e){const n=DA(e);if(n.get(1)!==t.databaseId.projectId)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(VA(n))}function MA(t,e){return r1(t.databaseId,e)}function D7(t){const e=DA(t);return e.length===4?De.emptyPath():VA(e)}function My(t){return new De(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function VA(t){return Ie(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function qE(t,e,n){return{name:Dy(t,e),fields:n.value.mapValue.fields}}function M7(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Ie(h===void 0||typeof h=="string",58123),jt.fromBase64String(h||"")):(Ie(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const h=c.code===void 0?B.UNKNOWN:NA(c.code);return new K(h,c.message||"")}(o);n=new kA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Um(t,r.document.name),i=Mr(r.document.updateTime),o=r.document.createTime?Mr(r.document.createTime):ue.min(),a=new un({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new fh(c,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Um(t,r.document),i=r.readTime?Mr(r.readTime):ue.min(),o=Bt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new fh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Um(t,r.document),i=r.removedTargetIds||[];n=new fh([],i,s,null)}else{if(!("filter"in e))return ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new b7(s,i),a=r.targetId;n=new RA(a,o)}}return n}function V7(t,e){let n;if(e instanceof Lu)n={update:qE(t,e.key,e.value)};else if(e instanceof e1)n={delete:Dy(t,e.key)};else if(e instanceof Fi)n={update:qE(t,e.key,e.data),updateMask:W7(e.fieldMask)};else{if(!(e instanceof _7))return ae(16599,{dt:e.type});n={verify:Dy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof lu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof uu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof df)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ae(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:j7(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ae(27497)}(t,e.precondition)),n}function O7(t,e){return t&&t.length>0?(Ie(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Mr(s.updateTime):Mr(i);return o.isEqual(ue.min())&&(o=Mr(i)),new v7(o,s.transformResults||[])}(n,e))):[]}function L7(t,e){return{documents:[MA(t,e.path)]}}function F7(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=MA(t,s);const i=function(c){if(c.length!==0)return LA(fr.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(p){return{field:Qo(p.field),direction:$7(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ky(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:s}}function U7(t){let e=D7(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ie(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=OA(f);return p instanceof fr&&fA(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(x){return new au(Yo(x.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,hp(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,m=f.values||[];return new uf(m,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,m=f.values||[];return new uf(m,p)}(n.endAt)),n7(e,s,o,i,a,"F",l,c)}function B7(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Yo(n.unaryFilter.field);return ut.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Yo(n.unaryFilter.field);return ut.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yo(n.unaryFilter.field);return ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Yo(n.unaryFilter.field);return ut.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return ut.create(Yo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fr.create(n.compositeFilter.filters.map(r=>OA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function $7(t){return A7[t]}function z7(t){return N7[t]}function H7(t){return R7[t]}function Qo(t){return{fieldPath:t.canonicalString()}}function Yo(t){return Nt.fromServerFormat(t.fieldPath)}function LA(t){return t instanceof ut?function(n){if(n.op==="=="){if(jE(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NAN"}};if(kE(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(jE(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NAN"}};if(kE(n.value))return{unaryFilter:{field:Qo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(n.field),op:z7(n.op),value:n.value}}}(t):t instanceof fr?function(n){const r=n.getFilters().map(s=>LA(s));return r.length===1?r[0]:{compositeFilter:{op:H7(n.op),filters:r}}}(t):ae(54877,{filter:t})}function W7(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function FA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function UA(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r,s,i=ue.min(),o=ue.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q7{constructor(e){this.yt=e}}function G7(t){const e=U7({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(){this.Sn=new Q7}addToCollectionParentIndex(e,n){return this.Sn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(Ti.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class Q7{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new wt(De.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wt(De.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},BA=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(BA,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Za(0)}static ar(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="LruGarbageCollector",Y7=1048576;function QE([t,e],[n,r]){const s=xe(t,n);return s===0?xe(e,r):s}class X7{constructor(e){this.Pr=e,this.buffer=new wt(QE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();QE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class J7{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Q(KE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yl(n)?Q(KE,"Ignoring IndexedDB error during garbage collection: ",n):await gl(n)}await this.Ar(3e5)})}}class Z7{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(dp.ce);const r=new X7(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Q("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(GE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),GE):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,l,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Go()<=ve.DEBUG&&Q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function eU(t,e){return new Z7(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(){this.changes=new Lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Cc(r.mutation,s,_n.empty(),Fe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){const s=io();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ic();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=io();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ys();const o=Sc(),a=function(){return Sc()}();return n.forEach((l,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Fi)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Cc(h.mutation,c,h.mutation.getFieldMask(),Fe.now())):o.set(c.key,_n.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>a.set(c,new nU(h,o.get(c)??null))),a))}recalculateAndSaveOverlays(e,n){const r=Sc();let s=new Qe((o,a)=>o-a),i=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let h=r.get(l)||_n.empty();h=a.applyToLocalView(c,h),r.set(l,h);const f=(s.get(a.batchId)||we()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,h=l.value,f=EA();h.forEach(p=>{if(!i.has(p)){const m=PA(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return r7(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(io());let a=ru,l=i;return o.next(c=>$.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,we())).next(h=>({batchId:a,changes:_A(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let s=ic();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=ic();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const c=function(f,p){return new vl(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Bt.newInvalidDocument(h)))});let a=ic();return o.forEach((l,c)=>{const h=i.get(l);h!==void 0&&Cc(h.mutation,c,_n.empty(),Fe.now()),gp(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sU{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return $.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mr(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:G7(s.bundledQuery),readTime:Mr(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(){this.overlays=new Qe(ne.comparator),this.Lr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=io();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=io(),i=n.length+1,o=new ne(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Qe((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=io(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=io(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return $.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new T7(n,r));let i=this.Lr.get(n);i===void 0&&(i=we(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.kr=new wt(bt.Kr),this.qr=new wt(bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new bt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new bt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new ne(new De([])),r=new bt(n,e),s=new bt(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ne(new De([])),r=new bt(n,e),s=new bt(n,e+1);let i=we();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new bt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ne.comparator(e.key,n.key)||xe(e.Hr,n.Hr)}static Ur(e,n){return xe(e.Hr,n.Hr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new wt(bt.Kr)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new E7(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new bt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Kv:this.Yn-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new bt(n,0),s=new bt(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(xe);return n.forEach(s=>{const i=new bt(s,0),o=new bt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),$.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ne.isDocumentKey(i)||(i=i.child(""));const o=new bt(new ne(i),0);let a=new wt(xe);return this.Jr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.Hr)),!0)},o),$.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ie(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return $.forEach(n.mutations,s=>{const i=new bt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new bt(n,0),s=this.Jr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e){this.ti=e,this.docs=function(){return new Qe(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=ys();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ys();const o=n.path,a=new ne(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:h}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||D8(j8(h),r)<=0||(s.has(h.key)||gp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ae(9500)}ni(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cU(this)}getSize(e){return $.resolve(this.size)}}class cU extends tU{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uU{constructor(e){this.persistence=e,this.ri=new Lo(n=>Xv(n),Jv),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.ii=0,this.si=new s1,this.targetCount=0,this.oi=Za._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),$.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Za(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.lr(n),$.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,n){this._i={},this.overlays={},this.ai=new dp(0),this.ui=!1,this.ui=!0,this.ci=new oU,this.referenceDelegate=e(this),this.li=new uU(this),this.indexManager=new K7,this.remoteDocumentCache=function(s){return new lU(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new q7(n),this.Pi=new sU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new aU(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Q("MemoryPersistence","Starting transaction:",e);const s=new dU(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return $.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class dU extends V8{constructor(e){super(),this.currentSequenceNumber=e}}class i1{constructor(e){this.persistence=e,this.Ri=new s1,this.Ai=null}static Vi(e){return new i1(e)}get di(){if(this.Ai)return this.Ai;throw ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.di,r=>{const s=ne.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,ue.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class ff{constructor(e,n){this.persistence=e,this.fi=new Lo(r=>F8(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=eU(this,n)}static Vi(e,n){return new ff(e,n)}Ti(){}Ii(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return $.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,ue.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),$.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}wr(e,n,r){return $.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=we(),s=we();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new o1(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fU{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return LL()?8:O8(Gt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new hU;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Go()<=ve.DEBUG&&Q("QueryEngine","SDK will not create cache indexes for query:",Ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),$.resolve()):(Go()<=ve.DEBUG&&Q("QueryEngine","Query:",Ko(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Go()<=ve.DEBUG&&Q("QueryEngine","The SDK decides to create cache indexes for query:",Ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):$.resolve())}gs(e,n){if(OE(n))return $.resolve(null);let r=Dr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Ry(n,null,"F"),r=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=we(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ss(n,c,o,l.readTime)?this.gs(e,Ry(n,null,"F")):this.Ds(e,c,n,l)}))})))}ps(e,n,r,s){return OE(n)||s.isEqual(ue.min())?$.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?$.resolve(null):(Go()<=ve.DEBUG&&Q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ko(n)),this.Ds(e,o,n,k8(s,ru)).next(a=>a))})}bs(e,n){let r=new wt(xA(e));return n.forEach((s,i)=>{gp(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return Go()<=ve.DEBUG&&Q("QueryEngine","Using full collection scan to execute query:",Ko(n)),this.fs.getDocumentsMatchingQuery(e,n,Ti.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="LocalStore",pU=3e8;class mU{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new Qe(xe),this.Fs=new Lo(i=>Xv(i),Jv),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rU(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function gU(t,e,n,r){return new mU(t,e,n,r)}async function zA(t,e){const n=de(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=we();for(const c of s){o.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function yU(t,e){const n=de(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,h){const f=c.batch,p=f.keys();let m=$.resolve();return p.forEach(x=>{m=m.next(()=>h.getEntry(l,x)).next(v=>{const T=c.docVersions.get(x);Ie(T!==null,48541),v.version.compareTo(T)<0&&(f.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),h.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=we();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function HA(t){const e=de(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function vU(t,e){const n=de(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.li.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,h.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(jt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(f,m),function(v,T,_){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=pU?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,h)&&a.push(n.li.updateTargetData(i,m))});let l=ys(),c=we();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(xU(i,o,e.documentUpdates).next(h=>{l=h.Bs,c=h.Ls})),!r.isEqual(ue.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.vs=s,i))}function xU(t,e,n){let r=we(),s=we();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ys();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ue.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Q(a1,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function wU(t,e){const n=de(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Kv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _U(t,e){const n=de(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new Zs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Vy(t,e,n){const r=de(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!yl(o))throw o;Q(a1,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function YE(t,e,n){const r=de(t);let s=ue.min(),i=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,h){const f=de(l),p=f.Fs.get(h);return p!==void 0?$.resolve(f.vs.get(p)):f.li.getTargetData(c,h)}(r,o,Dr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:ue.min(),n?i:we())).next(a=>(EU(r,o7(e),a),{documents:a,ks:i})))}function EU(t,e,n){let r=t.Ms.get(e)||ue.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class XE{constructor(){this.activeTargetIds=h7()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TU{constructor(){this.vo=new XE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new XE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bU{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="ConnectivityMonitor";class ZE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Q(JE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Q(JE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld=null;function Oy(){return Ld===null?Ld=function(){return 268435456+Math.round(2147483648*Math.random())}():Ld++,"0x"+Ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",SU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class CU{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===lf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Oy(),a=this.Qo(e,n.toUriEncodedString());Q(Bm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:c}=new URL(a),h=hl(c);return this.zo(e,a,l,r,h).then(f=>(Q(Bm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Qa(Bm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ml}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=SU[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection",Yl=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Ca extends CU{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ca.c_){const e=KP();Yl(e,GP.STAT_EVENT,n=>{n.stat===by.PROXY?Q(Ot,"STAT_EVENT: detected buffering proxy"):n.stat===by.NOPROXY&&Q(Ot,"STAT_EVENT: detected no buffering proxy")}),Ca.c_=!0}}zo(e,n,r,s,i){const o=Oy();return new Promise((a,l)=>{const c=new WP;c.setWithCredentials(!0),c.listenOnce(qP.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ch.NO_ERROR:const f=c.getResponseJson();Q(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case ch.TIMEOUT:Q(Ot,`RPC '${e}' ${o} timed out`),l(new K(B.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const p=c.getStatus();if(Q(Ot,`RPC '${e}' ${o} failed with status:`,p,"response text:",c.getResponseText()),p>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const x=m==null?void 0:m.error;if(x&&x.status&&x.message){const v=function(_){const y=_.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(y)>=0?y:B.UNKNOWN}(x.status);l(new K(v,x.message))}else l(new K(B.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new K(B.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{l_:e,streamId:o,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{Q(Ot,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);Q(Ot,`RPC '${e}' ${o} sending request:`,s),c.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Oy(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const c=i.join("");Q(Ot,`Creating RPC '${e}' stream ${s}: ${c}`,a);const h=o.createWebChannel(c,a);this.I_(h);let f=!1,p=!1;const m=new IU({Ho:x=>{p?Q(Ot,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(f||(Q(Ot,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),Q(Ot,`RPC '${e}' stream ${s} sending:`,x),h.send(x))},Jo:()=>h.close()});return Yl(h,sc.EventType.OPEN,()=>{p||(Q(Ot,`RPC '${e}' stream ${s} transport opened.`),m.i_())}),Yl(h,sc.EventType.CLOSE,()=>{p||(p=!0,Q(Ot,`RPC '${e}' stream ${s} transport closed`),m.o_(),this.E_(h))}),Yl(h,sc.EventType.ERROR,x=>{p||(p=!0,Qa(Ot,`RPC '${e}' stream ${s} transport errored. Name:`,x.name,"Message:",x.message),m.o_(new K(B.UNAVAILABLE,"The operation could not be completed")))}),Yl(h,sc.EventType.MESSAGE,x=>{var v;if(!p){const T=x.data[0];Ie(!!T,16349);const _=T,y=(_==null?void 0:_.error)||((v=_[0])==null?void 0:v.error);if(y){Q(Ot,`RPC '${e}' stream ${s} received error:`,y);const w=y.status;let A=function(C){const S=at[C];if(S!==void 0)return NA(S)}(w),j=y.message;A===void 0&&(A=B.INTERNAL,j="Unknown error status: "+w+" with message "+y.message),p=!0,m.o_(new K(A,j)),h.close()}else Q(Ot,`RPC '${e}' stream ${s} received:`,T),m.__(T)}}),Ca.u_(),setTimeout(()=>{m.s_()},0),m}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return QP()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PU(t){return new Ca(t)}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t){return new k7(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ca.c_=!1;class WA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&Q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="PersistentStream";class qA{constructor(e,n,r,s,i,o,a,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(gs(n.toString()),gs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Q(eT,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(Q(eT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AU extends qA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=M7(this.serializer,e),r=function(i){if(!("targetChange"in i))return ue.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ue.min():o.readTime?Mr(o.readTime):ue.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=My(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Ay(l)?{documents:L7(i,l)}:{query:F7(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=jA(i,o.resumeToken);const c=ky(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ue.min())>0){a.readTime=hf(i,o.snapshotVersion.toTimestamp());const c=ky(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=B7(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=My(this.serializer),n.removeTarget=e,this.K_(n)}}class NU extends qA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ie(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ie(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ie(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=O7(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=My(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>V7(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{}class kU extends RU{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,jy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(B.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,jy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(B.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function jU(t,e,n,r){return new kU(t,e,n,r)}class DU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gs(n),this.aa=!1):Q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class MU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{Fo(this)&&(Q(jo,"Restarting streams for network reachability change."),await async function(l){const c=de(l);c.Ea.add(4),await Uu(c),c.Va.set("Unknown"),c.Ea.delete(4),await _p(c)}(this))})}),this.Va=new DU(r,s)}}async function _p(t){if(Fo(t))for(const e of t.Ra)await e(!0)}async function Uu(t){for(const e of t.Ra)await e(!1)}function GA(t,e){const n=de(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),d1(n)?u1(n):xl(n).O_()&&c1(n,e))}function l1(t,e){const n=de(t),r=xl(n);n.Ia.delete(e),r.O_()&&KA(n,e),n.Ia.size===0&&(r.O_()?r.L_():Fo(n)&&n.Va.set("Unknown"))}function c1(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).Z_(e)}function KA(t,e){t.da.$e(e),xl(t).X_(e)}function u1(t){t.da=new P7({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.Va.ua()}function d1(t){return Fo(t)&&!xl(t).x_()&&t.Ia.size>0}function Fo(t){return de(t).Ea.size===0}function QA(t){t.da=void 0}async function VU(t){t.Va.set("Online")}async function OU(t){t.Ia.forEach((e,n)=>{c1(t,e)})}async function LU(t,e){QA(t),d1(t)?(t.Va.ha(e),u1(t)):t.Va.set("Unknown")}async function FU(t,e,n){if(t.Va.set("Online"),e instanceof kA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){Q(jo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await pf(t,r)}else if(e instanceof fh?t.da.Xe(e):e instanceof RA?t.da.st(e):t.da.tt(e),!n.isEqual(ue.min()))try{const r=await HA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(c);h&&i.Ia.set(c,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),KA(i,l);const f=new Zs(h.target,l,c,h.sequenceNumber);c1(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Q(jo,"Failed to raise snapshot:",r),await pf(t,r)}}async function pf(t,e,n){if(!yl(e))throw e;t.Ea.add(1),await Uu(t),t.Va.set("Offline"),n||(n=()=>HA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Q(jo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await _p(t)})}function YA(t,e){return e().catch(n=>pf(t,n,e))}async function Ep(t){const e=de(t),n=Ii(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Kv;for(;UU(e);)try{const s=await wU(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,BU(e,s)}catch(s){await pf(e,s)}XA(e)&&JA(e)}function UU(t){return Fo(t)&&t.Ta.length<10}function BU(t,e){t.Ta.push(e);const n=Ii(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function XA(t){return Fo(t)&&!Ii(t).x_()&&t.Ta.length>0}function JA(t){Ii(t).start()}async function $U(t){Ii(t).ra()}async function zU(t){const e=Ii(t);for(const n of t.Ta)e.ea(n.mutations)}async function HU(t,e,n){const r=t.Ta.shift(),s=t1.from(r,e,n);await YA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ep(t)}async function WU(t,e){e&&Ii(t).Y_&&await async function(r,s){if(function(o){return S7(o)&&o!==B.ABORTED}(s.code)){const i=r.Ta.shift();Ii(r).B_(),await YA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ep(r)}}(t,e),XA(t)&&JA(t)}async function tT(t,e){const n=de(t);n.asyncQueue.verifyOperationInProgress(),Q(jo,"RemoteStore received new credentials");const r=Fo(n);n.Ea.add(3),await Uu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await _p(n)}async function qU(t,e){const n=de(t);e?(n.Ea.delete(2),await _p(n)):e||(n.Ea.add(2),await Uu(n),n.Va.set("Unknown"))}function xl(t){return t.ma||(t.ma=function(n,r,s){const i=de(n);return i.sa(),new AU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:VU.bind(null,t),Yo:OU.bind(null,t),t_:LU.bind(null,t),J_:FU.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),d1(t)?u1(t):t.Va.set("Unknown")):(await t.ma.stop(),QA(t))})),t.ma}function Ii(t){return t.fa||(t.fa=function(n,r,s){const i=de(n);return i.sa(),new NU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:$U.bind(null,t),t_:WU.bind(null,t),ta:zU.bind(null,t),na:HU.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Ep(t)):(await t.fa.stop(),t.Ta.length>0&&(Q(jo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new h1(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function f1(t,e){if(gs("AsyncQueue",`${e}: ${t}`),yl(t))return new K(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{static emptySet(e){return new Ia(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=ic(),this.sortedSet=new Qe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ia)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ia;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.ga=new Qe(ne.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ae(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class el{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new el(e,n,Ia.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GU{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class KU{constructor(){this.queries=rT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=de(n),i=s.queries;s.queries=rT(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new K(B.ABORTED,"Firestore shutting down"))}}function rT(){return new Lo(t=>vA(t),mp)}async function ZA(t,e){const n=de(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new GU,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=f1(o,`Initialization of query '${Ko(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&p1(n)}async function eN(t,e){const n=de(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function QU(t,e){const n=de(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&p1(n)}function YU(t,e,n){const r=de(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function p1(t){t.Ca.forEach(e=>{e.next()})}var Ly,sT;(sT=Ly||(Ly={})).Ma="default",sT.Cache="cache";class tN{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ly.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.key=e}}class rN{constructor(e){this.key=e}}class XU{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=we(),this.mutatedKeys=we(),this.eu=xA(e),this.tu=new Ia(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new nT,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),m=gp(this.query,f)?f:null,x=!!p&&this.mutatedKeys.has(p.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let T=!1;p&&m?p.data.isEqual(m.data)?x!==v&&(r.track({type:3,doc:m}),T=!0):this.su(p,m)||(r.track({type:2,doc:m}),T=!0,(l&&this.eu(m,l)>0||c&&this.eu(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),T=!0):p&&!m&&(r.track({type:1,doc:p}),T=!0,(l||c)&&(a=!0)),T&&(m?(o=o.add(m),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(m,x){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Vt:T})}};return v(m)-v(x)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,c=l!==this.Xa;return this.Xa=l,o.length!==0||c?{snapshot:new el(this.query,e.tu,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nT,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=we(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new rN(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new nN(r))}),n}cu(e){this.Za=e.ks,this.Ya=we();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const m1="SyncEngine";class JU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZU{constructor(e){this.key=e,this.hu=!1}}class eB{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Lo(a=>vA(a),mp),this.Iu=new Map,this.Eu=new Set,this.Ru=new Qe(ne.comparator),this.Au=new Map,this.Vu=new s1,this.du={},this.mu=new Map,this.fu=Za.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tB(t,e,n=!0){const r=cN(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await sN(r,e,n,!0),s}async function nB(t,e){const n=cN(t);await sN(n,e,!0,!1)}async function sN(t,e,n,r){const s=await _U(t.localStore,Dr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await rB(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&GA(t.remoteStore,s),a}async function rB(t,e,n,r,s){t.pu=(f,p,m)=>async function(v,T,_,y){let w=T.view.ru(_);w.Ss&&(w=await YE(v.localStore,T.query,!1).then(({documents:C})=>T.view.ru(C,w)));const A=y&&y.targetChanges.get(T.targetId),j=y&&y.targetMismatches.get(T.targetId)!=null,V=T.view.applyChanges(w,v.isPrimaryClient,A,j);return oT(v,T.targetId,V.au),V.snapshot}(t,f,p,m);const i=await YE(t.localStore,e,!0),o=new XU(e,i.ks),a=o.ru(i.documents),l=Fu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);oT(t,n,c.au);const h=new JU(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function sB(t,e,n){const r=de(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!mp(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Vy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&l1(r.remoteStore,s.targetId),Fy(r,s.targetId)}).catch(gl)):(Fy(r,s.targetId),await Vy(r.localStore,s.targetId,!0))}async function iB(t,e){const n=de(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),l1(n.remoteStore,r.targetId))}async function oB(t,e,n){const r=fB(t);try{const s=await function(o,a){const l=de(o),c=Fe.now(),h=a.reduce((m,x)=>m.add(x.key),we());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let x=ys(),v=we();return l.xs.getEntries(m,h).next(T=>{x=T,x.forEach((_,y)=>{y.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,x)).next(T=>{f=T;const _=[];for(const y of a){const w=w7(y,f.get(y.key).overlayedDocument);w!=null&&_.push(new Fi(y.key,w,uA(w.value.mapValue),Fn.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,_,a)}).next(T=>{p=T;const _=T.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(m,T.batchId,_)})}).then(()=>({batchId:p.batchId,changes:_A(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.du[o.currentUser.toKey()];c||(c=new Qe(xe)),c=c.insert(a,l),o.du[o.currentUser.toKey()]=c}(r,s.batchId,n),await Bu(r,s.changes),await Ep(r.remoteStore)}catch(s){const i=f1(s,"Failed to persist write");n.reject(i)}}async function iN(t,e){const n=de(t);try{const r=await vU(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ie(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ie(o.hu,14607):s.removedDocuments.size>0&&(Ie(o.hu,42227),o.hu=!1))}),await Bu(n,r,e)}catch(r){await gl(r)}}function iT(t,e,n){const r=de(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=de(o);l.onlineState=a;let c=!1;l.queries.forEach((h,f)=>{for(const p of f.ba)p.va(a)&&(c=!0)}),c&&p1(l)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aB(t,e,n){const r=de(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new Qe(ne.comparator);o=o.insert(i,Bt.newNoDocument(i,ue.min()));const a=we().add(i),l=new xp(ue.min(),new Map,new Qe(xe),o,a);await iN(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),g1(r)}else await Vy(r.localStore,e,!1).then(()=>Fy(r,e,n)).catch(gl)}async function lB(t,e){const n=de(t),r=e.batch.batchId;try{const s=await yU(n.localStore,e);aN(n,r,null),oN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Bu(n,s)}catch(s){await gl(s)}}async function cB(t,e,n){const r=de(t);try{const s=await function(o,a){const l=de(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ie(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>l.localDocuments.getDocuments(c,h))})}(r.localStore,e);aN(r,e,n),oN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Bu(r,s)}catch(s){await gl(s)}}function oN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function aN(t,e,n){const r=de(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Fy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||lN(t,r)})}function lN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(l1(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),g1(t))}function oT(t,e,n){for(const r of n)r instanceof nN?(t.Vu.addReference(r.key,e),uB(t,r)):r instanceof rN?(Q(m1,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||lN(t,r.key)):ae(19791,{wu:r})}function uB(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Q(m1,"New document in limbo: "+n),t.Eu.add(r),g1(t))}function g1(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ne(De.fromString(e)),r=t.fu.next();t.Au.set(r,new ZU(n)),t.Ru=t.Ru.insert(n,r),GA(t.remoteStore,new Zs(Dr(pp(n.path)),r,"TargetPurposeLimboResolution",dp.ce))}}async function Bu(t,e,n){const r=de(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=o1.Es(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,c){const h=de(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(c,p=>$.forEach(p.Ts,m=>h.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>$.forEach(p.Is,m=>h.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!yl(f))throw f;Q(a1,"Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const m=h.vs.get(p),x=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(x);h.vs=h.vs.insert(p,v)}}}(r.localStore,i))}async function dB(t,e){const n=de(t);if(!n.currentUser.isEqual(e)){Q(m1,"User change. New user:",e.toKey());const r=await zA(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new K(B.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Bu(n,r.Ns)}}function hB(t,e){const n=de(t),r=n.Au.get(e);if(r&&r.hu)return we().add(r.key);{let s=we();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function cN(t){const e=de(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=hB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aB.bind(null,e),e.Pu.J_=QU.bind(null,e.eventManager),e.Pu.yu=YU.bind(null,e.eventManager),e}function fB(t){const e=de(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cB.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return gU(this.persistence,new fU,e.initialUser,this.serializer)}Cu(e){return new $A(i1.Vi,this.serializer)}Du(e){return new TU}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class pB extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ie(this.persistence.referenceDelegate instanceof ff,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new J7(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new $A(r=>ff.Vi(r,n),this.serializer)}}class Uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>iT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dB.bind(null,this.syncEngine),await qU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KU}()}createDatastore(e){const n=wp(e.databaseInfo.databaseId),r=PU(e.databaseInfo);return jU(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new MU(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>iT(this.syncEngine,n,0),function(){return ZE.v()?new ZE:new bU}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,h){const f=new eB(s,i,o,a,l,c);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=de(s);Q(jo,"RemoteStore shutting down."),i.Ea.add(5),await Uu(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Uy.provider={build:()=>new Uy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi="FirestoreClient";class mB{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Ft.UNAUTHENTICATED,this.clientId=Gv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{Q(Pi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Q(Pi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=f1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zm(t,e){t.asyncQueue.verifyOperationInProgress(),Q(Pi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await zA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function aT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gB(t);Q(Pi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>tT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>tT(e.remoteStore,s)),t._onlineComponents=e}async function gB(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Q(Pi,"Using user provided OfflineComponentProvider");try{await zm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Qa("Error using user provided cache. Falling back to memory cache: "+n),await zm(t,new mf)}}else Q(Pi,"Using default OfflineComponentProvider"),await zm(t,new pB(void 0));return t._offlineComponents}async function dN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Q(Pi,"Using user provided OnlineComponentProvider"),await aT(t,t._uninitializedComponentsProvider._online)):(Q(Pi,"Using default OnlineComponentProvider"),await aT(t,new Uy))),t._onlineComponents}function yB(t){return dN(t).then(e=>e.syncEngine)}async function By(t){const e=await dN(t),n=e.eventManager;return n.onListen=tB.bind(null,e.syncEngine),n.onUnlisten=sB.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nB.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=iB.bind(null,e.syncEngine),n}function vB(t,e,n,r){const s=new uN(r),i=new tN(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>ZA(await By(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>eN(await By(t),i))}}function xB(t,e,n={}){const r=new mi;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const h=new uN({next:p=>{h.Nu(),o.enqueueAndForget(()=>eN(i,f));const m=p.docs.has(a);!m&&p.fromCache?c.reject(new K(B.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&p.fromCache&&l&&l.source==="server"?c.reject(new K(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new tN(pp(a.path),h,{includeMetadataChanges:!0,Ka:!0});return ZA(i,f)}(await By(t),t.asyncQueue,e,n,r)),r.promise}function wB(t,e){const n=new mi;return t.asyncQueue.enqueueAndForget(async()=>oB(await yB(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _B="ComponentProvider",lT=new Map;function EB(t,e,n,r,s){return new $8(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,hN(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="firestore.googleapis.com",cT=!0;class uT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=fN,this.ssl=cT}else this.host=e.host,this.ssl=e.ssl??cT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=BA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Y7)throw new K(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Tp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _8;switch(r.type){case"firstParty":return new S8(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=lT.get(n);r&&(Q(_B,"Removing Datastore"),lT.delete(n),r.terminate())}(this),Promise.resolve()}}function TB(t,e,n,r={}){var c;t=Ln(t,Tp);const s=hl(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(nP(`https://${a}`),rP("Firestore",!0)),i.host!==fN&&i.host!==a&&Qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!Po(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ft.MOCK_USER;else{h=AL(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new K(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ft(p)}t._authCredentials=new E8(new XP(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Uo(this.firestore,e,this._query)}}class Ze{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ze(this.firestore,e,this._key)}toJSON(){return{type:Ze._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ou(n,Ze._jsonSchema))return new Ze(e,r||null,new ne(De.fromString(n.referencePath)))}}Ze._jsonSchemaVersion="firestore/documentReference/1.0",Ze._jsonSchema={type:dt("string",Ze._jsonSchemaVersion),referencePath:dt("string")};class gi extends Uo{constructor(e,n,r){super(e,n,pp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ze(this.firestore,null,new ne(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function Ui(t,e,...n){if(t=ft(t),JP("collection","path",e),t instanceof Tp){const r=De.fromString(e,...n);return TE(r),new gi(t,null,r)}{if(!(t instanceof Ze||t instanceof gi))throw new K(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return TE(r),new gi(t.firestore,null,r)}}function tn(t,e,...n){if(t=ft(t),arguments.length===1&&(e=Gv.newId()),JP("doc","path",e),t instanceof Tp){const r=De.fromString(e,...n);return EE(r),new Ze(t,null,new ne(r))}{if(!(t instanceof Ze||t instanceof gi))throw new K(B.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(De.fromString(e,...n));return EE(r),new Ze(t.firestore,t instanceof gi?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="AsyncQueue";class hT{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WA(this,"async_queue_retry"),this._c=()=>{const r=$m();r&&Q(dT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new mi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!yl(e))throw e;Q(dT,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,gs("INTERNAL UNHANDLED ERROR: ",fT(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=h1.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ae(47125,{Pc:fT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function fT(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ai extends Tp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new hT,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hT(e),this._firestoreClient=void 0,await e}}}function bB(t,e){const n=typeof t=="object"?t:aP(),r=typeof t=="string"?t:lf,s=Dv(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=IL("firestore");i&&TB(s,...i)}return s}function y1(t){if(t._terminated)throw new K(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||SB(t),t._firestoreClient}function SB(t){var r,s,i,o;const e=t._freezeSettings(),n=EB(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new mB(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(jt.fromBase64String(e))}catch(n){throw new K(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ou(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:dt("string",Dn._jsonSchemaVersion),bytes:dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vr._jsonSchemaVersion}}static fromJSON(e){if(Ou(e,Vr._jsonSchema))return new Vr(e.latitude,e.longitude)}}Vr._jsonSchemaVersion="firestore/geoPoint/1.0",Vr._jsonSchema={type:dt("string",Vr._jsonSchemaVersion),latitude:dt("number"),longitude:dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ou(e,cr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new cr(e.vectorValues);throw new K(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cr._jsonSchemaVersion="firestore/vectorValue/1.0",cr._jsonSchema={type:dt("string",cr._jsonSchemaVersion),vectorValues:dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB=/^__.*__$/;class IB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Lu(e,this.data,n,this.fieldTransforms)}}class pN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{dataSource:t})}}class x1{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new x1({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(mN(this.dataSource)&&CB.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class PB{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||wp(e)}createContext(e,n,r,s=!1){return new x1({dataSource:e,methodName:n,targetDoc:r,path:Nt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sp(t){const e=t._freezeSettings(),n=wp(t._databaseId);return new PB(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gN(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);_1("Data must be an object, but it was:",o,r);const a=yN(r,o);let l,c;if(i.merge)l=new _n(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=tl(e,f,n);if(!o.contains(p))throw new K(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);wN(h,p)||h.push(p)}l=new _n(h),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new IB(new un(a),l,c)}class Cp extends bp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cp}}class w1 extends bp{_toFieldTransform(e){return new g7(e.path,new lu)}isEqual(e){return e instanceof w1}}function AB(t,e,n,r){const s=t.createContext(1,e,n);_1("Data must be an object, but it was:",s,r);const i=[],o=un.empty();Li(r,(l,c)=>{const h=xN(e,l,n);c=ft(c);const f=s.childContextForFieldPath(h);if(c instanceof Cp)i.push(h);else{const p=$u(c,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new _n(i);return new pN(o,a,s.fieldTransforms)}function NB(t,e,n,r,s,i){const o=t.createContext(1,e,n),a=[tl(e,r,n)],l=[s];if(i.length%2!=0)throw new K(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(tl(e,i[p])),l.push(i[p+1]);const c=[],h=un.empty();for(let p=a.length-1;p>=0;--p)if(!wN(c,a[p])){const m=a[p];let x=l[p];x=ft(x);const v=o.childContextForFieldPath(m);if(x instanceof Cp)c.push(m);else{const T=$u(x,v);T!=null&&(c.push(m),h.set(m,T))}}const f=new _n(c);return new pN(h,f,o.fieldTransforms)}function RB(t,e,n,r=!1){return $u(n,t.createContext(r?4:3,e))}function $u(t,e){if(vN(t=ft(t)))return _1("Unsupported field value:",e,t),yN(t,e);if(t instanceof bp)return function(r,s){if(!mN(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=$u(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return f7(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Fe.fromDate(r);return{timestampValue:hf(s.serializer,i)}}if(r instanceof Fe){const i=new Fe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(s.serializer,i)}}if(r instanceof Vr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dn)return{bytesValue:jA(s.serializer,r._byteString)};if(r instanceof Ze){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:r1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof cr)return function(o,a){const l=o instanceof cr?o.toArray():o;return{mapValue:{fields:{[aA]:{stringValue:cA},[cf]:{arrayValue:{values:l.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return Zv(a.serializer,h)})}}}}}}(r,s);if(UA(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${up(r)}`)}(t,e)}function yN(t,e){const n={};return tA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(t,(r,s)=>{const i=$u(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function vN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof Vr||t instanceof Dn||t instanceof Ze||t instanceof bp||t instanceof cr||UA(t))}function _1(t,e,n){if(!vN(n)||!ZP(n)){const r=up(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function tl(t,e,n){if((e=ft(e))instanceof v1)return e._internalPath;if(typeof e=="string")return xN(t,e);throw gf("Field path arguments must be of type string or ",t,!1,void 0,n)}const kB=new RegExp("[~\\*/\\[\\]]");function xN(t,e,n){if(e.search(kB)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new v1(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new K(B.INVALID_ARGUMENT,a+t+l)}function wN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Li(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[cf].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>rt(o.doubleValue));return new cr(n)}convertGeoPoint(e){return new Vr(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=fp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=bi(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=De.fromString(e);Ie(FA(r),9688,{name:e});const s=new iu(r.get(1),r.get(3)),i=new ne(r.popFirst(5));return s.isEqual(n)||gs(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N extends jB{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ze(this.firestore,null,n)}}function Sn(){return new w1("serverTimestamp")}const pT="@firebase/firestore",mT="4.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gT(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ze(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new DB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(tl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class DB extends EN{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MB(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E1{}class TN extends E1{}function zu(t,e,...n){let r=[];e instanceof E1&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof b1).length,a=i.filter(l=>l instanceof T1).length;if(o>1||o>0&&a>0)throw new K(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class T1 extends TN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new T1(e,n,r)}_apply(e){const n=this._parse(e);return bN(e._query,n),new Uo(e.firestore,e.converter,Ny(e._query,n))}_parse(e){const n=Sp(e.firestore);return function(i,o,a,l,c,h,f){let p;if(c.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){vT(f,h);const x=[];for(const v of f)x.push(yT(l,i,v));p={arrayValue:{values:x}}}else p=yT(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||vT(f,h),p=RB(a,o,f,h==="in"||h==="not-in");return ut.create(c,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class b1 extends E1{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new b1(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)bN(o,l),o=Ny(o,l)}(e._query,n),new Uo(e.firestore,e.converter,Ny(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class S1 extends TN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new S1(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new K(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(i,o)}(e._query,this._field,this._direction);return new Uo(e.firestore,e.converter,i7(e._query,n))}}function Ip(t,e="asc"){const n=e,r=tl("orderBy",t);return S1._create(r,n)}function yT(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new K(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yA(e)&&n.indexOf("/")!==-1)throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(De.fromString(n));if(!ne.isDocumentKey(r))throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return RE(t,new ne(r))}if(n instanceof Ze)return RE(t,n._key);throw new K(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${up(n)}.`)}function vT(t,e){if(!Array.isArray(t)||t.length===0)throw new K(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bN(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function SN(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class ac{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xo extends EN{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(tl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=xo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}xo._jsonSchemaVersion="firestore/documentSnapshot/1.0",xo._jsonSchema={type:dt("string",xo._jsonSchemaVersion),bundleSource:dt("string","DocumentSnapshot"),bundleName:dt("string"),bundle:dt("string")};class ph extends xo{data(e={}){return super.data(e)}}class Pa{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new ac(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ph(this._firestore,this._userDataWriter,r.key,r,new ac(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new ph(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ph(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ac(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:VB(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function VB(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pa._jsonSchemaVersion="firestore/querySnapshot/1.0",Pa._jsonSchema={type:dt("string",Pa._jsonSchemaVersion),bundleSource:dt("string","QuerySnapshot"),bundleName:dt("string"),bundle:dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){t=Ln(t,Ze);const e=Ln(t.firestore,Ai),n=y1(e);return xB(n,t._key).then(r=>CN(e,t,r))}function wl(t,e,n){t=Ln(t,Ze);const r=Ln(t.firestore,Ai),s=SN(t.converter,e,n),i=Sp(r);return Pp(r,[gN(i,"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Fn.none())])}function yf(t,e,n,...r){t=Ln(t,Ze);const s=Ln(t.firestore,Ai),i=Sp(s);let o;return o=typeof(e=ft(e))=="string"||e instanceof v1?NB(i,"updateDoc",t._key,e,n,r):AB(i,"updateDoc",t._key,e),Pp(s,[o.toMutation(t._key,Fn.exists(!0))])}function C1(t){return Pp(Ln(t.firestore,Ai),[new e1(t._key,Fn.none())])}function I1(t,e){const n=Ln(t.firestore,Ai),r=tn(t),s=SN(t.converter,e),i=Sp(t.firestore);return Pp(n,[gN(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Fn.exists(!1))]).then(()=>r)}function Wu(t,...e){var c,h,f;t=ft(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||gT(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(gT(e[r])){const p=e[r];e[r]=(c=p.next)==null?void 0:c.bind(p),e[r+1]=(h=p.error)==null?void 0:h.bind(p),e[r+2]=(f=p.complete)==null?void 0:f.bind(p)}let i,o,a;if(t instanceof Ze)o=Ln(t.firestore,Ai),a=pp(t._key.path),i={next:p=>{e[r]&&e[r](CN(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=Ln(t,Uo);o=Ln(p.firestore,Ai),a=p._query;const m=new _N(o);i={next:x=>{e[r]&&e[r](new Pa(o,m,p,x))},error:e[r+1],complete:e[r+2]},MB(t._query)}const l=y1(o);return vB(l,a,s,i)}function Pp(t,e){const n=y1(t);return wB(n,e)}function CN(t,e,n){const r=n.docs.get(e._key),s=new _N(t);return new xo(t,s,e._key,r,new ac(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){w8(fl),Ga(new Ao("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new Ai(new T8(r.getProvider("auth-internal")),new C8(o,r.getProvider("app-check-internal")),z8(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),fi(pT,mT,e),fi(pT,mT,"esm2020")})();const OB={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},IN=oP(OB),Ni=g8(IN),et=bB(IN);function LB(t){const e=zu(Ui(et,"products"),Ip("createdAt","desc"));return Wu(e,n=>{const r=n.docs.map(s=>({id:s.id,...s.data()}));t(r)})}async function FB(t){return(await I1(Ui(et,"products"),{...t,createdAt:Sn()})).id}async function UB(t,e){const n=tn(et,"products",t);await yf(n,{...e,updatedAt:Sn()})}async function BB(t){const e=tn(et,"products",t);await C1(e)}async function $B(t){const e=tn(et,"orders",t);await C1(e)}async function zB(t,e,n,r){const s=tn(et,"orders",t),i=await Hu(s);if(!i.exists())throw new Error("Pedido no encontrado");const o=i.data(),a=o.statusHistory||[],l={status:e,message:n,date:new Date().toISOString()};await yf(s,{status:e,statusHistory:[...a,l],updatedAt:Sn()});const c=r||o.userId;if(c){const h=Ui(et,"users",c,"orders"),f=await new Promise(m=>{const x=Wu(zu(h),v=>{x(),m(v)})}),p=o.date;for(const m of f.docs){const x=m.data();if(x.date===p){const v=tn(et,"users",c,"orders",m.id),T=x.statusHistory||[];await yf(v,{status:e,statusHistory:[...T,l],updatedAt:Sn()});break}}}}function HB(t,e){const n=zu(Ui(et,"orders"),Ip("createdAt","desc"));return Wu(n,r=>{const s=r.docs.map(i=>({id:i.id,...i.data()}));t(s)},r=>{e&&e(r)})}async function WB(t){return(await I1(Ui(et,"orders"),{...t,createdAt:Sn()})).id}async function qB(t,e,n){const r=tn(et,"users",t,"orders",e);await wl(r,{...n,orderId:e,createdAt:Sn()})}async function PN(t){const e=tn(et,"users",t),n=await Hu(e);return n.exists()?{id:n.id,...n.data()}:null}async function GB(t,e){const n=tn(et,"users",t);(await Hu(n)).exists()?await yf(n,{...e,updatedAt:Sn()}):await wl(n,{uid:t,...e,updatedAt:Sn()})}const du=new Promise(t=>{const e=kP(Ni,()=>{e(),t()})});async function KB(t,e){const n=tn(et,"users",t);await wl(n,{...e,updatedAt:Sn()},{merge:!0})}function QB(t,e){const n=zu(Ui(et,"users",t,"paymentMethods"),Ip("createdAt","desc"));return Wu(n,r=>{const s=r.docs.map(i=>({id:i.id,...i.data()}));e(s)})}async function YB(t,e){const n=tn(et,"users",t);await wl(n,{defaultPaymentMethod:e,updatedAt:Sn()},{merge:!0})}async function XB(t,e){const n=tn(et,"users",t);return(await Hu(n)).exists()||await wl(n,{uid:t,updatedAt:Sn()},{merge:!0}),(await I1(Ui(et,"users",t,"paymentMethods"),{...e,userId:t,createdAt:Sn()})).id}async function JB(t,e){const n=tn(et,"users",t,"paymentMethods",e);await C1(n)}function ZB(t,e){const n=zu(Ui(et,"users",t,"orders"),Ip("createdAt","desc"));return Wu(n,r=>{const s=r.docs.map(i=>({id:i.id,...i.data()}));e(s)})}async function e$(t){try{const e=tn(et,"admins",t);return(await Hu(e)).exists()}catch(e){return console.error("Error checking admin status:",e),!1}}async function t$(t,e){const n=tn(et,"admins",t);await wl(n,{email:e,createdAt:Sn()})}const AN=b.createContext(void 0);function n$({children:t}){const[e,n]=b.useState(null),[r,s]=b.useState(!0),[i,o]=b.useState(!1),[a,l]=b.useState(!0);b.useEffect(()=>{const h=kP(Ni,async f=>{if(n(f),s(!1),!f){o(!1),l(!1);return}try{const p=await f.getIdTokenResult(!0);o(p.claims.admin===!0)}catch(p){console.error("Error leyendo claims:",p),o(!1)}finally{l(!1)}});return()=>h()},[]);const c=async()=>{await o9(Ni),o(!1)};return u.jsx(AN.Provider,{value:{user:e,loading:r,isAdmin:i,adminLoading:a,logout:c},children:t})}function _l(){const t=b.useContext(AN);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const P1=b.createContext({});function A1(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const NN=typeof window<"u",RN=NN?b.useLayoutEffect:b.useEffect,Ap=b.createContext(null);function N1(t,e){t.indexOf(e)===-1&&t.push(e)}function R1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Br=(t,e,n)=>n>e?e:n<t?t:n;let Np=()=>{},nl=()=>{};const vs={},kN=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function jN(t){return typeof t=="object"&&t!==null}const DN=t=>/^0[^.\s]+$/u.test(t);function k1(t){let e;return()=>(e===void 0&&(e=t()),e)}const Un=t=>t,r$=(t,e)=>n=>e(t(n)),qu=(...t)=>t.reduce(r$),hu=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class j1{constructor(){this.subscriptions=[]}add(e){return N1(this.subscriptions,e),()=>R1(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Or=t=>t*1e3,Vn=t=>t/1e3;function MN(t,e){return e?t*(1e3/e):0}const VN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,s$=1e-7,i$=12;function o$(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=VN(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>s$&&++a<i$);return o}function Gu(t,e,n,r){if(t===e&&n===r)return Un;const s=i=>o$(i,0,1,t,n);return i=>i===0||i===1?i:VN(s(i),e,r)}const ON=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,LN=t=>e=>1-t(1-e),FN=Gu(.33,1.53,.69,.99),D1=LN(FN),UN=ON(D1),BN=t=>(t*=2)<1?.5*D1(t):.5*(2-Math.pow(2,-10*(t-1))),M1=t=>1-Math.sin(Math.acos(t)),$N=LN(M1),zN=ON(M1),a$=Gu(.42,0,1,1),l$=Gu(0,0,.58,1),HN=Gu(.42,0,.58,1),c$=t=>Array.isArray(t)&&typeof t[0]!="number",WN=t=>Array.isArray(t)&&typeof t[0]=="number",xT={linear:Un,easeIn:a$,easeInOut:HN,easeOut:l$,circIn:M1,circInOut:zN,circOut:$N,backIn:D1,backInOut:UN,backOut:FN,anticipate:BN},u$=t=>typeof t=="string",wT=t=>{if(WN(t)){nl(t.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,r,s]=t;return Gu(e,n,r,s)}else if(u$(t))return nl(xT[t]!==void 0,`Invalid easing type '${t}'`,"invalid-easing-type"),xT[t];return t},Fd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],_T={value:null,addProjectionMetrics:null};function d$(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(h.schedule(f),t()),l++,f(a)}const h={schedule:(f,p=!1,m=!1)=>{const v=m&&s?n:r;return p&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&_T.value&&_T.value.frameloop[e].push(l),l=0,n.clear(),s=!1,i&&(i=!1,h.process(f))}};return h}const h$=40;function qN(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Fd.reduce((w,A)=>(w[A]=d$(i,e?A:void 0),w),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:h,update:f,preRender:p,render:m,postRender:x}=o,v=()=>{const w=vs.useManualTiming?s.timestamp:performance.now();n=!1,vs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(w-s.timestamp,h$),1)),s.timestamp=w,s.isProcessing=!0,a.process(s),l.process(s),c.process(s),h.process(s),f.process(s),p.process(s),m.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(v))},T=()=>{n=!0,r=!0,s.isProcessing||t(v)};return{schedule:Fd.reduce((w,A)=>{const j=o[A];return w[A]=(V,C=!1,S=!1)=>(n||T(),j.schedule(V,C,S)),w},{}),cancel:w=>{for(let A=0;A<Fd.length;A++)o[Fd[A]].cancel(w)},state:s,steps:o}}const{schedule:Be,cancel:Ri,state:Pt,steps:Hm}=qN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Un,!0);let mh;function f$(){mh=void 0}const Jt={now:()=>(mh===void 0&&Jt.set(Pt.isProcessing||vs.useManualTiming?Pt.timestamp:performance.now()),mh),set:t=>{mh=t,queueMicrotask(f$)}},GN=t=>e=>typeof e=="string"&&e.startsWith(t),KN=GN("--"),p$=GN("var(--"),V1=t=>p$(t)?m$.test(t.split("/*")[0].trim()):!1,m$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function ET(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const El={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fu={...El,transform:t=>Br(0,1,t)},Ud={...El,default:1},Ic=t=>Math.round(t*1e5)/1e5,O1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function g$(t){return t==null}const y$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,L1=(t,e)=>n=>!!(typeof n=="string"&&y$.test(n)&&n.startsWith(t)||e&&!g$(n)&&Object.prototype.hasOwnProperty.call(n,e)),QN=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(O1);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},v$=t=>Br(0,255,t),Wm={...El,transform:t=>Math.round(v$(t))},oo={test:L1("rgb","red"),parse:QN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Wm.transform(t)+", "+Wm.transform(e)+", "+Wm.transform(n)+", "+Ic(fu.transform(r))+")"};function x$(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const $y={test:L1("#"),parse:x$,transform:oo.transform},Ku=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Os=Ku("deg"),Lr=Ku("%"),ee=Ku("px"),w$=Ku("vh"),_$=Ku("vw"),TT={...Lr,parse:t=>Lr.parse(t)/100,transform:t=>Lr.transform(t*100)},ua={test:L1("hsl","hue"),parse:QN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Lr.transform(Ic(e))+", "+Lr.transform(Ic(n))+", "+Ic(fu.transform(r))+")"},lt={test:t=>oo.test(t)||$y.test(t)||ua.test(t),parse:t=>oo.test(t)?oo.parse(t):ua.test(t)?ua.parse(t):$y.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?oo.transform(t):ua.transform(t),getAnimatableNone:t=>{const e=lt.parse(t);return e.alpha=0,lt.transform(e)}},E$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function T$(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(O1))==null?void 0:e.length)||0)+(((n=t.match(E$))==null?void 0:n.length)||0)>0}const YN="number",XN="color",b$="var",S$="var(",bT="${}",C$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(C$,l=>(lt.test(l)?(r.color.push(i),s.push(XN),n.push(lt.parse(l))):l.startsWith(S$)?(r.var.push(i),s.push(b$),n.push(l)):(r.number.push(i),s.push(YN),n.push(parseFloat(l))),++i,bT)).split(bT);return{values:n,split:a,indexes:r,types:s}}function JN(t){return pu(t).values}function ZN(t){const{split:e,types:n}=pu(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===YN?i+=Ic(s[o]):a===XN?i+=lt.transform(s[o]):i+=s[o]}return i}}const I$=t=>typeof t=="number"?0:lt.test(t)?lt.getAnimatableNone(t):t;function P$(t){const e=JN(t);return ZN(t)(e.map(I$))}const ki={test:T$,parse:JN,createTransformer:ZN,getAnimatableNone:P$};function qm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function A$({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=qm(l,a,t+1/3),i=qm(l,a,t),o=qm(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function vf(t,e){return n=>n>0?e:t}const qe=(t,e,n)=>t+(e-t)*n,Gm=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},N$=[$y,oo,ua],R$=t=>N$.find(e=>e.test(t));function ST(t){const e=R$(t);if(Np(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let n=e.parse(t);return e===ua&&(n=A$(n)),n}const CT=(t,e)=>{const n=ST(t),r=ST(e);if(!n||!r)return vf(t,e);const s={...n};return i=>(s.red=Gm(n.red,r.red,i),s.green=Gm(n.green,r.green,i),s.blue=Gm(n.blue,r.blue,i),s.alpha=qe(n.alpha,r.alpha,i),oo.transform(s))},zy=new Set(["none","hidden"]);function k$(t,e){return zy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function j$(t,e){return n=>qe(t,e,n)}function F1(t){return typeof t=="number"?j$:typeof t=="string"?V1(t)?vf:lt.test(t)?CT:V$:Array.isArray(t)?eR:typeof t=="object"?lt.test(t)?CT:D$:vf}function eR(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>F1(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function D$(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=F1(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function M$(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const V$=(t,e)=>{const n=ki.createTransformer(e),r=pu(t),s=pu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?zy.has(t)&&!s.values.length||zy.has(e)&&!r.values.length?k$(t,e):qu(eR(M$(r,s),s.values),n):(Np(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),vf(t,e))};function tR(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?qe(t,e,n):F1(t)(t,e)}const O$=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Be.update(e,n),stop:()=>Ri(e),now:()=>Pt.isProcessing?Pt.timestamp:Jt.now()}},nR=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},xf=2e4;function U1(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<xf;)e+=n,r=t.next(e);return e>=xf?1/0:e}function L$(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(U1(r),xf);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Vn(s)}}const F$=5;function rR(t,e,n){const r=Math.max(e-F$,0);return MN(n-t(r),e-r)}const He={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Km=.001;function U$({duration:t=He.duration,bounce:e=He.bounce,velocity:n=He.velocity,mass:r=He.mass}){let s,i;Np(t<=Or(He.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-e;o=Br(He.minDamping,He.maxDamping,o),t=Br(He.minDuration,He.maxDuration,Vn(t)),o<1?(s=c=>{const h=c*o,f=h*t,p=h-n,m=Hy(c,o),x=Math.exp(-f);return Km-p/m*x},i=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,x=Math.exp(-f),v=Hy(Math.pow(c,2),o);return(-s(c)+Km>0?-1:1)*((p-m)*x)/v}):(s=c=>{const h=Math.exp(-c*t),f=(c-n)*t+1;return-Km+h*f},i=c=>{const h=Math.exp(-c*t),f=(n-c)*(t*t);return h*f});const a=5/t,l=$$(s,i,a);if(t=Or(t),isNaN(l))return{stiffness:He.stiffness,damping:He.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const B$=12;function $$(t,e,n){let r=n;for(let s=1;s<B$;s++)r=r-t(r)/e(r);return r}function Hy(t,e){return t*Math.sqrt(1-e*e)}const z$=["duration","bounce"],H$=["stiffness","damping","mass"];function IT(t,e){return e.some(n=>t[n]!==void 0)}function W$(t){let e={velocity:He.velocity,stiffness:He.stiffness,damping:He.damping,mass:He.mass,isResolvedFromDuration:!1,...t};if(!IT(t,H$)&&IT(t,z$))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*Br(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:He.mass,stiffness:s,damping:i}}else{const n=U$(t);e={...e,...n,mass:He.mass},e.isResolvedFromDuration=!0}return e}function wf(t=He.visualDuration,e=He.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:l,damping:c,mass:h,duration:f,velocity:p,isResolvedFromDuration:m}=W$({...n,velocity:-Vn(n.velocity||0)}),x=p||0,v=c/(2*Math.sqrt(l*h)),T=o-i,_=Vn(Math.sqrt(l/h)),y=Math.abs(T)<5;r||(r=y?He.restSpeed.granular:He.restSpeed.default),s||(s=y?He.restDelta.granular:He.restDelta.default);let w;if(v<1){const j=Hy(_,v);w=V=>{const C=Math.exp(-v*_*V);return o-C*((x+v*_*T)/j*Math.sin(j*V)+T*Math.cos(j*V))}}else if(v===1)w=j=>o-Math.exp(-_*j)*(T+(x+_*T)*j);else{const j=_*Math.sqrt(v*v-1);w=V=>{const C=Math.exp(-v*_*V),S=Math.min(j*V,300);return o-C*((x+v*_*T)*Math.sinh(S)+j*T*Math.cosh(S))/j}}const A={calculatedDuration:m&&f||null,next:j=>{const V=w(j);if(m)a.done=j>=f;else{let C=j===0?x:0;v<1&&(C=j===0?Or(x):rR(w,j,V));const S=Math.abs(C)<=r,I=Math.abs(o-V)<=s;a.done=S&&I}return a.value=a.done?o:V,a},toString:()=>{const j=Math.min(U1(A),xf),V=nR(C=>A.next(j*C).value,j,30);return j+"ms "+V},toTransition:()=>{}};return A}wf.applyToOptions=t=>{const e=L$(t,100,wf);return t.ease=e.ease,t.duration=Or(e.duration),t.type="keyframes",t};function Wy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const f=t[0],p={done:!1,value:f},m=S=>a!==void 0&&S<a||l!==void 0&&S>l,x=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let v=n*e;const T=f+v,_=o===void 0?T:o(T);_!==T&&(v=_-f);const y=S=>-v*Math.exp(-S/r),w=S=>_+y(S),A=S=>{const I=y(S),N=w(S);p.done=Math.abs(I)<=c,p.value=p.done?_:N};let j,V;const C=S=>{m(p.value)&&(j=S,V=wf({keyframes:[p.value,x(p.value)],velocity:rR(w,S,p.value),damping:s,stiffness:i,restDelta:c,restSpeed:h}))};return C(0),{calculatedDuration:null,next:S=>{let I=!1;return!V&&j===void 0&&(I=!0,A(S),C(S)),j!==void 0&&S>=j?V.next(S-j):(!I&&A(S),p)}}}function q$(t,e,n){const r=[],s=n||vs.mix||tR,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Un:e;a=qu(l,a)}r.push(a)}return r}function G$(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(nl(i===e.length,"Both input and output ranges must be the same length","range-length"),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=q$(e,r,s),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const p=hu(t[f],t[f+1],h);return a[f](p)};return n?h=>c(Br(t[0],t[i-1],h)):c}function K$(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=hu(0,e,r);t.push(qe(n,1,s))}}function Q$(t){const e=[0];return K$(e,t.length-1),e}function Y$(t,e){return t.map(n=>n*e)}function X$(t,e){return t.map(()=>e||HN).splice(0,t.length-1)}function Pc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=c$(r)?r.map(wT):wT(r),i={done:!1,value:e[0]},o=Y$(n&&n.length===e.length?n:Q$(e),t),a=G$(o,e,{ease:Array.isArray(s)?s:X$(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}const J$=t=>t!==null;function B1(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(J$),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const Z$={decay:Wy,inertia:Wy,tween:Pc,keyframes:Pc,spring:wf};function sR(t){typeof t.type=="string"&&(t.type=Z$[t.type])}class $1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const ez=t=>t/100;class z1 extends $1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Jt.now()&&this.tick(Jt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;sR(e);const{type:n=Pc,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Pc;l!==Pc&&typeof a[0]!="number"&&(this.mixKeyframes=qu(ez,tR(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=U1(c));const{calculatedDuration:h}=c;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:h,repeat:f,repeatType:p,repeatDelay:m,type:x,onUpdate:v,finalKeyframe:T}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const _=this.currentTime-c*(this.playbackSpeed>=0?1:-1),y=this.playbackSpeed>=0?_<0:_>s;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let w=this.currentTime,A=r;if(f){const S=Math.min(this.currentTime,s)/a;let I=Math.floor(S),N=S%1;!N&&S>=1&&(N=1),N===1&&I--,I=Math.min(I,f+1),!!(I%2)&&(p==="reverse"?(N=1-N,m&&(N-=m/a)):p==="mirror"&&(A=o)),w=Br(0,1,N)*a}const j=y?{done:!1,value:h[0]}:A.next(w);i&&(j.value=i(j.value));let{done:V}=j;!y&&l!==null&&(V=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return C&&x!==Wy&&(j.value=B1(h,this.options,T,this.speed)),v&&v(j.value),C&&this.finish(),j}then(e,n){return this.finished.then(e,n)}get duration(){return Vn(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vn(e)}get time(){return Vn(this.currentTime)}set time(e){var n;e=Or(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Jt.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Vn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=O$,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Jt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function tz(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ao=t=>t*180/Math.PI,qy=t=>{const e=ao(Math.atan2(t[1],t[0]));return Gy(e)},nz={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qy,rotateZ:qy,skewX:t=>ao(Math.atan(t[1])),skewY:t=>ao(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Gy=t=>(t=t%360,t<0&&(t+=360),t),PT=qy,AT=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),NT=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),rz={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:AT,scaleY:NT,scale:t=>(AT(t)+NT(t))/2,rotateX:t=>Gy(ao(Math.atan2(t[6],t[5]))),rotateY:t=>Gy(ao(Math.atan2(-t[2],t[0]))),rotateZ:PT,rotate:PT,skewX:t=>ao(Math.atan(t[4])),skewY:t=>ao(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ky(t){return t.includes("scale")?1:0}function Qy(t,e){if(!t||t==="none")return Ky(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=rz,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=nz,s=a}if(!s)return Ky(e);const i=r[e],o=s[1].split(",").map(iz);return typeof i=="function"?i(o):o[i]}const sz=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Qy(n,e)};function iz(t){return parseFloat(t.trim())}const Tl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bl=new Set(Tl),RT=t=>t===El||t===ee,oz=new Set(["x","y","z"]),az=Tl.filter(t=>!oz.has(t));function lz(t){const e=[];return az.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ei={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Qy(e,"x"),y:(t,{transform:e})=>Qy(e,"y")};ei.translateX=ei.x;ei.translateY=ei.y;const wo=new Set;let Yy=!1,Xy=!1,Jy=!1;function iR(){if(Xy){const t=Array.from(wo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=lz(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Xy=!1,Yy=!1,wo.forEach(t=>t.complete(Jy)),wo.clear()}function oR(){wo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Xy=!0)})}function cz(){Jy=!0,oR(),iR(),Jy=!1}class H1{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(wo.add(this),Yy||(Yy=!0,Be.read(oR),Be.resolveKeyframes(iR))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}tz(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wo.delete(this)}cancel(){this.state==="scheduled"&&(wo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const uz=t=>t.startsWith("--");function dz(t,e,n){uz(e)?t.style.setProperty(e,n):t.style[e]=n}const hz=k1(()=>window.ScrollTimeline!==void 0),fz={};function pz(t,e){const n=k1(t);return()=>fz[e]??n()}const aR=pz(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),lc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,kT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:lc([0,.65,.55,1]),circOut:lc([.55,0,1,.45]),backIn:lc([.31,.01,.66,-.59]),backOut:lc([.33,1.53,.69,.99])};function lR(t,e){if(t)return typeof t=="function"?aR()?nR(t,e):"ease-out":WN(t)?lc(t):Array.isArray(t)?t.map(n=>lR(n,e)||kT.easeOut):kT[t]}function mz(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const h={[e]:n};l&&(h.offset=l);const f=lR(a,s);Array.isArray(f)&&(h.easing=f);const p={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(h,p)}function cR(t){return typeof t=="function"&&"applyToOptions"in t}function gz({type:t,...e}){return cR(t)&&aR()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class yz extends $1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,nl(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=gz(e);this.animation=mz(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=B1(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(h):dz(n,r,h),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Vn(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Vn(e)}get time(){return Vn(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Or(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&hz()?(this.animation.timeline=e,Un):n(this)}}const uR={anticipate:BN,backInOut:UN,circInOut:zN};function vz(t){return t in uR}function xz(t){typeof t.ease=="string"&&vz(t.ease)&&(t.ease=uR[t.ease])}const Qm=10;class wz extends yz{constructor(e){xz(e),sR(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new z1({...o,autoplay:!1}),l=Math.max(Qm,Jt.now()-this.startTime),c=Br(0,Qm,l-Qm);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const jT=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ki.test(t)||t==="0")&&!t.startsWith("url("));function _z(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Ez(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=jT(s,e),a=jT(i,e);return Np(o===a,`You are trying to animate ${e} from "${s}" to "${i}". "${o?i:s}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:_z(t)||(n==="spring"||cR(n))&&r}function Zy(t){t.duration=0,t.type="keyframes"}const Tz=new Set(["opacity","clipPath","filter","transform"]),bz=k1(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Sz(t){var h;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return bz()&&n&&Tz.has(n)&&(n!=="transform"||!c)&&!l&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const Cz=40;class Iz extends $1{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:h,...f}){var x;super(),this.stop=()=>{var v,T;this._animation&&(this._animation.stop(),(v=this.stopTimeline)==null||v.call(this)),(T=this.keyframeResolver)==null||T.cancel()},this.createdAt=Jt.now();const p={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:l,motionValue:c,element:h,...f},m=(h==null?void 0:h.KeyframeResolver)||H1;this.keyframeResolver=new m(a,(v,T,_)=>this.onKeyframesResolved(v,T,p,!_),l,c,h),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,n,r,s){var T,_;this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:h}=r;this.resolvedAt=Jt.now(),Ez(e,i,o,a)||((vs.instantAnimations||!l)&&(h==null||h(B1(e,r,n))),e[0]=e[e.length-1],Zy(r),r.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Cz?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&Sz(p),x=(_=(T=p.motionValue)==null?void 0:T.owner)==null?void 0:_.current,v=m?new wz({...p,element:x}):new z1(p);v.finished.then(()=>{this.notifyFinished()}).catch(Un),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),cz()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function dR(t,e,n,r=0,s=1){const i=Array.from(t).sort((c,h)=>c.sortNodePosition(h)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(i,o):s===1?i*r:a-i*r}const Pz=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Az(t){const e=Pz.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}const Nz=4;function hR(t,e,n=1){nl(n<=Nz,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,s]=Az(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return kN(o)?parseFloat(o):o}return V1(s)?hR(s,e,n+1):s}const Rz={type:"spring",stiffness:500,damping:25,restSpeed:10},kz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),jz={type:"keyframes",duration:.8},Dz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mz=(t,{keyframes:e})=>e.length>2?jz:bl.has(t)?t.startsWith("scale")?kz(e[1]):Rz:Dz,Vz=t=>t!==null;function Oz(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(Vz),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}function W1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function Lz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const q1=(t,e,n,r={},s,i)=>o=>{const a=W1(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Or(l);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};Lz(a)||Object.assign(h,Mz(t,h)),h.duration&&(h.duration=Or(h.duration)),h.repeatDelay&&(h.repeatDelay=Or(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Zy(h),h.delay===0&&(f=!0)),(vs.instantAnimations||vs.skipAnimations)&&(f=!0,Zy(h),h.delay=0),h.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const p=Oz(h.keyframes,a);if(p!==void 0){Be.update(()=>{h.onUpdate(p),h.onComplete()});return}}return a.isSync?new z1(h):new Iz(h)};function DT(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function G1(t,e,n,r){if(typeof e=="function"){const[s,i]=DT(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=DT(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function Aa(t,e,n){const r=t.getProps();return G1(r,e,n!==void 0?n:r.custom,t)}const fR=new Set(["width","height","top","left","right","bottom",...Tl]),MT=30,Fz=t=>!isNaN(parseFloat(t));class Uz{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var i;const s=Jt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Jt.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Fz(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new j1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Be.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Jt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MT)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,MT);return MN(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rl(t,e){return new Uz(t,e)}const e0=t=>Array.isArray(t);function Bz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,rl(n))}function $z(t){return e0(t)?t[t.length-1]||0:t}function zz(t,e){const n=Aa(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=$z(i[o]);Bz(t,o,a)}}const Ht=t=>!!(t&&t.getVelocity);function Hz(t){return!!(Ht(t)&&t.add)}function t0(t,e){const n=t.getValue("willChange");if(Hz(n))return n.add(e);if(!n&&vs.WillChange){const r=new vs.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function K1(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const Wz="framerAppearId",pR="data-"+K1(Wz);function mR(t){return t.props[pR]}function qz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function gR(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;const l=i==null?void 0:i.reduceMotion;r&&(i=r);const c=[],h=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const p=t.getValue(f,t.latestValues[f]??null),m=a[f];if(m===void 0||h&&qz(h,f))continue;const x={delay:n,...W1(i||{},f)},v=p.get();if(v!==void 0&&!p.isAnimating&&!Array.isArray(m)&&m===v&&!x.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const w=mR(t);if(w){const A=window.MotionHandoffAnimation(w,f,Be);A!==null&&(x.startTime=A,T=!0)}}t0(t,f);const _=l??t.shouldReduceMotion;p.start(q1(f,p,m,_&&fR.has(f)?{type:!1}:x,t,T));const y=p.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{Be.update(()=>{o&&zz(t,o)})}),c}function n0(t,e,n={}){var l;const r=Aa(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(gR(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:p}=s;return Gz(t,e,c,h,f,p,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,h]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>h())}else return Promise.all([i(),o(n.delay)])}function Gz(t,e,n=0,r=0,s=0,i=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(n0(l,e,{...o,delay:n+(typeof r=="function"?0:r)+dR(t.variantChildren,l,r,s,i)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function Kz(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>n0(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=n0(t,e,n);else{const s=typeof e=="function"?Aa(t,e,n.custom):e;r=Promise.all(gR(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const Qz={test:t=>t==="auto",parse:t=>t},yR=t=>e=>e.test(t),vR=[El,ee,Lr,Os,_$,w$,Qz],VT=t=>vR.find(yR(t));function Yz(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||DN(t):!0}const Xz=new Set(["brightness","contrast","saturate","opacity"]);function Jz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(O1)||[];if(!r)return t;const s=n.replace(r,"");let i=Xz.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Zz=/\b([a-z-]*)\(.*?\)/gu,r0={...ki,getAnimatableNone:t=>{const e=t.match(Zz);return e?e.map(Jz).join(" "):t}},OT={...El,transform:Math.round},eH={rotate:Os,rotateX:Os,rotateY:Os,rotateZ:Os,scale:Ud,scaleX:Ud,scaleY:Ud,scaleZ:Ud,skew:Os,skewX:Os,skewY:Os,distance:ee,translateX:ee,translateY:ee,translateZ:ee,x:ee,y:ee,z:ee,perspective:ee,transformPerspective:ee,opacity:fu,originX:TT,originY:TT,originZ:ee},Q1={borderWidth:ee,borderTopWidth:ee,borderRightWidth:ee,borderBottomWidth:ee,borderLeftWidth:ee,borderRadius:ee,borderTopLeftRadius:ee,borderTopRightRadius:ee,borderBottomRightRadius:ee,borderBottomLeftRadius:ee,width:ee,maxWidth:ee,height:ee,maxHeight:ee,top:ee,right:ee,bottom:ee,left:ee,inset:ee,insetBlock:ee,insetBlockStart:ee,insetBlockEnd:ee,insetInline:ee,insetInlineStart:ee,insetInlineEnd:ee,padding:ee,paddingTop:ee,paddingRight:ee,paddingBottom:ee,paddingLeft:ee,paddingBlock:ee,paddingBlockStart:ee,paddingBlockEnd:ee,paddingInline:ee,paddingInlineStart:ee,paddingInlineEnd:ee,margin:ee,marginTop:ee,marginRight:ee,marginBottom:ee,marginLeft:ee,marginBlock:ee,marginBlockStart:ee,marginBlockEnd:ee,marginInline:ee,marginInlineStart:ee,marginInlineEnd:ee,fontSize:ee,backgroundPositionX:ee,backgroundPositionY:ee,...eH,zIndex:OT,fillOpacity:fu,strokeOpacity:fu,numOctaves:OT},tH={...Q1,color:lt,backgroundColor:lt,outlineColor:lt,fill:lt,stroke:lt,borderColor:lt,borderTopColor:lt,borderRightColor:lt,borderBottomColor:lt,borderLeftColor:lt,filter:r0,WebkitFilter:r0},xR=t=>tH[t];function wR(t,e){let n=xR(t);return n!==r0&&(n=ki),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const nH=new Set(["auto","none","0"]);function rH(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!nH.has(i)&&pu(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=wR(n,s)}class sH extends H1{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let f=e[h];if(typeof f=="string"&&(f=f.trim(),V1(f))){const p=hR(f,n.current);p!==void 0&&(e[h]=p),h===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!fR.has(r)||e.length!==2)return;const[s,i]=e,o=VT(s),a=VT(i),l=ET(s),c=ET(i);if(l!==c&&ei[r]){this.needsMeasurement=!0;return}if(o!==a)if(RT(o)&&RT(a))for(let h=0;h<e.length;h++){const f=e[h];typeof f=="string"&&(e[h]=parseFloat(f))}else ei[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Yz(e[s]))&&r.push(s);r.length&&rH(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ei[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=ei[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function iH(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t).filter(r=>r!=null)}const _R=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function s0(t){return jN(t)&&"offsetHeight"in t}const{schedule:Y1,cancel:VG}=qN(queueMicrotask,!1),Xn={x:!1,y:!1};function ER(){return Xn.x||Xn.y}function oH(t){return t==="x"||t==="y"?Xn[t]?null:(Xn[t]=!0,()=>{Xn[t]=!1}):Xn.x||Xn.y?null:(Xn.x=Xn.y=!0,()=>{Xn.x=Xn.y=!1})}function TR(t,e){const n=iH(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function LT(t){return!(t.pointerType==="touch"||ER())}function aH(t,e,n={}){const[r,s,i]=TR(t,n),o=a=>{if(!LT(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const h=f=>{LT(f)&&(c(f),l.removeEventListener("pointerleave",h))};l.addEventListener("pointerleave",h,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const bR=(t,e)=>e?t===e?!0:bR(t,e.parentElement):!1,X1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,lH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function SR(t){return lH.has(t.tagName)||t.isContentEditable===!0}const gh=new WeakSet;function FT(t){return e=>{e.key==="Enter"&&t(e)}}function Ym(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const cH=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=FT(()=>{if(gh.has(n))return;Ym(n,"down");const s=FT(()=>{Ym(n,"up")}),i=()=>Ym(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function UT(t){return X1(t)&&!ER()}function uH(t,e,n={}){const[r,s,i]=TR(t,n),o=a=>{const l=a.currentTarget;if(!UT(a))return;gh.add(l);const c=e(l,a),h=(m,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),gh.has(l)&&gh.delete(l),UT(m)&&typeof c=="function"&&c(m,{success:x})},f=m=>{h(m,l===window||l===document||n.useGlobalTarget||bR(l,m.target))},p=m=>{h(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",p,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),s0(a)&&(a.addEventListener("focus",c=>cH(c,s)),!SR(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function CR(t){return jN(t)&&"ownerSVGElement"in t}function dH(t){return CR(t)&&t.tagName==="svg"}const hH=[...vR,lt,ki],fH=t=>hH.find(yR(t)),BT=()=>({translate:0,scale:1,origin:0,originPoint:0}),da=()=>({x:BT(),y:BT()}),$T=()=>({min:0,max:0}),gt=()=>({x:$T(),y:$T()}),i0={current:null},IR={current:!1},pH=typeof window<"u";function mH(){if(IR.current=!0,!!pH)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>i0.current=t.matches;t.addEventListener("change",e),e()}else i0.current=!1}const gH=new WeakMap;function Rp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mu(t){return typeof t=="string"||Array.isArray(t)}const J1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Z1=["initial",...J1];function kp(t){return Rp(t.animate)||Z1.some(e=>mu(t[e]))}function PR(t){return!!(kp(t)||t.variants)}function yH(t,e,n){for(const r in e){const s=e[r],i=n[r];if(Ht(s))t.addValue(r,s);else if(Ht(i))t.addValue(r,rl(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,rl(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const zT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let _f={};function AR(t){_f=t}function vH(){return _f}class xH{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=H1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=Jt.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Be.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=kp(n),this.isVariantNode=PR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&Ht(m)&&m.set(l[p])}}mount(e){var n;this.current=e,gH.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(IR.current||mH(),this.shouldReduceMotion=i0.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ri(this.notifyUpdate),Ri(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=bl.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Be.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;typeof window<"u"&&window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _f){const n=_f[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<zT.length;r++){const s=zT[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=yH(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=rl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(kN(r)||DN(r))?r=parseFloat(r):!fH(r)&&ki.test(n)&&(r=wR(e,n)),this.setBaseTarget(e,Ht(r)?r.get():r)),Ht(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=G1(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ht(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new j1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){Y1.render(this.render)}}class NR extends xH{constructor(){super(...arguments),this.KeyframeResolver=sH}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ht(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Bi{constructor(e){this.isMounted=!1,this.node=e}update(){}}function RR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function wH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _H(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xm(t){return t===void 0||t===1}function o0({scale:t,scaleX:e,scaleY:n}){return!Xm(t)||!Xm(e)||!Xm(n)}function eo(t){return o0(t)||kR(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kR(t){return HT(t.x)||HT(t.y)}function HT(t){return t&&t!=="0%"}function Ef(t,e,n){const r=t-n,s=e*r;return n+s}function WT(t,e,n,r,s){return s!==void 0&&(t=Ef(t,s,r)),Ef(t,n,r)+e}function a0(t,e=0,n=1,r,s){t.min=WT(t.min,e,n,r,s),t.max=WT(t.max,e,n,r,s)}function jR(t,{x:e,y:n}){a0(t.x,e.translate,e.scale,e.originPoint),a0(t.y,n.translate,n.scale,n.originPoint)}const qT=.999999999999,GT=1.0000000000001;function EH(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&fa(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,jR(t,o)),r&&eo(i.latestValues)&&fa(t,i.latestValues))}e.x<GT&&e.x>qT&&(e.x=1),e.y<GT&&e.y>qT&&(e.y=1)}function ha(t,e){t.min=t.min+e,t.max=t.max+e}function KT(t,e,n,r,s=.5){const i=qe(t.min,t.max,s);a0(t,e,n,i,r)}function fa(t,e){KT(t.x,e.x,e.scaleX,e.scale,e.originX),KT(t.y,e.y,e.scaleY,e.scale,e.originY)}function DR(t,e){return RR(_H(t.getBoundingClientRect(),e))}function TH(t,e,n){const r=DR(t,n),{scroll:s}=e;return s&&(ha(r.x,s.offset.x),ha(r.y,s.offset.y)),r}const bH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},SH=Tl.length;function CH(t,e,n){let r="",s=!0;for(let i=0;i<SH;i++){const o=Tl[i],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const c=parseFloat(a);l=o.startsWith("scale")?c===1:c===0}if(!l||n){const c=_R(a,Q1[o]);if(!l){s=!1;const h=bH[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function ex(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(bl.has(l)){o=!0;continue}else if(KN(l)){s[l]=c;continue}else{const h=_R(c,Q1[l]);l.startsWith("origin")?(a=!0,i[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=CH(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=i;r.transformOrigin=`${l} ${c} ${h}`}}function MR(t,{style:e,vars:n},r,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,r);for(o in n)i.setProperty(o,n[o])}function QT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Xl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ee.test(t))t=parseFloat(t);else return t;const n=QT(t,e.target.x),r=QT(t,e.target.y);return`${n}% ${r}%`}},IH={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=ki.parse(t);if(s.length>5)return r;const i=ki.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=qe(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}},l0={borderRadius:{...Xl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Xl,borderTopRightRadius:Xl,borderBottomLeftRadius:Xl,borderBottomRightRadius:Xl,boxShadow:IH};function VR(t,{layout:e,layoutId:n}){return bl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!l0[t]||t==="opacity")}function tx(t,e,n){var o;const r=t.style,s=e==null?void 0:e.style,i={};if(!r)return i;for(const a in r)(Ht(r[a])||s&&Ht(s[a])||VR(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(i[a]=r[a]);return i}function PH(t){return window.getComputedStyle(t)}class AH extends NR{constructor(){super(...arguments),this.type="html",this.renderInstance=MR}readValueFromInstance(e,n){var r;if(bl.has(n))return(r=this.projection)!=null&&r.isProjecting?Ky(n):sz(e,n);{const s=PH(e),i=(KN(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return DR(e,n)}build(e,n,r){ex(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return tx(e,n,r)}}const NH={offset:"stroke-dashoffset",array:"stroke-dasharray"},RH={offset:"strokeDashoffset",array:"strokeDasharray"};function kH(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?NH:RH;t[i.offset]=`${-r}`,t[i.array]=`${e} ${n}`}const jH=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function OR(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},l,c,h){if(ex(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete f.transformBox);for(const m of jH)f[m]!==void 0&&(p[m]=f[m],delete f[m]);e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&kH(f,s,i,o,!1)}const LR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),FR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function DH(t,e,n,r){MR(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(LR.has(s)?s:K1(s),e.attrs[s])}function UR(t,e,n){const r=tx(t,e,n);for(const s in t)if(Ht(t[s])||Ht(e[s])){const i=Tl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}class MH extends NR{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gt}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(bl.has(n)){const r=xR(n);return r&&r.default||0}return n=LR.has(n)?n:K1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return UR(e,n,r)}build(e,n,r){OR(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){DH(e,n,r,s)}mount(e){this.isSVGTag=FR(e.tagName),super.mount(e)}}const VH=Z1.length;function BR(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?BR(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<VH;n++){const r=Z1[n],s=t.props[r];(mu(s)||s===!1)&&(e[r]=s)}return e}function $R(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const OH=[...J1].reverse(),LH=J1.length;function FH(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Kz(t,n,r)))}function UH(t){let e=FH(t),n=YT(),r=!0;const s=l=>(c,h)=>{var p;const f=Aa(t,h,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:m,transitionEnd:x,...v}=f;c={...c,...v,...x}}return c};function i(l){e=l(t)}function o(l){const{props:c}=t,h=BR(t.parent)||{},f=[],p=new Set;let m={},x=1/0;for(let T=0;T<LH;T++){const _=OH[T],y=n[_],w=c[_]!==void 0?c[_]:h[_],A=mu(w),j=_===l?y.isActive:null;j===!1&&(x=T);let V=w===h[_]&&w!==c[_]&&A;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),y.protectedKeys={...m},!y.isActive&&j===null||!w&&!y.prevProp||Rp(w)||typeof w=="boolean")continue;const C=BH(y.prevProp,w);let S=C||_===l&&y.isActive&&!V&&A||T>x&&A,I=!1;const N=Array.isArray(w)?w:[w];let k=N.reduce(s(_),{});j===!1&&(k={});const{prevResolvedValues:D={}}=y,R={...D,...k},z=X=>{S=!0,p.has(X)&&(I=!0,p.delete(X)),y.needsAnimating[X]=!0;const M=t.getValue(X);M&&(M.liveStyle=!1)};for(const X in R){const M=k[X],L=D[X];if(m.hasOwnProperty(X))continue;let q=!1;e0(M)&&e0(L)?q=!$R(M,L):q=M!==L,q?M!=null?z(X):p.add(X):M!==void 0&&p.has(X)?z(X):y.protectedKeys[X]=!0}y.prevProp=w,y.prevResolvedValues=k,y.isActive&&(m={...m,...k}),r&&t.blockInitialAnimation&&(S=!1);const re=V&&C;S&&(!re||I)&&f.push(...N.map(X=>{const M={type:_};if(typeof X=="string"&&r&&!re&&t.manuallyAnimateOnMount&&t.parent){const{parent:L}=t,q=Aa(L,X);if(L.enteringChildren&&q){const{delayChildren:se}=q.transition||{};M.delay=dR(L.enteringChildren,t,se)}}return{animation:X,options:M}}))}if(p.size){const T={};if(typeof c.initial!="boolean"){const _=Aa(t,Array.isArray(c.initial)?c.initial[0]:c.initial);_&&_.transition&&(T.transition=_.transition)}p.forEach(_=>{const y=t.getBaseTarget(_),w=t.getValue(_);w&&(w.liveStyle=!0),T[_]=y??null}),f.push({animation:T})}let v=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=o(l);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=YT()}}}function BH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!$R(e,t):!1}function Yi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function YT(){return{animate:Yi(!0),whileInView:Yi(),whileHover:Yi(),whileTap:Yi(),whileDrag:Yi(),whileFocus:Yi(),exit:Yi()}}function XT(t,e){t.min=e.min,t.max=e.max}function Yn(t,e){XT(t.x,e.x),XT(t.y,e.y)}function JT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const zR=1e-4,$H=1-zR,zH=1+zR,HR=.01,HH=0-HR,WH=0+HR;function Zt(t){return t.max-t.min}function qH(t,e,n){return Math.abs(t-e)<=n}function ZT(t,e,n,r=.5){t.origin=r,t.originPoint=qe(e.min,e.max,t.origin),t.scale=Zt(n)/Zt(e),t.translate=qe(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$H&&t.scale<=zH||isNaN(t.scale))&&(t.scale=1),(t.translate>=HH&&t.translate<=WH||isNaN(t.translate))&&(t.translate=0)}function Ac(t,e,n,r){ZT(t.x,e.x,n.x,r?r.originX:void 0),ZT(t.y,e.y,n.y,r?r.originY:void 0)}function eb(t,e,n){t.min=n.min+e.min,t.max=t.min+Zt(e)}function GH(t,e,n){eb(t.x,e.x,n.x),eb(t.y,e.y,n.y)}function tb(t,e,n){t.min=e.min-n.min,t.max=t.min+Zt(e)}function Tf(t,e,n){tb(t.x,e.x,n.x),tb(t.y,e.y,n.y)}function nb(t,e,n,r,s){return t-=e,t=Ef(t,1/n,r),s!==void 0&&(t=Ef(t,1/s,r)),t}function KH(t,e=0,n=1,r=.5,s,i=t,o=t){if(Lr.test(e)&&(e=parseFloat(e),e=qe(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=qe(i.min,i.max,r);t===i&&(a-=e),t.min=nb(t.min,e,n,a,s),t.max=nb(t.max,e,n,a,s)}function rb(t,e,[n,r,s],i,o){KH(t,e[n],e[r],e[s],e.scale,i,o)}const QH=["x","scaleX","originX"],YH=["y","scaleY","originY"];function sb(t,e,n,r){rb(t.x,e,QH,n?n.x:void 0,r?r.x:void 0),rb(t.y,e,YH,n?n.y:void 0,r?r.y:void 0)}function ib(t){return t.translate===0&&t.scale===1}function WR(t){return ib(t.x)&&ib(t.y)}function ob(t,e){return t.min===e.min&&t.max===e.max}function XH(t,e){return ob(t.x,e.x)&&ob(t.y,e.y)}function ab(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function qR(t,e){return ab(t.x,e.x)&&ab(t.y,e.y)}function lb(t){return Zt(t.x)/Zt(t.y)}function cb(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Nn(t){return[t("x"),t("y")]}function JH(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:f,rotateY:p,skewX:m,skewY:x}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),x&&(r+=`skewY(${x}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const GR=["TopLeft","TopRight","BottomLeft","BottomRight"],ZH=GR.length,ub=t=>typeof t=="string"?parseFloat(t):t,db=t=>typeof t=="number"||ee.test(t);function eW(t,e,n,r,s,i){s?(t.opacity=qe(0,n.opacity??1,tW(r)),t.opacityExit=qe(e.opacity??1,0,nW(r))):i&&(t.opacity=qe(e.opacity??1,n.opacity??1,r));for(let o=0;o<ZH;o++){const a=`border${GR[o]}Radius`;let l=hb(e,a),c=hb(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||db(l)===db(c)?(t[a]=Math.max(qe(ub(l),ub(c),r),0),(Lr.test(c)||Lr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=qe(e.rotate||0,n.rotate||0,r))}function hb(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const tW=KR(0,.5,$N),nW=KR(.5,.95,Un);function KR(t,e,n){return r=>r<t?0:r>e?1:n(hu(t,e,r))}function rW(t,e,n){const r=Ht(t)?t:rl(t);return r.start(q1("",r,e,n)),r.animation}function gu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const sW=(t,e)=>t.depth-e.depth;class iW{constructor(){this.children=[],this.isDirty=!1}add(e){N1(this.children,e),this.isDirty=!0}remove(e){R1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sW),this.isDirty=!1,this.children.forEach(e)}}function oW(t,e){const n=Jt.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Ri(r),t(i-e))};return Be.setup(r,!0),()=>Ri(r)}function yh(t){return Ht(t)?t.get():t}class aW{constructor(){this.members=[]}add(e){N1(this.members,e),e.scheduleRender()}remove(e){if(R1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const s=r.options.layoutDependency,i=e.options.layoutDependency;s!==void 0&&i!==void 0&&s===i||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const vh={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Jm=["","X","Y","Z"],lW=1e3;let cW=0;function Zm(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function QR(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=mR(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Be,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&QR(r)}function YR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=cW++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(hW),this.nodes.forEach(gW),this.nodes.forEach(yW),this.nodes.forEach(fW)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new iW)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new j1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=CR(o)&&!dH(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let h,f=0;const p=()=>this.root.updateBlockedByResize=!1;Be.read(()=>{f=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,h&&h(),h=oW(p,250),vh.hasAnimatedSinceResize&&(vh.hasAnimatedSinceResize=!1,this.nodes.forEach(mb)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||c.getDefaultTransition()||EW,{onLayoutAnimationStart:v,onLayoutAnimationComplete:T}=c.getProps(),_=!this.targetLayout||!qR(this.targetLayout,m),y=!f&&p;if(this.options.layoutRoot||this.resumeFrom||y||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...W1(x,"layout"),onPlay:v,onComplete:T};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(h,y)}else f||mb(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ri(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(vW),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QR(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(fb);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pb);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(mW),this.nodes.forEach(uW),this.nodes.forEach(dW)):this.nodes.forEach(pb),this.clearAllSnapshots();const a=Jt.now();Pt.delta=Br(0,1e3/60,a-Pt.timestamp),Pt.timestamp=a,Pt.isProcessing=!0,Hm.update.process(Pt),Hm.preRender.process(Pt),Hm.render.process(Pt),Pt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Y1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pW),this.sharedNodes.forEach(xW)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Be.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Be.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=gt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!WR(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||eo(this.latestValues)||h)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),TW(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return gt();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(bW))){const{scroll:h}=this.root;h&&(ha(a.x,h.offset.x),ha(a.y,h.offset.y))}return a}removeElementScroll(o){var l;const a=gt();if(Yn(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:f,options:p}=h;h!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Yn(a,o),ha(a.x,f.offset.x),ha(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=gt();Yn(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&fa(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),eo(h.latestValues)&&fa(l,h.latestValues)}return eo(this.latestValues)&&fa(l,this.latestValues),l}removeTransform(o){const a=gt();Yn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!eo(c.latestValues))continue;o0(c.latestValues)&&c.updateSnapshot();const h=gt(),f=c.measurePageBox();Yn(h,f),sb(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return eo(this.latestValues)&&sb(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!this.layout||!(h||f))return;this.resolvedRelativeTargetAt=Pt.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=gt(),this.targetWithTransforms=gt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),GH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),jR(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||o0(this.parent.latestValues)||kR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gt(),this.relativeTargetOrigin=gt(),Tf(this.relativeTargetOrigin,a,l),Yn(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pt.timestamp&&(l=!1),l)return;const{layout:c,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||h))return;Yn(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;EH(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=gt());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(JT(this.prevProjectionDelta.x,this.projectionDelta.x),JT(this.prevProjectionDelta.y,this.projectionDelta.y)),Ac(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!cb(this.projectionDelta.x,this.prevProjectionDelta.x)||!cb(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=da(),this.projectionDelta=da(),this.projectionDeltaWithTransform=da()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},f=da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=gt(),m=l?l.source:void 0,x=this.layout?this.layout.source:void 0,v=m!==x,T=this.getStack(),_=!T||T.members.length<=1,y=!!(v&&!_&&this.options.crossfade===!0&&!this.path.some(_W));this.animationProgress=0;let w;this.mixTargetDelta=A=>{const j=A/1e3;gb(f.x,o.x,j),gb(f.y,o.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tf(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),wW(this.relativeTarget,this.relativeTargetOrigin,p,j),w&&XH(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=gt()),Yn(w,this.relativeTarget)),v&&(this.animationValues=h,eW(h,c,this.latestValues,j,y,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ri(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Be.update(()=>{vh.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=rl(0)),this.currentAnimation=rW(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(lW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&XR(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||gt();const f=Zt(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=Zt(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Yn(a,l),fa(a,h),Ac(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new aW),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&Zm("z",o,c,this.animationValues);for(let h=0;h<Jm.length;h++)Zm(`rotate${Jm[h]}`,o,c,this.animationValues),Zm(`skew${Jm[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=yh(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=yh(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!eo(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=JH(this.projectionDeltaWithTransform,this.treeScale,h);l&&(f=l(h,f)),o.transform=f;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=c===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in l0){if(h[x]===void 0)continue;const{correct:v,applyTo:T,isCSSVariable:_}=l0[x],y=f==="none"?h[x]:v(h[x],c);if(T){const w=T.length;for(let A=0;A<w;A++)o[T[A]]=y}else _?this.options.visualElement.renderState.vars[x]=y:o[x]=y}this.options.layoutId&&(o.pointerEvents=c===this?yh(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(fb),this.root.sharedNodes.clear()}}}function uW(t){t.updateLayout()}function dW(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Nn(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],m=Zt(p);p.min=r[f].min,p.max=p.min+m}):XR(i,e.layoutBox,r)&&Nn(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],m=Zt(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=da();Ac(a,r,e.layoutBox);const l=da();o?Ac(l,t.applyTransform(s,!0),e.measuredBox):Ac(l,r,e.layoutBox);const c=!WR(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const x=gt();Tf(x,e.layoutBox,p.layoutBox);const v=gt();Tf(v,r,m.layoutBox),qR(x,v)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function hW(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function fW(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function pW(t){t.clearSnapshot()}function fb(t){t.clearMeasurements()}function pb(t){t.isLayoutDirty=!1}function mW(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function mb(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function gW(t){t.resolveTargetDelta()}function yW(t){t.calcProjection()}function vW(t){t.resetSkewAndRotation()}function xW(t){t.removeLeadSnapshot()}function gb(t,e,n){t.translate=qe(e.translate,0,n),t.scale=qe(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yb(t,e,n,r){t.min=qe(e.min,n.min,r),t.max=qe(e.max,n.max,r)}function wW(t,e,n,r){yb(t.x,e.x,n.x,r),yb(t.y,e.y,n.y,r)}function _W(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const EW={duration:.45,ease:[.4,0,.1,1]},vb=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),xb=vb("applewebkit/")&&!vb("chrome/")?Math.round:Un;function wb(t){t.min=xb(t.min),t.max=xb(t.max)}function TW(t){wb(t.x),wb(t.y)}function XR(t,e,n){return t==="position"||t==="preserve-aspect"&&!qH(lb(e),lb(n),.2)}function bW(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const SW=YR({attachResizeListener:(t,e)=>gu(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),eg={current:void 0},JR=YR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!eg.current){const t=new SW({});t.mount(window),t.setOptions({layoutScroll:!0}),eg.current=t}return eg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),nx=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function _b(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function CW(...t){return e=>{let n=!1;const r=t.map(s=>{const i=_b(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():_b(t[s],null)}}}}function IW(...t){return b.useCallback(CW(...t),t)}class PW extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=s0(r)&&r.offsetWidth||0,i=s0(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=s-o.width-o.left,o.bottom=i-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function AW({children:t,isPresent:e,anchorX:n,anchorY:r,root:s}){var f;const i=b.useId(),o=b.useRef(null),a=b.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=b.useContext(nx),c=((f=t.props)==null?void 0:f.ref)??(t==null?void 0:t.ref),h=IW(o,c);return b.useInsertionEffect(()=>{const{width:p,height:m,top:x,left:v,right:T,bottom:_}=a.current;if(e||!o.current||!p||!m)return;const y=n==="left"?`left: ${v}`:`right: ${T}`,w=r==="bottom"?`bottom: ${_}`:`top: ${x}`;o.current.dataset.motionPopId=i;const A=document.createElement("style");l&&(A.nonce=l);const j=s??document.head;return j.appendChild(A),A.sheet&&A.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${y}px !important;
            ${w}px !important;
          }
        `),()=>{j.contains(A)&&j.removeChild(A)}},[e]),u.jsx(PW,{isPresent:e,childRef:o,sizeRef:a,children:b.cloneElement(t,{ref:h})})}const NW=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a,anchorY:l,root:c})=>{const h=A1(RW),f=b.useId();let p=!0,m=b.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:n,custom:s,onExitComplete:x=>{h.set(x,!0);for(const v of h.values())if(!v)return;r&&r()},register:x=>(h.set(x,!1),()=>h.delete(x))}),[n,h,r]);return i&&p&&(m={...m}),b.useMemo(()=>{h.forEach((x,v)=>h.set(v,!1))},[n]),b.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(AW,{isPresent:n,anchorX:a,anchorY:l,root:c,children:t})),u.jsx(Ap.Provider,{value:m,children:t})};function RW(){return new Map}function ZR(t=!0){const e=b.useContext(Ap);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=b.useId();b.useEffect(()=>{if(t)return s(i)},[t]);const o=b.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Bd=t=>t.key||"";function Eb(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const yi=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left",anchorY:l="top",root:c})=>{const[h,f]=ZR(o),p=b.useMemo(()=>Eb(t),[t]),m=o&&!h?[]:p.map(Bd),x=b.useRef(!0),v=b.useRef(p),T=A1(()=>new Map),_=b.useRef(new Set),[y,w]=b.useState(p),[A,j]=b.useState(p);RN(()=>{x.current=!1,v.current=p;for(let S=0;S<A.length;S++){const I=Bd(A[S]);m.includes(I)?(T.delete(I),_.current.delete(I)):T.get(I)!==!0&&T.set(I,!1)}},[A,m.length,m.join("-")]);const V=[];if(p!==y){let S=[...p];for(let I=0;I<A.length;I++){const N=A[I],k=Bd(N);m.includes(k)||(S.splice(I,0,N),V.push(N))}return i==="wait"&&V.length&&(S=V),j(Eb(S)),w(p),null}const{forceRender:C}=b.useContext(P1);return u.jsx(u.Fragment,{children:A.map(S=>{const I=Bd(S),N=o&&!h?!1:p===A||m.includes(I),k=()=>{if(_.current.has(I))return;if(_.current.add(I),T.has(I))T.set(I,!0);else return;let D=!0;T.forEach(R=>{R||(D=!1)}),D&&(C==null||C(),j(v.current),o&&(f==null||f()),r&&r())};return u.jsx(NW,{isPresent:N,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:N?void 0:k,anchorX:a,anchorY:l,children:S},I)})})},ek=b.createContext({strict:!1}),Tb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let bb=!1;function kW(){if(bb)return;const t={};for(const e in Tb)t[e]={isEnabled:n=>Tb[e].some(r=>!!n[r])};AR(t),bb=!0}function tk(){return kW(),vH()}function jW(t){const e=tk();for(const n in t)e[n]={...e[n],...t[n]};AR(e)}const DW=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||DW.has(t)}let nk=t=>!bf(t);function MW(t){typeof t=="function"&&(nk=e=>e.startsWith("on")?!bf(e):t(e))}try{MW(require("@emotion/is-prop-valid").default)}catch{}function VW(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(nk(s)||n===!0&&bf(s)||!e&&!bf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}const jp=b.createContext({});function OW(t,e){if(kp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||mu(n)?n:void 0,animate:mu(r)?r:void 0}}return t.inherit!==!1?e:{}}function LW(t){const{initial:e,animate:n}=OW(t,b.useContext(jp));return b.useMemo(()=>({initial:e,animate:n}),[Sb(e),Sb(n)])}function Sb(t){return Array.isArray(t)?t.join(" "):t}const rx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rk(t,e,n){for(const r in e)!Ht(e[r])&&!VR(r,n)&&(t[r]=e[r])}function FW({transformTemplate:t},e){return b.useMemo(()=>{const n=rx();return ex(n,e,t),Object.assign({},n.vars,n.style)},[e])}function UW(t,e){const n=t.style||{},r={};return rk(r,n,t),Object.assign(r,FW(t,e)),r}function BW(t,e){const n={},r=UW(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const sk=()=>({...rx(),attrs:{}});function $W(t,e,n,r){const s=b.useMemo(()=>{const i=sk();return OR(i,e,FR(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};rk(i,t.style,t),s.style={...i,...s.style}}return s}const zW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sx(t){return typeof t!="string"||t.includes("-")?!1:!!(zW.indexOf(t)>-1||/[A-Z]/u.test(t))}function HW(t,e,n,{latestValues:r},s,i=!1,o){const l=(o??sx(t)?$W:BW)(e,r,s,t),c=VW(e,typeof t=="string",i),h=t!==b.Fragment?{...c,...l,ref:n}:{},{children:f}=e,p=b.useMemo(()=>Ht(f)?f.get():f,[f]);return b.createElement(t,{...h,children:p})}function WW({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:qW(n,r,s,t),renderState:e()}}function qW(t,e,n,r){const s={},i=r(t,{});for(const p in i)s[p]=yh(i[p]);let{initial:o,animate:a}=t;const l=kp(t),c=PR(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!Rp(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const x=G1(t,p[m]);if(x){const{transitionEnd:v,transition:T,..._}=x;for(const y in _){let w=_[y];if(Array.isArray(w)){const A=h?w.length-1:0;w=w[A]}w!==null&&(s[y]=w)}for(const y in v)s[y]=v[y]}}}return s}const ik=t=>(e,n)=>{const r=b.useContext(jp),s=b.useContext(Ap),i=()=>WW(t,e,r,s);return n?i():A1(i)},GW=ik({scrapeMotionValuesFromProps:tx,createRenderState:rx}),KW=ik({scrapeMotionValuesFromProps:UR,createRenderState:sk}),QW=Symbol.for("motionComponentSymbol");function YW(t,e,n){const r=b.useRef(n);b.useInsertionEffect(()=>{r.current=n});const s=b.useRef(null);return b.useCallback(i=>{var a;i&&((a=t.onMount)==null||a.call(t,i)),e&&(i?e.mount(i):e.unmount());const o=r.current;if(typeof o=="function")if(i){const l=o(i);typeof l=="function"&&(s.current=l)}else s.current?(s.current(),s.current=null):o(i);else o&&(o.current=i)},[e])}const ok=b.createContext({});function cc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function XW(t,e,n,r,s,i){var _,y;const{visualElement:o}=b.useContext(jp),a=b.useContext(ek),l=b.useContext(Ap),c=b.useContext(nx).reducedMotion,h=b.useRef(null),f=b.useRef(!1);r=r||a.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:i}),f.current&&h.current&&(h.current.manuallyAnimateOnMount=!0));const p=h.current,m=b.useContext(ok);p&&!p.projection&&s&&(p.type==="html"||p.type==="svg")&&JW(h.current,n,s,m);const x=b.useRef(!1);b.useInsertionEffect(()=>{p&&x.current&&p.update(n,l)});const v=n[pR],T=b.useRef(!!v&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,v))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,v)));return RN(()=>{f.current=!0,p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),T.current&&p.animationState&&p.animationState.animateChanges())}),b.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)==null||w.call(window,v)}),T.current=!1),p.enteringChildren=void 0)}),p}function JW(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:h}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ak(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&cc(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:l,layoutRoot:c})}function ak(t){if(t)return t.options.allowProjection!==!1?t.projection:ak(t.parent)}function tg(t,{forwardMotionProps:e=!1,type:n}={},r,s){r&&jW(r);const i=n?n==="svg":sx(t),o=i?KW:GW;function a(c,h){let f;const p={...b.useContext(nx),...c,layoutId:ZW(c)},{isStatic:m}=p,x=LW(c),v=o(c,m);if(!m&&NN){eq();const T=tq(p);f=T.MeasureLayout,x.visualElement=XW(t,v,p,s,T.ProjectionNode,i)}return u.jsxs(jp.Provider,{value:x,children:[f&&x.visualElement?u.jsx(f,{visualElement:x.visualElement,...p}):null,HW(t,c,YW(v,x.visualElement,h),v,m,e,i)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=b.forwardRef(a);return l[QW]=t,l}function ZW({layoutId:t}){const e=b.useContext(P1).id;return e&&t!==void 0?e+"-"+t:t}function eq(t,e){b.useContext(ek).strict}function tq(t){const e=tk(),{drag:n,layout:r}=e;if(!n&&!r)return{};const s={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?s.MeasureLayout:void 0,ProjectionNode:s.ProjectionNode}}function nq(t,e){if(typeof Proxy>"u")return tg;const n=new Map,r=(i,o)=>tg(i,o,t,e),s=(i,o)=>r(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?r:(n.has(o)||n.set(o,tg(o,void 0,t,e)),n.get(o))})}const rq=(t,e)=>e.isSVG??sx(t)?new MH(e):new AH(e,{allowProjection:t!==b.Fragment});class sq extends Bi{constructor(e){super(e),e.animationState||(e.animationState=UH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Rp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let iq=0;class oq extends Bi{constructor(){super(...arguments),this.id=iq++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const aq={animation:{Feature:sq},exit:{Feature:oq}};function Qu(t){return{point:{x:t.pageX,y:t.pageY}}}const lq=t=>e=>X1(e)&&t(e,Qu(e));function Nc(t,e,n,r){return gu(t,e,lq(n),r)}const lk=({current:t})=>t?t.ownerDocument.defaultView:null,Cb=(t,e)=>Math.abs(t-e);function cq(t,e){const n=Cb(t.x,e.x),r=Cb(t.y,e.y);return Math.sqrt(n**2+r**2)}const Ib=new Set(["auto","scroll"]);class ck{constructor(e,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=rg(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,v=cq(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!v)return;const{point:T}=m,{timestamp:_}=Pt;this.history.push({...T,timestamp:_});const{onStart:y,onMove:w}=this.handlers;x||(y&&y(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,x)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=ng(x,this.transformPagePoint),Be.update(this.updatePoint,!0)},this.handlePointerUp=(m,x)=>{this.end();const{onEnd:v,onSessionEnd:T,resumeAnimation:_}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=rg(m.type==="pointercancel"?this.lastMoveEventInfo:ng(x,this.transformPagePoint),this.history);this.startEvent&&v&&v(m,y),T&&T(m,y)},!X1(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=s||window;const l=Qu(e),c=ng(l,this.transformPagePoint),{point:h}=c,{timestamp:f}=Pt;this.history=[{...h,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,rg(c,this.history)),this.removeListeners=qu(Nc(this.contextWindow,"pointermove",this.handlePointerMove),Nc(this.contextWindow,"pointerup",this.handlePointerUp),Nc(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(Ib.has(r.overflowX)||Ib.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,s=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},i={x:s.x-n.x,y:s.y-n.y};i.x===0&&i.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=i.x,this.lastMoveEventInfo.point.y+=i.y):this.history.length>0&&(this.history[0].x-=i.x,this.history[0].y-=i.y),this.scrollPositions.set(e,s),Be.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ri(this.updatePoint)}}function ng(t,e){return e?{point:e(t.point)}:t}function Pb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rg({point:t},e){return{point:t,delta:Pb(t,uk(e)),offset:Pb(t,uq(e)),velocity:dq(e,.1)}}function uq(t){return t[0]}function uk(t){return t[t.length-1]}function dq(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=uk(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Or(e)));)n--;if(!r)return{x:0,y:0};const i=Vn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function hq(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?qe(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?qe(n,t,r.max):Math.min(t,n)),t}function Ab(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fq(t,{top:e,left:n,bottom:r,right:s}){return{x:Ab(t.x,n,s),y:Ab(t.y,e,r)}}function Nb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function pq(t,e){return{x:Nb(t.x,e.x),y:Nb(t.y,e.y)}}function mq(t,e){let n=.5;const r=Zt(t),s=Zt(e);return s>r?n=hu(e.min,e.max-r,t.min):r>s&&(n=hu(t.min,t.max-s,e.min)),Br(0,1,n)}function gq(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const c0=.35;function yq(t=c0){return t===!1?t=0:t===!0&&(t=c0),{x:Rb(t,"left","right"),y:Rb(t,"top","bottom")}}function Rb(t,e,n){return{min:kb(t,e),max:kb(t,n)}}function kb(t,e){return typeof t=="number"?t:t[e]||0}const vq=new WeakMap;class xq{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{n?(this.stopAnimation(),this.snapToCursor(Qu(f).point)):this.pauseAnimation()},o=(f,p)=>{this.stopAnimation();const{drag:m,dragPropagation:x,onDragStart:v}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oH(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(_=>{let y=this.getAxisMotionValue(_).get()||0;if(Lr.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const A=w.layout.layoutBox[_];A&&(y=Zt(A)*(parseFloat(y)/100))}}this.originPoint[_]=y}),v&&Be.postRender(()=>v(f,p)),t0(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},a=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:v,onDrag:T}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:_}=p;if(x&&this.currentDirection===null){this.currentDirection=wq(_),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),T&&T(f,p)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>Nn(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new ck(e,{onSessionStart:i,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:lk(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,s=n||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Be.postRender(()=>a(r,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!$d(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=hq(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&cc(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=fq(r.layoutBox,e):this.constraints=!1,this.elastic=yq(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Nn(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=gq(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!cc(e))return!1;const r=e.current;nl(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=TH(r,s.root,this.visualElement.getTransformPagePoint());let o=pq(s.layout.layoutBox,i);if(n){const a=n(wH(o));this.hasMutatedConstraints=!!a,a&&(o=RR(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Nn(h=>{if(!$d(h,n,this.currentDirection))return;let f=l&&l[h]||{};o&&(f={min:0,max:0});const p=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(h,x)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return t0(this.visualElement,e),r.start(q1(e,r,0,n,this.visualElement,!1))}stopAnimation(){Nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Nn(n=>{const{drag:r}=this.getProps();if(!$d(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n],l=i.get()||0;i.set(e[n]-qe(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!cc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Nn(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();s[o]=mq({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Nn(o=>{if(!$d(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(qe(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;vq.set(this.visualElement,this);const e=this.visualElement.current,n=Nc(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps(),f=l.target,p=f!==e&&SR(f);c&&h&&!p&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();cc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Be.read(r);const o=gu(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Nn(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=l[h].translate,f.set(f.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=c0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function $d(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wq(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class _q extends Bi{constructor(e){super(e),this.removeGroupControls=Un,this.removeListeners=Un,this.controls=new xq(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Un}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const jb=t=>(e,n)=>{t&&Be.postRender(()=>t(e,n))};class Eq extends Bi{constructor(){super(...arguments),this.removePointerDownListener=Un}onPointerDown(e){this.session=new ck(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:lk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:jb(e),onStart:jb(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Be.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Nc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let sg=!1;class Tq extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),sg&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),vh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),sg=!0,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Be.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Y1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;sg=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function dk(t){const[e,n]=ZR(),r=b.useContext(P1);return u.jsx(Tq,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(ok),isPresent:e,safeToRemove:n})}const bq={pan:{Feature:Eq},drag:{Feature:_q,ProjectionNode:JR,MeasureLayout:dk}};function Db(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Be.postRender(()=>i(e,Qu(e)))}class Sq extends Bi{mount(){const{current:e}=this.node;e&&(this.unmount=aH(e,(n,r)=>(Db(this.node,r,"Start"),s=>Db(this.node,s,"End"))))}unmount(){}}class Cq extends Bi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qu(gu(this.node.current,"focus",()=>this.onFocus()),gu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mb(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Be.postRender(()=>i(e,Qu(e)))}class Iq extends Bi{mount(){const{current:e}=this.node;e&&(this.unmount=uH(e,(n,r)=>(Mb(this.node,r,"Start"),(s,{success:i})=>Mb(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const u0=new WeakMap,ig=new WeakMap,Pq=t=>{const e=u0.get(t.target);e&&e(t)},Aq=t=>{t.forEach(Pq)};function Nq({root:t,...e}){const n=t||document;ig.has(n)||ig.set(n,{});const r=ig.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Aq,{root:t,...e})),r[s]}function Rq(t,e,n){const r=Nq(e);return u0.set(t,n),r.observe(t),()=>{u0.delete(t),r.unobserve(t)}}const kq={some:0,all:1};class jq extends Bi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:kq[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),p=c?h:f;p&&p(l)};return Rq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Dq(e,n))&&this.startObserver()}unmount(){}}function Dq({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Mq={inView:{Feature:jq},tap:{Feature:Iq},focus:{Feature:Cq},hover:{Feature:Sq}},Vq={layout:{ProjectionNode:JR,MeasureLayout:dk}},Oq={...aq,...Mq,...bq,...Vq},Ce=nq(Oq,rq),Lq=Wf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?OD:"button";return u.jsx(o,{className:nt(Lq({variant:e,size:n,className:t})),ref:i,...s})});pe.displayName="Button";const Fq=Wf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vi({className:t,variant:e,...n}){return u.jsx("div",{className:nt(Fq({variant:e}),t),...n})}function hk(){var i;const{getItemCount:t}=ip(),{user:e,logout:n}=_l(),r=t(),s=async()=>{try{await n()}catch(o){console.error("Error al cerrar sesin:",o)}};return u.jsx(Ce.header,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},className:"sticky top-0 z-50 w-full border-b border-gray-200 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs(vt,{to:"/",className:"flex items-center gap-2",children:[u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10 15L35 30L10 45V15Z",fill:"url(#gradHeader)"}),u.jsx("path",{d:"M20 20L45 35L20 50V20Z",fill:"#00d4aa",fillOpacity:"0.7"}),u.jsx("path",{d:"M18 28L26 33L18 38V28Z",fill:"#00d4aa"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"gradHeader",x1:"10",y1:"15",x2:"35",y2:"45",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{stopColor:"#1a3a5c"}),u.jsx("stop",{offset:"1",stopColor:"#00d4aa"})]})})]}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"font-bold text-xl",children:[u.jsx("span",{className:"text-[#1a3a5c]",children:"Jorstan"})," ",u.jsx("span",{className:"text-[#00d4aa]",children:"Click"})]}),u.jsx("span",{className:"text-xs text-gray-500",children:"El centro de tus compras rpidas"})]})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-sm text-gray-600",children:[u.jsx(vt,{to:"/",className:"hover:text-[#1a3a5c] transition-colors",children:"Inicio"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Contacto"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Categoras"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Nosotros"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[e?u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(vt,{to:"/profile",className:"flex items-center gap-2 px-3 py-1.5 bg-gray-50 rounded-lg border border-gray-200 hover:border-[#00d4aa] hover:bg-[#00d4aa]/5 transition-colors",children:[e.photoURL?u.jsx("img",{src:e.photoURL,alt:e.displayName||"Usuario",className:"w-6 h-6 rounded-full"}):u.jsx(vo,{className:"h-4 w-4 text-[#1a3a5c]"}),u.jsx("span",{className:"hidden sm:inline text-sm text-[#1a3a5c] font-medium max-w-[120px] truncate",children:e.displayName||((i=e.email)==null?void 0:i.split("@")[0])||"Usuario"})]}),u.jsx(pe,{variant:"outline",size:"icon",className:"border-red-300 text-red-500 hover:bg-red-50 hover:text-red-600",onClick:s,title:"Cerrar sesin",children:u.jsx(wa,{className:"h-4 w-4"})})]}):u.jsx(vt,{to:"/login",children:u.jsxs(pe,{variant:"outline",className:"gap-2 border-[#1a3a5c] text-[#1a3a5c] hover:bg-[#1a3a5c] hover:text-white",children:[u.jsx(vo,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Cuenta"})]})}),u.jsx(vt,{to:"/cart",children:u.jsxs(pe,{variant:"outline",className:"relative gap-2 border-[#00d4aa] text-[#1a3a5c] hover:bg-[#00d4aa] hover:text-white",children:[u.jsx(Kc,{className:"h-5 w-5"}),u.jsx("span",{className:"hidden sm:inline",children:"Carrito"}),r>0&&u.jsx(vi,{className:"absolute -right-2 -top-2 h-5 w-5 rounded-full p-0 flex items-center justify-center bg-[#00d4aa] text-white text-xs",children:r})]})})]})]})})}function Uq(){return u.jsxs("section",{className:"relative overflow-hidden bg-[#f5f7fa]",children:[u.jsx("div",{className:"absolute inset-0 opacity-30",children:u.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("defs",{children:u.jsx("pattern",{id:"grid",width:"60",height:"60",patternUnits:"userSpaceOnUse",children:u.jsx("circle",{cx:"30",cy:"30",r:"1",fill:"#cbd5e0"})})}),u.jsx("rect",{width:"100%",height:"100%",fill:"url(#grid)"})]})}),u.jsx("div",{className:"absolute inset-0",children:u.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",className:"opacity-20",children:[u.jsx("line",{x1:"10%",y1:"20%",x2:"30%",y2:"40%",stroke:"#cbd5e0",strokeWidth:"1"}),u.jsx("line",{x1:"30%",y1:"40%",x2:"50%",y2:"25%",stroke:"#cbd5e0",strokeWidth:"1"}),u.jsx("line",{x1:"50%",y1:"25%",x2:"70%",y2:"45%",stroke:"#cbd5e0",strokeWidth:"1"}),u.jsx("line",{x1:"70%",y1:"45%",x2:"90%",y2:"30%",stroke:"#cbd5e0",strokeWidth:"1"}),u.jsx("line",{x1:"20%",y1:"60%",x2:"40%",y2:"80%",stroke:"#cbd5e0",strokeWidth:"1"}),u.jsx("line",{x1:"40%",y1:"80%",x2:"60%",y2:"65%",stroke:"#cbd5e0",strokeWidth:"1"}),u.jsx("line",{x1:"60%",y1:"65%",x2:"80%",y2:"85%",stroke:"#cbd5e0",strokeWidth:"1"})]})}),u.jsx("div",{className:"container relative py-16 md:py-24",children:u.jsxs(Ce.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto text-center",children:[u.jsxs(Ce.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#1a3a5c]/10 text-[#1a3a5c] mb-6",children:[u.jsx(ry,{className:"h-4 w-4 fill-[#00d4aa] text-[#00d4aa]"}),u.jsx("span",{className:"text-sm font-medium",children:"Los mejores productos al mejor precio"})]}),u.jsxs("div",{className:"flex items-center justify-center gap-4 mb-6",children:[u.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10 15L35 30L10 45V15Z",fill:"url(#gradHero)"}),u.jsx("path",{d:"M20 20L45 35L20 50V20Z",fill:"#00d4aa",fillOpacity:"0.7"}),u.jsx("path",{d:"M18 28L26 33L18 38V28Z",fill:"#00d4aa"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"gradHero",x1:"10",y1:"15",x2:"35",y2:"45",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{stopColor:"#1a3a5c"}),u.jsx("stop",{offset:"1",stopColor:"#00d4aa"})]})})]}),u.jsxs("h1",{className:"text-4xl md:text-6xl font-bold",children:[u.jsx("span",{className:"text-[#1a3a5c]",children:"Jorstan"})," ",u.jsx("span",{className:"text-[#00d4aa]",children:"Click"})]})]}),u.jsx("p",{className:"text-lg md:text-xl text-gray-500 mb-10 max-w-2xl mx-auto",children:"El centro de tus compras rpidas."}),u.jsxs(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-2xl mx-auto",children:[u.jsxs("div",{className:"flex flex-col items-center gap-3 p-6 rounded-xl bg-white border border-gray-100 shadow-sm",children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-[#1a3a5c] flex items-center justify-center",children:u.jsx(yo,{className:"h-6 w-6 text-[#1a3a5c]"})}),u.jsx("p",{className:"font-semibold text-sm text-gray-700",children:"Entrega Rpida"})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3 p-6 rounded-xl bg-white border border-gray-100 shadow-sm",children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-[#1a3a5c] flex items-center justify-center",children:u.jsx(Kf,{className:"h-6 w-6 text-[#1a3a5c]"})}),u.jsx("p",{className:"font-semibold text-sm text-gray-700",children:"Pago Seguro"})]}),u.jsxs("div",{className:"flex flex-col items-center gap-3 p-6 rounded-xl bg-white border border-gray-100 shadow-sm",children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-[#1a3a5c] flex items-center justify-center",children:u.jsx(gv,{className:"h-6 w-6 text-[#1a3a5c]"})}),u.jsx("p",{className:"font-semibold text-sm text-gray-700",children:"Todo en un Click"})]})]})]})})]})}const $t=b.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:nt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));$t.displayName="Card";const ss=b.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:nt("flex flex-col space-y-1.5 p-6",t),...e}));ss.displayName="CardHeader";const is=b.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:nt("text-2xl font-semibold leading-none tracking-tight",t),...e}));is.displayName="CardTitle";const d0=b.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:nt("text-sm text-muted-foreground",t),...e}));d0.displayName="CardDescription";const zt=b.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:nt("p-6 pt-0",t),...e}));zt.displayName="CardContent";const Bq=b.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:nt("flex items-center p-6 pt-0",t),...e}));Bq.displayName="CardFooter";function $q({product:t,index:e,onClick:n}){const{addToCart:r}=ip(),s=o=>{o.stopPropagation(),r(t),J.success(`${t.name} agregado al carrito`,{duration:2e3})},i=t.image&&t.image!=="https://via.placeholder.com/150";return u.jsx(Ce.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{duration:.4,delay:e*.05},whileHover:{y:-8},className:"group cursor-pointer",onClick:n,children:u.jsxs($t,{className:"overflow-hidden border-border/50 shadow-card transition-all duration-300 hover:shadow-card-hover hover:border-primary/30 h-full",children:[u.jsxs("div",{className:"relative h-48 overflow-hidden",children:[i?u.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"}):u.jsx("div",{className:"w-full h-full gradient-primary flex items-center justify-center",children:u.jsx(Ce.span,{className:"text-6xl",whileHover:{scale:1.2,rotate:5},transition:{type:"spring",stiffness:300},children:t.icon||""})}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),t.category&&u.jsx("div",{className:"absolute top-2 left-2",children:u.jsxs(vi,{className:"bg-[#00d4aa]/90 text-white border-none text-xs px-2 py-0.5",children:[u.jsx(Qf,{className:"h-3 w-3 mr-1"}),t.category]})}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:u.jsx("div",{className:"bg-white/90 rounded-full p-3 shadow-lg",children:u.jsx(MM,{className:"h-6 w-6 text-[#1a3a5c]"})})})]}),u.jsxs(zt,{className:"p-5",children:[u.jsx("h3",{className:"font-semibold text-lg mb-2 line-clamp-1 group-hover:text-primary transition-colors",children:t.name}),u.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2 min-h-[2.5rem]",children:t.description||"Producto de excelente calidad"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:"text-xs text-muted-foreground",children:"Precio"}),u.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",t.price.toFixed(2)]})]}),u.jsxs(pe,{onClick:s,className:"gap-2 gradient-primary hover:opacity-90 text-primary-foreground shadow-glow",children:[u.jsx(Co,{className:"h-4 w-4"}),u.jsx(Kc,{className:"h-4 w-4"})]})]})]})]})})}function zq({product:t,isOpen:e,onClose:n}){const{addToCart:r}=ip();if(!t)return null;const s=()=>{r(t),J.success(`${t.name} agregado al carrito`,{duration:2e3})};return u.jsx(yi,{children:e&&u.jsxs(u.Fragment,{children:[u.jsx(Ce.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:n}),u.jsx(Ce.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:i=>i.target===i.currentTarget&&n(),children:u.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-hidden",children:[u.jsxs("div",{className:"relative h-64 sm:h-72 bg-gradient-to-br from-[#1a3a5c] to-[#00d4aa] overflow-hidden",children:[t.image&&t.image!=="https://via.placeholder.com/150"?u.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center",children:u.jsx("span",{className:"text-8xl",children:t.icon||""})}),u.jsx("button",{onClick:n,className:"absolute top-3 right-3 w-10 h-10 rounded-full bg-black/40 hover:bg-black/60 flex items-center justify-center transition-colors",children:u.jsx(Cu,{className:"h-5 w-5 text-white"})}),t.category&&u.jsx("div",{className:"absolute top-3 left-3",children:u.jsxs(vi,{className:"bg-[#00d4aa] text-white border-none px-3 py-1 text-sm",children:[u.jsx(Qf,{className:"h-3 w-3 mr-1"}),t.category]})}),u.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:u.jsxs("span",{className:"text-3xl font-bold text-white",children:["$",t.price.toFixed(2)]})})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("h2",{className:"text-2xl font-bold text-[#1a3a5c] mb-3",children:t.name}),u.jsx("p",{className:"text-gray-600 leading-relaxed mb-6",children:t.description||"Producto de excelente calidad. Disponible para compra inmediata."}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(pe,{onClick:s,className:"flex-1 gap-2 bg-[#00d4aa] hover:bg-[#00b894] text-white h-12 text-base",children:[u.jsx(Co,{className:"h-5 w-5"}),u.jsx(Kc,{className:"h-5 w-5"}),"Agregar al Carrito"]}),t.paymentUrl&&t.paymentUrl!=="#"&&u.jsx("a",{href:t.paymentUrl,target:"_blank",rel:"noopener noreferrer",children:u.jsxs(pe,{variant:"outline",className:"h-12 gap-2 border-[#1a3a5c] text-[#1a3a5c] hover:bg-[#1a3a5c] hover:text-white",children:[u.jsx(DM,{className:"h-5 w-5"}),"Comprar"]})})]})]})]})})]})})}function ix(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null);return b.useEffect(()=>{r(!0);try{const o=LB(a=>{e(a),r(!1)});return()=>o()}catch{i("Error al cargar productos"),r(!1)}},[]),{products:t,loading:n,error:s}}function Hq(){const{products:t,loading:e,error:n}=ix(),[r,s]=b.useState(""),[i,o]=b.useState("Todos"),[a,l]=b.useState(null),[c,h]=b.useState(!1),f=b.useMemo(()=>{const v=new Set;return t.forEach(T=>{T.category&&v.add(T.category)}),["Todos",...Array.from(v).sort()]},[t]),p=b.useMemo(()=>t.filter(v=>{const T=i==="Todos"||v.category===i,_=r===""||v.name.toLowerCase().includes(r.toLowerCase())||(v.description||"").toLowerCase().includes(r.toLowerCase())||(v.category||"").toLowerCase().includes(r.toLowerCase());return T&&_}),[t,i,r]),m=v=>{l(v),h(!0)},x=()=>{h(!1),setTimeout(()=>l(null),300)};return e?u.jsx("div",{className:"flex items-center justify-center py-20",children:u.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})}):n?u.jsx("div",{className:"text-center py-20",children:u.jsx("p",{className:"text-destructive",children:n})}):t.length===0?u.jsxs(Ce.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[u.jsx("div",{className:"w-20 h-20 mx-auto mb-6 rounded-full bg-muted flex items-center justify-center",children:u.jsx(ci,{className:"h-10 w-10 text-muted-foreground"})}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Tienda vacia"}),u.jsx("p",{className:"text-muted-foreground",children:"Pronto tendremos productos increibles para ti. Vuelve pronto!"})]}):u.jsxs("section",{className:"container py-12",children:[u.jsxs(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-10",children:[u.jsxs("h2",{className:"font-display text-3xl font-bold mb-3",children:["Nuestros ",u.jsx("span",{className:"text-gradient",children:"Productos"})]}),u.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Explora nuestra seleccion de productos de alta calidad"})]}),u.jsx(Ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"max-w-xl mx-auto mb-8",children:u.jsxs("div",{className:"relative",children:[u.jsx(d_,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Buscar productos...",value:r,onChange:v=>s(v.target.value),className:"w-full h-12 pl-12 pr-10 rounded-xl border-2 border-gray-200 bg-white text-sm focus:outline-none focus:border-[#00d4aa] focus:ring-2 focus:ring-[#00d4aa]/20 transition-all placeholder:text-gray-400"}),r&&u.jsx("button",{onClick:()=>s(""),className:"absolute right-3 top-1/2 -translate-y-1/2 w-7 h-7 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center transition-colors",children:u.jsx(Cu,{className:"h-4 w-4 text-gray-500"})})]})}),f.length>2&&u.jsx(Ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"flex flex-wrap justify-center gap-2 mb-8",children:f.map(v=>u.jsxs("button",{onClick:()=>o(v),className:`inline-flex items-center gap-1.5 px-4 py-2 rounded-full text-sm font-medium transition-all ${i===v?"bg-[#00d4aa] text-white shadow-md shadow-[#00d4aa]/30":"bg-white text-gray-600 border border-gray-200 hover:border-[#00d4aa] hover:text-[#00d4aa]"}`,children:[v!=="Todos"&&u.jsx(Qf,{className:"h-3.5 w-3.5"}),v]},v))}),(r||i!=="Todos")&&u.jsxs(Ce.p,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-sm text-muted-foreground mb-6",children:[p.length," producto",p.length!==1?"s":""," encontrado",p.length!==1?"s":"",i!=="Todos"&&` en "${i}"`,r&&` para "${r}"`]}),p.length===0?u.jsxs(Ce.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gray-100 flex items-center justify-center",children:u.jsx(d_,{className:"h-8 w-8 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"No se encontraron productos"}),u.jsx("p",{className:"text-muted-foreground mb-4",children:"Intenta con otra busqueda o categoria"}),u.jsx("button",{onClick:()=>{s(""),o("Todos")},className:"text-[#00d4aa] font-medium hover:underline",children:"Ver todos los productos"})]}):u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:u.jsx(yi,{mode:"popLayout",children:p.map((v,T)=>u.jsx($q,{product:v,index:T,onClick:()=>m(v)},v.id))})}),u.jsx(zq,{product:a,isOpen:c,onClose:x})]})}function fk(){return u.jsx("footer",{className:"border-t border-gray-200 bg-white",children:u.jsxs("div",{className:"container py-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10 15L35 30L10 45V15Z",fill:"url(#gradFooter)"}),u.jsx("path",{d:"M20 20L45 35L20 50V20Z",fill:"#00d4aa",fillOpacity:"0.7"}),u.jsx("path",{d:"M18 28L26 33L18 38V28Z",fill:"#00d4aa"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"gradFooter",x1:"10",y1:"15",x2:"35",y2:"45",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{stopColor:"#1a3a5c"}),u.jsx("stop",{offset:"1",stopColor:"#00d4aa"})]})})]}),u.jsxs("span",{className:"text-xl font-bold",children:[u.jsx("span",{className:"text-[#1a3a5c]",children:"Jorstan"})," ",u.jsx("span",{className:"text-[#00d4aa]",children:"Click"})]})]}),u.jsx("p",{className:"text-sm text-gray-500",children:"El centro de tus compras rpidas con los mejores productos y precios del mercado."})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-4 text-[#1a3a5c]",children:"Contacto"}),u.jsxs("div",{className:"space-y-3 text-sm text-gray-500",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gf,{className:"h-4 w-4 text-[#00d4aa]"}),u.jsx("span",{children:"+593 999 999 999"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx($C,{className:"h-4 w-4 text-[#00d4aa]"}),u.jsx("span",{children:"contacto@jorstanclick.com"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qf,{className:"h-4 w-4 text-[#00d4aa]"}),u.jsx("span",{children:"Quito, Ecuador"})]})]})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold mb-4 text-[#1a3a5c]",children:"Horario"}),u.jsxs("div",{className:"space-y-2 text-sm text-gray-500",children:[u.jsx("p",{children:"Lunes - Viernes: 9:00 - 18:00"}),u.jsx("p",{children:"Sbado: 9:00 - 14:00"}),u.jsx("p",{children:"Domingo: Cerrado"})]})]})]}),u.jsx("div",{className:"border-t border-gray-200 mt-8 pt-8 text-center text-sm text-gray-400",children:u.jsx("p",{children:" 2026 Jorstan Click. Todos los derechos reservados."})})]})})}const Wq=()=>u.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[u.jsx(hk,{}),u.jsxs("main",{className:"flex-1",children:[u.jsx(Uq,{}),u.jsx(Hq,{})]}),u.jsx(fk,{})]}),st=b.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:nt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));st.displayName="Input";var qq="Label",pk=b.forwardRef((t,e)=>u.jsx(tt.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));pk.displayName=qq;var mk=pk;const Gq=Wf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Pe=b.forwardRef(({className:t,...e},n)=>u.jsx(mk,{ref:n,className:nt(Gq(),t),...e}));Pe.displayName=mk.displayName;const ox=b.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:nt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ox.displayName="Textarea";var Kq="Separator",Vb="horizontal",Qq=["horizontal","vertical"],gk=b.forwardRef((t,e)=>{const{decorative:n,orientation:r=Vb,...s}=t,i=Yq(r)?r:Vb,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(tt.div,{"data-orientation":i,...a,...s,ref:e})});gk.displayName=Kq;function Yq(t){return Qq.includes(t)}var yk=gk;const Sf=b.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>u.jsx(yk,{ref:s,decorative:n,orientation:e,className:nt("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Sf.displayName=yk.displayName;function Xq(){const{cart:t,updateQuantity:e,removeFromCart:n,getTotal:r,clearCart:s}=ip(),{user:i}=_l(),o=Nu(),[a,l]=b.useState(!1),[c,h]=b.useState("paypal"),[f,p]=b.useState(!1),m=b.useRef(null),x=b.useRef(!1),[v,T]=b.useState({name:"",phone:"",address:""});b.useEffect(()=>{(async()=>{if(!i)return;const A=await PN(i.uid);T({name:(A&&"name"in A?String(A.name):null)||i.displayName||"",phone:(A&&"phone"in A?String(A.phone):"")||"",address:(A&&"address"in A?String(A.address):"")||""})})()},[i]),b.useEffect(()=>{const w="ARmW_pHoGv6iXEXkvvXhJLkfkXEwBRvdRzt0dou2SNAEnUsPArDmrbfmvQVPJzM6vp9dk91_Hb9a30ed";if(document.querySelector("script[data-paypal-script]")){window.paypal&&p(!0);return}const A=document.createElement("script");A.src=`https://www.paypal.com/sdk/js?client-id=${w}&currency=USD`,A.setAttribute("data-paypal-script","true"),A.async=!0,A.onload=()=>{p(!0)},A.onerror=()=>{console.error("Error loading PayPal SDK")},document.head.appendChild(A)},[]),b.useEffect(()=>{f&&c==="paypal"&&m.current&&window.paypal&&t.length>0&&!x.current&&(m.current.innerHTML="",x.current=!0,window.paypal.Buttons({style:{layout:"vertical",color:"gold",shape:"rect",label:"paypal",height:45},createOrder:(w,A)=>A.order.create({purchase_units:[{description:`Pedido JorstanClick - ${t.length} artculo(s)`,amount:{value:r().toFixed(2)}}]}),onApprove:async(w,A)=>{const j=await A.order.capture();await _("paypal",j.id)},onError:w=>{console.error("PayPal Error:",w),J.error("Error al procesar el pago con PayPal")}}).render(m.current)),(c!=="paypal"||t.length===0)&&(x.current=!1)},[f,c,t.length]);const _=async(w,A)=>{if(!i){J.error("Debes iniciar sesin para realizar un pedido"),o("/login");return}if(!v.name||!v.phone||!v.address){J.error("Por favor completa todos los campos de envo");return}if(t.length===0){J.error("Tu carrito est vaco");return}l(!0);try{const j=new Date().toISOString(),V=`order_${Date.now()}`,C={userId:i.uid,customer:v,items:t,total:r(),status:"pending",date:j,paymentMethod:w,...A&&{paypalTransactionId:A}};await WB(C),await qB(i.uid,V,C),s(),J.success("Pedido realizado con xito!"),o("/")}catch(j){console.error("Error al procesar pedido:",j),J.error("No se pudo procesar el pedido")}finally{l(!1)}},y=()=>{_("whatsapp")};return u.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[u.jsx(hk,{}),u.jsx("main",{className:"flex-1 container py-8",children:u.jsxs(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[u.jsxs(vt,{to:"/",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-6",children:[u.jsx(NM,{className:"h-4 w-4"}),"Volver a la tienda"]}),u.jsxs("h1",{className:"text-3xl font-bold mb-8 flex items-center gap-3",children:[u.jsx(Kc,{className:"h-8 w-8 text-primary"}),"Mi Carrito"]}),t.length===0?u.jsx($t,{className:"text-center py-16",children:u.jsxs(zt,{children:[u.jsx(Kc,{className:"h-10 w-10 mx-auto mb-4 text-muted-foreground"}),u.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Tu carrito est vaco"}),u.jsx(vt,{to:"/",children:u.jsx(pe,{children:"Ver productos"})})]})}):u.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2 space-y-4",children:u.jsx(yi,{children:t.map(w=>u.jsx(Ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0},children:u.jsx($t,{children:u.jsxs(zt,{className:"p-4 flex items-center gap-4",children:[u.jsx("div",{className:"h-16 w-16 rounded-lg overflow-hidden bg-muted shrink-0",children:w.image&&w.image!=="https://via.placeholder.com/150"?u.jsx("img",{src:w.image,alt:w.name,className:"w-full h-full object-cover"}):u.jsx("div",{className:"w-full h-full flex items-center justify-center text-2xl bg-gradient-to-br from-[#1a3a5c] to-[#00d4aa]",children:w.icon||u.jsx(ci,{className:"h-6 w-6 text-white"})})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h3",{className:"font-semibold truncate",children:w.name}),u.jsxs("p",{className:"text-primary font-bold",children:["$",w.price.toFixed(2)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(pe,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>e(w.id,w.quantity-1),children:u.jsx(LM,{className:"h-3 w-3"})}),u.jsx("span",{className:"w-6 text-center font-bold",children:w.quantity}),u.jsx(pe,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>e(w.id,w.quantity+1),children:u.jsx(Co,{className:"h-3 w-3"})})]}),u.jsx("div",{className:"text-right min-w-[80px]",children:u.jsxs("p",{className:"font-bold text-sm",children:["$",(w.price*w.quantity).toFixed(2)]})}),u.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>n(w.id),children:u.jsx(Yf,{className:"h-4 w-4 text-destructive"})})]})})},w.id))})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs($t,{children:[u.jsx(ss,{className:"pb-4",children:u.jsxs(is,{className:"flex items-center gap-2 text-lg",children:[u.jsx(yv,{className:"h-5 w-5 text-primary"}),"Datos de Envo"]})}),u.jsxs(zt,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsxs(Pe,{className:"flex items-center gap-1 mb-1",children:[u.jsx(vo,{className:"h-3 w-3"})," Nombre completo"]}),u.jsx(st,{placeholder:"Tu nombre completo",value:v.name,onChange:w=>T({...v,name:w.target.value})})]}),u.jsxs("div",{children:[u.jsxs(Pe,{className:"flex items-center gap-1 mb-1",children:[u.jsx(Gf,{className:"h-3 w-3"})," Telfono"]}),u.jsx(st,{placeholder:"+1 (555) 123-4567",value:v.phone,onChange:w=>T({...v,phone:w.target.value})})]}),u.jsxs("div",{children:[u.jsxs(Pe,{className:"flex items-center gap-1 mb-1",children:[u.jsx(qf,{className:"h-3 w-3"})," Direccin de envo"]}),u.jsx(ox,{placeholder:"Calle, nmero, ciudad, cdigo postal...",value:v.address,onChange:w=>T({...v,address:w.target.value})})]})]})]}),u.jsxs($t,{children:[u.jsx(ss,{className:"pb-4",children:u.jsxs(is,{className:"flex items-center gap-2 text-lg",children:[u.jsx(BC,{className:"h-5 w-5 text-primary"}),"Resumen del Pedido"]})}),u.jsxs(zt,{className:"space-y-3",children:[t.map(w=>u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsxs("span",{className:"text-muted-foreground truncate mr-2",children:[w.name," x",w.quantity]}),u.jsxs("span",{className:"font-medium shrink-0",children:["$",(w.price*w.quantity).toFixed(2)]})]},w.id)),u.jsx(Sf,{}),u.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[u.jsx("span",{children:"Total"}),u.jsxs("span",{className:"text-primary",children:["$",r().toFixed(2)]})]})]})]}),u.jsxs($t,{children:[u.jsx(ss,{className:"pb-4",children:u.jsxs(is,{className:"flex items-center gap-2 text-lg",children:[u.jsx(ca,{className:"h-5 w-5 text-primary"}),"Mtodo de Pago"]})}),u.jsxs(zt,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[u.jsxs("button",{type:"button",className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all ${c==="paypal"?"border-[#0070ba] bg-[#0070ba]/5":"border-border hover:border-[#0070ba]/50"}`,onClick:()=>h("paypal"),children:[u.jsxs("svg",{viewBox:"0 0 24 24",className:"h-8 w-8",fill:"none",children:[u.jsx("path",{d:"M7.076 21.337H2.47a.641.641 0 01-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797H9.283c-.527 0-.974.382-1.056.9L7.076 21.337z",fill:"#253B80"}),u.jsx("path",{d:"M20.16 7.035c-.01.06-.02.12-.034.18C19.07 12.79 15.68 14.53 11.383 14.53H9.283c-.527 0-.974.382-1.056.9l-1.178 7.466a.538.538 0 00.532.62h3.704c.46 0 .852-.334.924-.788l.038-.197.732-4.64.047-.256a.932.932 0 01.921-.788h.58c3.76 0 6.705-1.528 7.565-5.946.36-1.847.173-3.388-.777-4.471a3.71 3.71 0 00-1.065-.855z",fill:"#179BD7"}),u.jsx("path",{d:"M19.064 6.59a8.884 8.884 0 00-1.09-.245 13.876 13.876 0 00-2.2-.16H10.36a.932.932 0 00-.92.788L8.26 15.239l-.033.21a1.06 1.06 0 011.056-.9h2.153c4.298 0 7.687-1.745 8.67-6.797.03-.15.054-.295.077-.437a4.853 4.853 0 00-1.12-.724z",fill:"#222D65"})]}),u.jsx("span",{className:"text-sm font-medium",children:"PayPal"})]}),u.jsxs("button",{type:"button",className:`flex flex-col items-center gap-2 p-4 rounded-lg border-2 transition-all ${c==="whatsapp"?"border-[#25D366] bg-[#25D366]/5":"border-border hover:border-[#25D366]/50"}`,onClick:()=>h("whatsapp"),children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"h-8 w-8",fill:"#25D366",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),u.jsx("span",{className:"text-sm font-medium",children:"WhatsApp"})]})]}),c==="paypal"&&u.jsxs("div",{className:"space-y-3",children:[!f&&u.jsxs("div",{className:"flex items-center justify-center py-4",children:[u.jsx(Wt,{className:"h-5 w-5 animate-spin mr-2"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Cargando PayPal..."})]}),u.jsx("div",{ref:m})]}),c==="whatsapp"&&u.jsx(pe,{className:"w-full h-12 bg-[#25D366] hover:bg-[#1ebe57] text-white gap-2",size:"lg",onClick:y,disabled:a,children:a?u.jsx(Wt,{className:"animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5",fill:"currentColor",children:u.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),"Finalizar por WhatsApp"]})}),u.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground pt-2",children:[u.jsx(Kf,{className:"h-3 w-3"}),u.jsx("span",{children:"Pago seguro y protegido"})]})]})]})]})]})]})}),u.jsx(fk,{})]})}var Jq=b.createContext(void 0);function vk(t){const e=b.useContext(Jq);return t||e||"ltr"}var og="rovingFocusGroup.onEntryFocus",Zq={bubbles:!1,cancelable:!0},Yu="RovingFocusGroup",[h0,xk,eG]=cC(Yu),[tG,wk]=al(Yu,[eG]),[nG,rG]=tG(Yu),_k=b.forwardRef((t,e)=>u.jsx(h0.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(h0.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(sG,{...t,ref:e})})}));_k.displayName=Yu;var sG=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...f}=t,p=b.useRef(null),m=zn(e,p),x=vk(i),[v,T]=hv({prop:o,defaultProp:a??null,onChange:l,caller:Yu}),[_,y]=b.useState(!1),w=us(c),A=xk(n),j=b.useRef(!1),[V,C]=b.useState(0);return b.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(og,w),()=>S.removeEventListener(og,w)},[w]),u.jsx(nG,{scope:n,orientation:r,dir:x,loop:s,currentTabStopId:v,onItemFocus:b.useCallback(S=>T(S),[T]),onItemShiftTab:b.useCallback(()=>y(!0),[]),onFocusableItemAdd:b.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:b.useCallback(()=>C(S=>S-1),[]),children:u.jsx(tt.div,{tabIndex:_||V===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ne(t.onMouseDown,()=>{j.current=!0}),onFocus:Ne(t.onFocus,S=>{const I=!j.current;if(S.target===S.currentTarget&&I&&!_){const N=new CustomEvent(og,Zq);if(S.currentTarget.dispatchEvent(N),!N.defaultPrevented){const k=A().filter(te=>te.focusable),D=k.find(te=>te.active),R=k.find(te=>te.id===v),re=[D,R,...k].filter(Boolean).map(te=>te.ref.current);bk(re,h)}}j.current=!1}),onBlur:Ne(t.onBlur,()=>y(!1))})})}),Ek="RovingFocusGroupItem",Tk=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=eI(),c=i||l,h=rG(Ek,n),f=h.currentTabStopId===c,p=xk(n),{onFocusableItemAdd:m,onFocusableItemRemove:x,currentTabStopId:v}=h;return b.useEffect(()=>{if(r)return m(),()=>x()},[r,m,x]),u.jsx(h0.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:u.jsx(tt.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:Ne(t.onMouseDown,T=>{r?h.onItemFocus(c):T.preventDefault()}),onFocus:Ne(t.onFocus,()=>h.onItemFocus(c)),onKeyDown:Ne(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){h.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const _=aG(T,h.orientation,h.dir);if(_!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let w=p().filter(A=>A.focusable).map(A=>A.ref.current);if(_==="last")w.reverse();else if(_==="prev"||_==="next"){_==="prev"&&w.reverse();const A=w.indexOf(T.currentTarget);w=h.loop?lG(w,A+1):w.slice(A+1)}setTimeout(()=>bk(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});Tk.displayName=Ek;var iG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oG(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function aG(t,e,n){const r=oG(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return iG[r]}function bk(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function lG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var cG=_k,uG=Tk,Dp="Tabs",[dG,LG]=al(Dp,[wk]),Sk=wk(),[hG,ax]=dG(Dp),Ck=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,h=vk(a),[f,p]=hv({prop:r,onChange:s,defaultProp:i??"",caller:Dp});return u.jsx(hG,{scope:n,baseId:eI(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:l,children:u.jsx(tt.div,{dir:h,"data-orientation":o,...c,ref:e})})});Ck.displayName=Dp;var Ik="TabsList",Pk=b.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=ax(Ik,n),o=Sk(n);return u.jsx(cG,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:u.jsx(tt.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});Pk.displayName=Ik;var Ak="TabsTrigger",Nk=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=ax(Ak,n),a=Sk(n),l=jk(o.baseId,r),c=Dk(o.baseId,r),h=r===o.value;return u.jsx(uG,{asChild:!0,...a,focusable:!s,active:h,children:u.jsx(tt.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":c,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:Ne(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:Ne(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:Ne(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});Nk.displayName=Ak;var Rk="TabsContent",kk=b.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=ax(Rk,n),l=jk(a.baseId,r),c=Dk(a.baseId,r),h=r===a.value,f=b.useRef(h);return b.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx($f,{present:s||h,children:({present:p})=>u.jsx(tt.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});kk.displayName=Rk;function jk(t,e){return`${t}-trigger-${e}`}function Dk(t,e){return`${t}-content-${e}`}var fG=Ck,Mk=Pk,Vk=Nk,Ok=kk;const pG=fG,Lk=b.forwardRef(({className:t,...e},n)=>u.jsx(Mk,{ref:n,className:nt("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Lk.displayName=Mk.displayName;const f0=b.forwardRef(({className:t,...e},n)=>u.jsx(Vk,{ref:n,className:nt("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));f0.displayName=Vk.displayName;const p0=b.forwardRef(({className:t,...e},n)=>u.jsx(Ok,{ref:n,className:nt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));p0.displayName=Ok.displayName;function Fk(){const[t,e]=b.useState([]),[n,r]=b.useState(!0),[s,i]=b.useState(null);return b.useEffect(()=>{r(!0),i(null);const l=HB(c=>{e(c),r(!1),i(null)},c=>{console.error("Error al cargar pedidos:",c),i(c.message||"Error al cargar pedidos"),r(!1)});return()=>l()},[]),{orders:t,loading:n,error:s,getTotalRevenue:()=>t.reduce((l,c)=>l+(c.total||0),0),getTodayOrders:()=>{const l=new Date().toDateString();return t.filter(c=>c.createdAt?c.createdAt.toDate().toDateString()===l:!1).length}}}const mG=["Electrnica","Ropa","Hogar","Deportes","Belleza","Juguetes","Alimentos","Accesorios","Otro"],zd={name:"",price:"",description:"",image:"",paymentUrl:"",category:""};function gG(){const{products:t,loading:e}=ix(),[n,r]=b.useState(!1),[s,i]=b.useState(null),[o,a]=b.useState(!1),[l,c]=b.useState(zd),[h,f]=b.useState(zd),p=async y=>{if(y.preventDefault(),!l.name||!l.price){J.error("Nombre y precio son requeridos");return}r(!0);try{await FB({name:l.name,price:parseFloat(l.price),description:l.description,image:l.image||"https://via.placeholder.com/150",paymentUrl:l.paymentUrl||"#",category:l.category||"Otro"}),c(zd),J.success("Producto agregado con xito!")}catch{J.error("Error al agregar el producto")}finally{r(!1)}},m=y=>{i(y),f({name:y.name,price:y.price.toString(),description:y.description||"",image:y.image||"",paymentUrl:y.paymentUrl||"",category:y.category||""}),a(!0)},x=()=>{i(null),f(zd),a(!1)},v=async y=>{if(y.preventDefault(),!!s){if(!h.name||!h.price){J.error("Nombre y precio son requeridos");return}r(!0);try{await UB(s.id,{name:h.name,price:parseFloat(h.price),description:h.description,image:h.image||"https://via.placeholder.com/150",paymentUrl:h.paymentUrl||"#",category:h.category||"Otro"}),J.success("Producto actualizado con xito!"),x()}catch{J.error("Error al actualizar el producto")}finally{r(!1)}}},T=async(y,w)=>{if(confirm(`Ests seguro de eliminar "${w}"?`))try{await BB(y),J.success("Producto eliminado")}catch{J.error("Error al eliminar producto")}},_=(y,w,A,j,V,C,S)=>u.jsxs("form",{onSubmit:A,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(Pe,{children:"Nombre del producto *"}),u.jsx(st,{placeholder:"Ej: Camisa Urban",value:y.name,onChange:I=>w({...y,name:I.target.value})})]}),u.jsxs("div",{children:[u.jsx(Pe,{children:"Precio ($) *"}),u.jsx(st,{type:"number",placeholder:"19.99",value:y.price,onChange:I=>w({...y,price:I.target.value})})]}),u.jsxs("div",{children:[u.jsxs(Pe,{className:"flex items-center gap-1",children:[u.jsx(Qf,{className:"h-3 w-3"})," Categora"]}),u.jsxs("select",{value:y.category,onChange:I=>w({...y,category:I.target.value}),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[u.jsx("option",{value:"",children:"Seleccionar categora"}),mG.map(I=>u.jsx("option",{value:I,children:I},I))]})]}),u.jsxs("div",{children:[u.jsxs(Pe,{className:"flex items-center gap-1",children:[u.jsx(VM,{className:"h-3 w-3"})," URL de la Imagen (ImgBB)"]}),u.jsx(st,{placeholder:"Pega el link .jpg o .png aqu",value:y.image,onChange:I=>w({...y,image:I.target.value})})]}),u.jsxs("div",{children:[u.jsxs(Pe,{className:"flex items-center gap-1",children:[u.jsx(ca,{className:"h-3 w-3"})," Link de Pago o WhatsApp"]}),u.jsx(st,{placeholder:"https://wa.me/tu_numero",value:y.paymentUrl,onChange:I=>w({...y,paymentUrl:I.target.value})})]}),u.jsxs("div",{children:[u.jsx(Pe,{children:"Descripcin"}),u.jsx(ox,{placeholder:"Detalles del producto...",value:y.description,onChange:I=>w({...y,description:I.target.value})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(pe,{type:"submit",className:"flex-1 gradient-primary gap-2",disabled:n,children:n?u.jsx(Wt,{className:"h-4 w-4 animate-spin"}):u.jsxs(u.Fragment,{children:[V," ",C]})}),S&&u.jsxs(pe,{type:"button",variant:"outline",onClick:S,className:"gap-2",children:[u.jsx(Cu,{className:"h-4 w-4"})," Cancelar"]})]})]});return u.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[u.jsx(Ce.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:u.jsxs($t,{className:"border-border/50 shadow-card sticky top-24",children:[u.jsx(ss,{children:u.jsx(is,{className:"flex items-center gap-2",children:o?u.jsxs(u.Fragment,{children:[u.jsx(c_,{className:"h-5 w-5 text-orange-500"}),"Editar Producto"]}):u.jsxs(u.Fragment,{children:[u.jsx(Co,{className:"h-5 w-5 text-primary"}),"Nuevo Producto"]})})}),u.jsx(zt,{children:o?_(h,f,v,"Editar Producto",u.jsx(BM,{className:"h-4 w-4"}),"Guardar Cambios",x):_(l,c,p,"Nuevo Producto",u.jsx(Co,{className:"h-4 w-4"}),"Guardar Producto")})]})}),u.jsx("div",{className:"lg:col-span-2",children:u.jsxs($t,{className:"border-border/50 shadow-card",children:[u.jsx(ss,{children:u.jsxs(is,{className:"flex items-center gap-2",children:[u.jsx(ci,{className:"h-5 w-5 text-primary"}),"Mis Productos (",t.length,")"]})}),u.jsx(zt,{children:u.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:t.map(y=>u.jsxs($t,{className:`overflow-hidden group ${(s==null?void 0:s.id)===y.id?"ring-2 ring-orange-500":""}`,children:[u.jsxs("div",{className:"h-32 bg-muted relative overflow-hidden",children:[u.jsx("img",{src:y.image||"https://via.placeholder.com/150",alt:y.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),y.category&&u.jsx("span",{className:"absolute top-2 left-2 px-2 py-0.5 bg-[#00d4aa] text-white text-xs rounded-full",children:y.category})]}),u.jsx(zt,{className:"p-4",children:u.jsxs("div",{className:"flex justify-between items-start",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:"font-bold truncate",children:y.name}),u.jsxs("p",{className:"text-primary font-bold",children:["$",y.price.toFixed(2)]}),y.description&&u.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:y.description})]}),u.jsxs("div",{className:"flex gap-1 ml-2 shrink-0",children:[u.jsx("button",{className:"p-2 text-orange-500 hover:bg-orange-500/10 rounded transition-colors",onClick:()=>m(y),title:"Editar producto",children:u.jsx(c_,{className:"h-4 w-4"})}),u.jsx("button",{className:"p-2 text-destructive hover:bg-destructive/10 rounded transition-colors",onClick:()=>T(y.id,y.name),title:"Eliminar producto",children:u.jsx(Yf,{className:"h-4 w-4"})})]})]})})]},y.id))})})]})})]})}const m0=[{value:"pending",label:"Pendiente",icon:yo,color:"bg-yellow-100 text-yellow-800 border-yellow-300"},{value:"processing",label:"Procesando",icon:zC,color:"bg-blue-100 text-blue-800 border-blue-300"},{value:"shipped",label:"Enviado",icon:yv,color:"bg-purple-100 text-purple-800 border-purple-300"},{value:"delivered",label:"Entregado",icon:FC,color:"bg-green-100 text-green-800 border-green-300"},{value:"cancelled",label:"Cancelado",icon:UC,color:"bg-red-100 text-red-800 border-red-300"}];function Ob(t){return m0.find(e=>e.value===t)||m0[0]}function yG(){const{orders:t,loading:e,error:n}=Fk(),[r,s]=b.useState(null),[i,o]=b.useState({}),[a,l]=b.useState({}),[c,h]=b.useState({}),f=async x=>{if(confirm("Ests seguro de eliminar este pedido?"))try{await $B(x),J.success("Pedido eliminado")}catch{J.error("Error al eliminar pedido")}},p=async x=>{const v=a[x.id]||x.status,T=i[x.id]||"";if(!T.trim()){J.error("Por favor ingresa un mensaje para el cliente");return}h(_=>({..._,[x.id]:!0}));try{await zB(x.id,v,T,x.userId),J.success("Estado del pedido actualizado"),o(_=>({..._,[x.id]:""})),s(null)}catch(_){console.error("Error updating order status:",_),J.error("Error al actualizar el estado del pedido")}finally{h(_=>({..._,[x.id]:!1}))}},m=x=>{var y;const v=((y=x.createdAt)==null?void 0:y.toDate())||new Date,T=`
      <html>
        <head>
          <title>Pedido #${x.id.substring(0,8)}</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 40px; max-width: 800px; margin: 0 auto; }
            h1 { color: #d97706; border-bottom: 3px solid #d97706; padding-bottom: 15px; }
            h2 { color: #d97706; }
            .info-box { background: #f9f9f9; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .customer-box { border: 2px solid #d97706; padding: 20px; border-radius: 10px; margin: 20px 0; }
            table { width: 100%; border-collapse: collapse; margin: 20px 0; }
            th { background: #d97706; color: white; padding: 12px; text-align: left; }
            td { padding: 12px; border-bottom: 1px solid #ddd; }
            .total { background: #d97706; color: white; padding: 20px; border-radius: 10px; text-align: right; font-size: 24px; }
            .footer { margin-top: 50px; text-align: center; color: #666; border-top: 2px solid #333; padding-top: 20px; }
          </style>
        </head>
        <body>
          <h1>Jorstan Click</h1>
          <h2>COMPROBANTE DE PEDIDO</h2>

          <div class="info-box">
            <p><strong>Pedido #:</strong> ${x.id.substring(0,8)}</p>
            <p><strong>Fecha:</strong> ${v.toLocaleString("es-ES")}</p>
          </div>

          <div class="customer-box">
            <h3>DATOS DEL CLIENTE</h3>
            <p><strong>Nombre:</strong> ${x.customer.name}</p>
            <p><strong>Telfono:</strong> ${x.customer.phone}</p>
            <p><strong>Direccin:</strong> ${x.customer.address}</p>
          </div>

          <h3>PRODUCTOS</h3>
          <table>
            <thead>
              <tr>
                <th>Producto</th>
                <th>Cantidad</th>
                <th>Precio Unit.</th>
                <th>Subtotal</th>
              </tr>
            </thead>
            <tbody>
              ${x.items.map(w=>`
                <tr>
                  <td>${w.icon||""} ${w.name}</td>
                  <td>${w.quantity}</td>
                  <td>$${w.price.toFixed(2)}</td>
                  <td>$${(w.price*w.quantity).toFixed(2)}</td>
                </tr>
              `).join("")}
            </tbody>
          </table>

          <div class="total">TOTAL: $${x.total.toFixed(2)}</div>

          <div class="footer">
            <p>Gracias por tu compra!</p>
            <p>Para cualquier consulta, no dudes en contactarnos</p>
          </div>
        </body>
      </html>
    `,_=window.open("","_blank");_&&(_.document.write(T),_.document.close(),_.print())};return e?u.jsx("div",{className:"flex justify-center py-20",children:u.jsx(Wt,{className:"h-8 w-8 animate-spin text-primary"})}):n?u.jsx($t,{className:"border-destructive/50",children:u.jsx(zt,{className:"p-6",children:u.jsxs("div",{className:"text-center py-8",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-destructive/10 flex items-center justify-center",children:u.jsx(wc,{className:"h-8 w-8 text-destructive"})}),u.jsx("h3",{className:"text-lg font-semibold text-destructive mb-2",children:"Error al cargar pedidos"}),u.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:n}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Verifica la configuracin de Firestore y que los ndices estn creados correctamente."})]})})}):u.jsx(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:u.jsxs($t,{className:"border-border/50 shadow-card",children:[u.jsx(ss,{children:u.jsxs(is,{className:"flex items-center gap-2",children:[u.jsx(wc,{className:"h-5 w-5 text-primary"}),"Pedidos Recibidos (",t.length,")"]})}),u.jsx(zt,{children:t.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-muted flex items-center justify-center",children:u.jsx(wc,{className:"h-8 w-8 text-muted-foreground"})}),u.jsx("p",{className:"text-muted-foreground",children:"No hay pedidos todava"})]}):u.jsx("div",{className:"space-y-4",children:u.jsx(yi,{mode:"popLayout",children:t.map((x,v)=>{var A;const T=((A=x.createdAt)==null?void 0:A.toDate())||new Date,_=Ob(x.status||"pending"),y=r===x.id,w=_.icon;return u.jsx(Ce.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.9},transition:{delay:v*.05},children:u.jsx($t,{className:"group hover:border-primary/30 transition-colors",children:u.jsxs(zt,{className:"p-6",children:[u.jsxs("div",{className:"flex items-start justify-between mb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsxs(vi,{variant:"outline",className:"font-mono",children:["#",x.id.substring(0,8)]}),u.jsxs(vi,{className:_.color,children:[u.jsx(w,{className:"h-3 w-3 mr-1"}),_.label]})]}),u.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[u.jsx(RM,{className:"h-3 w-3"}),T.toLocaleString("es-ES")]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(pe,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>{s(y?null:x.id),a[x.id]||l(j=>({...j,[x.id]:x.status||"pending"}))},children:[u.jsx(u_,{className:"h-4 w-4"}),"Estado",y?u.jsx(LC,{className:"h-3 w-3"}):u.jsx(OC,{className:"h-3 w-3"})]}),u.jsxs(pe,{variant:"outline",size:"sm",className:"gap-1",onClick:()=>m(x),children:[u.jsx(UM,{className:"h-4 w-4"}),"Imprimir"]}),u.jsx(pe,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>f(x.id),children:u.jsx(Yf,{className:"h-4 w-4"})})]})]}),u.jsx(yi,{children:y&&u.jsx(Ce.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:u.jsxs("div",{className:"mb-4 p-4 rounded-lg border-2 border-primary/20 bg-primary/5",children:[u.jsxs("h4",{className:"font-semibold text-sm mb-3 flex items-center gap-2",children:[u.jsx(u_,{className:"h-4 w-4"}),"Actualizar Estado del Pedido"]}),u.jsxs("div",{className:"mb-3",children:[u.jsx(Pe,{className:"text-xs text-muted-foreground mb-2 block",children:"Nuevo estado"}),u.jsx("div",{className:"flex flex-wrap gap-2",children:m0.map(j=>{const V=j.icon,C=(a[x.id]||x.status)===j.value;return u.jsxs("button",{onClick:()=>l(S=>({...S,[x.id]:j.value})),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium border transition-all ${C?j.color+" ring-2 ring-offset-1 ring-current":"border-gray-200 text-gray-500 hover:border-gray-400"}`,children:[u.jsx(V,{className:"h-3.5 w-3.5"}),j.label]},j.value)})})]}),u.jsxs("div",{className:"mb-3",children:[u.jsx(Pe,{className:"text-xs text-muted-foreground mb-2 block",children:"Mensaje para el cliente"}),u.jsx(st,{value:i[x.id]||"",onChange:j=>o(V=>({...V,[x.id]:j.target.value})),placeholder:"Ej: Tu pedido est siendo preparado para envo...",className:"text-sm"})]}),x.statusHistory&&x.statusHistory.length>0&&u.jsxs("div",{className:"mb-3",children:[u.jsx(Pe,{className:"text-xs text-muted-foreground mb-2 block",children:"Historial de estados"}),u.jsx("div",{className:"space-y-1.5 max-h-32 overflow-y-auto",children:x.statusHistory.map((j,V)=>{const C=Ob(j.status),S=C.icon;return u.jsxs("div",{className:"flex items-start gap-2 text-xs p-2 rounded bg-white border",children:[u.jsx(S,{className:"h-3.5 w-3.5 mt-0.5 shrink-0"}),u.jsxs("div",{className:"min-w-0",children:[u.jsxs("span",{className:"font-medium",children:[C.label,":"]})," ",u.jsx("span",{className:"text-muted-foreground",children:j.message}),u.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:new Date(j.date).toLocaleString("es-ES")})]})]},V)})})]}),u.jsxs(pe,{size:"sm",className:"w-full gap-2",onClick:()=>p(x),disabled:c[x.id],children:[c[x.id]?u.jsx(Wt,{className:"h-4 w-4 animate-spin"}):u.jsx($M,{className:"h-4 w-4"}),"Enviar Actualizacin al Cliente"]})]})})}),u.jsxs("div",{className:"grid sm:grid-cols-3 gap-3 mb-4 p-3 rounded-lg bg-muted/50",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(vo,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm",children:x.customer.name})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gf,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm",children:x.customer.phone})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(qf,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm truncate",children:x.customer.address})]})]}),u.jsx(Sf,{className:"my-4"}),u.jsx("div",{className:"space-y-2",children:x.items.map((j,V)=>u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsxs("span",{children:[j.icon," ",j.name,u.jsxs("span",{className:"text-muted-foreground ml-1",children:["x",j.quantity]})]}),u.jsxs("span",{className:"font-medium",children:["$",(j.price*j.quantity).toFixed(2)]})]},V))}),u.jsx(Sf,{className:"my-4"}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"font-semibold",children:"Total del pedido"}),u.jsxs("span",{className:"text-2xl font-bold text-primary",children:["$",x.total.toFixed(2)]})]})]})})},x.id)})})})})]})})}function vG({onLogout:t}){const{products:e}=ix(),{orders:n,getTotalRevenue:r,getTodayOrders:s}=Fk(),i=[{label:"Productos",value:e.length.toString(),icon:ci,color:"bg-blue-500/10 text-blue-600"},{label:"Pedidos Total",value:n.length.toString(),icon:wc,color:"bg-purple-500/10 text-purple-600"},{label:"Ventas Totales",value:`$${r().toFixed(2)}`,icon:BC,color:"bg-green-500/10 text-green-600"},{label:"Pedidos Hoy",value:s().toString(),icon:WM,color:"bg-amber-500/10 text-amber-600"}];return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur",children:u.jsxs("div",{className:"container flex h-16 items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl gradient-primary",children:u.jsx(Hh,{className:"h-5 w-5 text-primary-foreground"})}),u.jsxs("div",{children:[u.jsx("span",{className:"font-display text-xl font-bold text-gradient",children:"Panel Admin"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Urban Shop"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(vt,{to:"/",children:u.jsxs(pe,{className:"gap-2",children:[u.jsx(Hh,{className:"h-4 w-4"}),"Ver Tienda"]})}),u.jsxs(pe,{onClick:t,className:"gap-2 text-destructive hover:text-destructive hover:bg-destructive/10",children:[u.jsx(wa,{className:"h-4 w-4"}),"Salir"]})]})]})}),u.jsxs("main",{className:"container py-8",children:[u.jsx(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:i.map((o,a)=>u.jsx(Ce.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:a*.1},children:u.jsx($t,{className:"border-border/50 shadow-card hover:shadow-card-hover transition-shadow",children:u.jsx(zt,{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:o.label}),u.jsx("p",{className:"text-3xl font-bold mt-1",children:o.value})]}),u.jsx("div",{className:`h-12 w-12 rounded-xl flex items-center justify-center ${o.color}`,children:u.jsx(o.icon,{className:"h-6 w-6"})})]})})})},o.label))}),u.jsxs(pG,{defaultValue:"products",className:"space-y-6",children:[u.jsxs(Lk,{className:"grid w-full grid-cols-2 max-w-md",children:[u.jsxs(f0,{value:"products",className:"gap-2",children:[u.jsx(ci,{className:"h-4 w-4"}),"Productos"]}),u.jsxs(f0,{value:"orders",className:"gap-2",children:[u.jsx(wc,{className:"h-4 w-4"}),"Pedidos"]})]}),u.jsx(p0,{value:"products",children:u.jsx(gG,{})}),u.jsx(p0,{value:"orders",children:u.jsx(yG,{})})]})]})]})}const xG=["johnmichaelloor@gmail.com"];function wG(){const{user:t,loading:e,isAdmin:n,adminLoading:r,logout:s}=_l(),[i,o]=b.useState(!1),[a,l]=b.useState(!1),c=async()=>{var f;o(!0);try{await du;const p=new sr,m=await Wv(Ni,p);if(m.user){l(!0);const x=(f=m.user.email)==null?void 0:f.toLowerCase();xG.some(T=>T.toLowerCase()===x)?(await e$(m.user.uid)||await t$(m.user.uid,m.user.email||""),J.success("Bienvenido, Administrador")):(J.error("Este correo no tiene permisos de administrador"),await s()),l(!1)}}catch(p){console.error("Error en autenticacion:",p),p.code==="auth/popup-closed-by-user"?J.info("Inicio de sesion cancelado"):p.code==="auth/popup-blocked"?J.error("El navegador bloqueo la ventana emergente. Por favor, permite las ventanas emergentes."):J.error("Error al iniciar sesion. Intenta de nuevo.")}finally{o(!1)}},h=async()=>{await s(),J.info("Sesion cerrada")};return e||r||a?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Wt,{className:"w-8 h-8 animate-spin text-primary mx-auto mb-4"}),u.jsx("p",{className:"text-muted-foreground",children:a?"Verificando permisos...":"Cargando..."})]})}):t&&!n?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:u.jsx(Ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:u.jsxs($t,{className:"border-border/50 shadow-lg",children:[u.jsxs(ss,{className:"text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"h-16 w-16 rounded-2xl bg-destructive/10 flex items-center justify-center",children:u.jsx(HM,{className:"h-8 w-8 text-destructive"})})}),u.jsx(is,{className:"text-2xl font-bold",children:"Acceso Denegado"}),u.jsxs(d0,{children:["Tu cuenta (",t.email,") no tiene permisos de administrador."]})]}),u.jsxs(zt,{className:"space-y-4",children:[u.jsxs(pe,{onClick:h,className:"w-full gap-2",variant:"outline",children:[u.jsx(wa,{className:"h-4 w-4"}),"Cerrar sesion"]}),u.jsx(vt,{to:"/",className:"block",children:u.jsxs(pe,{type:"button",className:"w-full gap-2 border border-input bg-background hover:bg-accent hover:text-accent-foreground",children:[u.jsx(Hh,{className:"h-4 w-4"}),"Volver a la tienda"]})})]})]})})}):t?u.jsx(vG,{onLogout:h}):u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:u.jsx(Ce.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"w-full max-w-md",children:u.jsxs($t,{className:"border-border/50 shadow-lg",children:[u.jsxs(ss,{className:"text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"h-16 w-16 rounded-2xl bg-primary flex items-center justify-center shadow-lg",children:u.jsx(OM,{className:"h-8 w-8 text-primary-foreground"})})}),u.jsx(is,{className:"text-2xl font-bold",children:"Panel de Administrador"}),u.jsx(d0,{children:"Inicia sesion con tu cuenta de Google autorizada para acceder al panel de control"})]}),u.jsxs(zt,{className:"space-y-4",children:[u.jsx(pe,{onClick:c,className:"w-full gap-2",disabled:i,children:i?u.jsxs(u.Fragment,{children:[u.jsx(Wt,{className:"h-4 w-4 animate-spin"}),"Conectando..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Iniciar sesion con Google"]})}),u.jsx(vt,{to:"/",className:"block",children:u.jsxs(pe,{type:"button",className:"w-full gap-2 border border-input bg-background hover:bg-accent hover:text-accent-foreground",children:[u.jsx(Hh,{className:"h-4 w-4"}),"Volver a la tienda"]})}),u.jsx("div",{className:"mt-6 p-4 bg-muted rounded-lg text-center",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:"Solo los correos autorizados pueden acceder al panel de administrador."})})]})]})})})}const _G=()=>{const t=Au();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),u.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),u.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),u.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})};function EG(){const{user:t,loading:e}=_l(),n=Nu(),[r,s]=b.useState(!1),[i,o]=b.useState(!1);b.useState(!1);const[a,l]=b.useState({email:"",password:""});b.useEffect(()=>{!e&&t&&n("/profile")},[t,e,n]);const c=async()=>{s(!0);try{await du;const p=new sr;(await Wv(Ni,p)).user&&(J.success("Bienvenido!"),n("/profile"))}catch(p){console.error("Error en autenticacin:",p),p.code==="auth/popup-closed-by-user"?J.info("Inicio de sesin cancelado"):p.code==="auth/popup-blocked"?J.error("El navegador bloque la ventana emergente. Por favor, permite las ventanas emergentes."):J.error("Error al iniciar sesin. Intenta de nuevo.")}finally{s(!1)}},h=p=>{const{name:m,value:x}=p.target;l(v=>({...v,[m]:x}))},f=async p=>{if(p.preventDefault(),!a.email||!a.password){J.error("Por favor completa todos los campos");return}o(!0);try{await du,(await t9(Ni,a.email,a.password)).user&&(J.success("Bienvenido!"),n("/profile"))}catch(m){console.error("Error en autenticacin:",m),m.code==="auth/user-not-found"?J.error("No existe una cuenta con este correo"):m.code==="auth/wrong-password"?J.error("Contrasea incorrecta"):m.code==="auth/invalid-email"?J.error("Correo electrnico invlido"):m.code==="auth/invalid-credential"?J.error("Credenciales invlidas. Verifica tu correo y contrasea."):J.error("Error al iniciar sesin. Intenta de nuevo.")}finally{o(!1)}};return e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f5f7fa]",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#00d4aa] mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):u.jsxs("div",{className:"min-h-screen flex flex-col bg-[#f5f7fa]",children:[u.jsxs("header",{className:"w-full py-4 px-6 flex items-center justify-between bg-white shadow-sm",children:[u.jsxs(vt,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex items-center",children:u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10 15L35 30L10 45V15Z",fill:"url(#grad1)"}),u.jsx("path",{d:"M20 20L45 35L20 50V20Z",fill:"#00d4aa",fillOpacity:"0.7"}),u.jsx("path",{d:"M18 28L26 33L18 38V28Z",fill:"#00d4aa"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"grad1",x1:"10",y1:"15",x2:"35",y2:"45",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{stopColor:"#1a3a5c"}),u.jsx("stop",{offset:"1",stopColor:"#00d4aa"})]})})]})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"font-bold text-lg",children:[u.jsx("span",{className:"text-[#1a3a5c]",children:"Jorstan"})," ",u.jsx("span",{className:"text-[#00d4aa]",children:"Click"})]}),u.jsx("span",{className:"text-[10px] text-gray-500",children:"El centro de tus compras rpidas."})]})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-sm text-gray-600",children:[u.jsx(vt,{to:"/",className:"hover:text-[#1a3a5c] transition-colors",children:"Inicio"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Contacto"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Categoras"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Nosotros"}),u.jsx("span",{className:"text-[#00d4aa] font-medium border-b-2 border-[#00d4aa] pb-1",children:"Cuenta"})]})]}),u.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-12",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[u.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10 15L35 30L10 45V15Z",fill:"url(#grad2)"}),u.jsx("path",{d:"M20 20L45 35L20 50V20Z",fill:"#00d4aa",fillOpacity:"0.7"}),u.jsx("path",{d:"M18 28L26 33L18 38V28Z",fill:"#00d4aa"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"grad2",x1:"10",y1:"15",x2:"35",y2:"45",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{stopColor:"#1a3a5c"}),u.jsx("stop",{offset:"1",stopColor:"#00d4aa"})]})})]}),u.jsx("div",{children:u.jsxs("h1",{className:"text-2xl font-bold",children:[u.jsx("span",{className:"text-[#1a3a5c]",children:"Jorstan"})," ",u.jsx("span",{className:"text-[#00d4aa]",children:"Click"})]})})]}),u.jsx("p",{className:"text-center text-gray-500 mb-8",children:"El centro de tus compras rpidas."}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(pe,{className:"w-full bg-[#1a3a5c] hover:bg-[#142d47] text-white py-6 text-base font-medium rounded-xl transition-all duration-200",onClick:c,disabled:r||i,children:r?u.jsxs(u.Fragment,{children:[u.jsx(Wt,{className:"w-5 h-5 mr-3 animate-spin"}),"Conectando..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continuar con Google"]})}),u.jsxs("div",{className:"relative my-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-200"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-4 bg-white text-gray-400",children:"o inicia sesin con correo"})})]}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pe,{htmlFor:"email",className:"text-sm text-gray-600",children:"Correo electrnico"}),u.jsx(st,{id:"email",name:"email",type:"email",placeholder:"tu@correo.com",value:a.email,onChange:h,className:"rounded-lg border-gray-200 focus:border-[#00d4aa] focus:ring-[#00d4aa]",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pe,{htmlFor:"password",className:"text-sm text-gray-600",children:"Contrasea"}),u.jsx(st,{id:"password",name:"password",type:"password",placeholder:"Tu contrasea",value:a.password,onChange:h,className:"rounded-lg border-gray-200 focus:border-[#00d4aa] focus:ring-[#00d4aa]",required:!0})]}),u.jsx(pe,{type:"submit",className:"w-full bg-[#00d4aa] hover:bg-[#00b894] text-white py-6 text-base font-medium rounded-xl transition-all duration-200",disabled:i||r,children:i?u.jsxs(u.Fragment,{children:[u.jsx(Wt,{className:"w-5 h-5 mr-2 animate-spin"}),"Iniciando sesin..."]}):"Iniciar sesin"})]}),u.jsx("div",{className:"text-center",children:u.jsxs("p",{className:"text-sm text-gray-500",children:["An no tienes cuenta?"," ",u.jsx(vt,{to:"/register",className:"text-[#00d4aa] hover:underline font-medium",children:"Regstrate aqu"})]})})]})]}),u.jsxs("div",{className:"flex justify-center gap-8 mt-8",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-[#1a3a5c] flex items-center justify-center mb-2",children:u.jsx(yo,{className:"w-6 h-6 text-[#1a3a5c]"})}),u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Entrega Rpida"})]}),u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-[#1a3a5c] flex items-center justify-center mb-2",children:u.jsx(Kf,{className:"w-6 h-6 text-[#1a3a5c]"})}),u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Pago Seguro"})]}),u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-[#1a3a5c] flex items-center justify-center mb-2",children:u.jsx(gv,{className:"w-6 h-6 text-[#1a3a5c]"})}),u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Todo en un Click"})]})]})]})}),u.jsx("footer",{className:"py-4 text-center text-xs text-gray-400 bg-[#2d3748]",children:u.jsx("p",{children:" 2026 Jorstan Click. Todos los derechos reservados."})})]})}function TG(){const{user:t,loading:e}=_l(),n=Nu(),[r,s]=b.useState(!1),[i,o]=b.useState(!1),[a,l]=b.useState({name:"",email:"",password:"",confirmPassword:""});b.useEffect(()=>{!e&&t&&n("/profile")},[t,e,n]);const c=async()=>{s(!0);try{await du;const p=new sr;(await Wv(Ni,p)).user&&(J.success("Cuenta creada exitosamente!"),n("/profile"))}catch(p){console.error("Error en autenticacin:",p),p.code==="auth/popup-closed-by-user"?J.info("Registro cancelado"):p.code==="auth/popup-blocked"?J.error("El navegador bloque la ventana emergente. Por favor, permite las ventanas emergentes."):J.error("Error al crear la cuenta. Intenta de nuevo.")}finally{s(!1)}},h=p=>{const{name:m,value:x}=p.target;l(v=>({...v,[m]:x}))},f=async p=>{if(p.preventDefault(),a.password!==a.confirmPassword){J.error("Las contraseas no coinciden");return}if(a.password.length<6){J.error("La contrasea debe tener al menos 6 caracteres");return}o(!0);try{await du;const m=await e9(Ni,a.email,a.password);a.name&&await r9(m.user,{displayName:a.name}),J.success("Cuenta creada exitosamente!"),n("/profile")}catch(m){console.error("Error al registrar:",m),m.code==="auth/email-already-in-use"?J.error("Este correo ya est registrado. Intenta iniciar sesin."):m.code==="auth/invalid-email"?J.error("Correo electrnico invlido"):m.code==="auth/weak-password"?J.error("La contrasea es muy dbil"):J.error("Error al crear la cuenta. Intenta de nuevo.")}finally{o(!1)}};return e?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f5f7fa]",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#00d4aa] mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})}):u.jsxs("div",{className:"min-h-screen flex flex-col bg-[#f5f7fa]",children:[u.jsxs("header",{className:"w-full py-4 px-6 flex items-center justify-between bg-white shadow-sm",children:[u.jsxs(vt,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex items-center",children:u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10 15L35 30L10 45V15Z",fill:"url(#grad1)"}),u.jsx("path",{d:"M20 20L45 35L20 50V20Z",fill:"#00d4aa",fillOpacity:"0.7"}),u.jsx("path",{d:"M18 28L26 33L18 38V28Z",fill:"#00d4aa"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"grad1",x1:"10",y1:"15",x2:"35",y2:"45",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{stopColor:"#1a3a5c"}),u.jsx("stop",{offset:"1",stopColor:"#00d4aa"})]})})]})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"font-bold text-lg",children:[u.jsx("span",{className:"text-[#1a3a5c]",children:"Jorstan"})," ",u.jsx("span",{className:"text-[#00d4aa]",children:"Click"})]}),u.jsx("span",{className:"text-[10px] text-gray-500",children:"El centro de tus compras rpidas."})]})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-sm text-gray-600",children:[u.jsx(vt,{to:"/",className:"hover:text-[#1a3a5c] transition-colors",children:"Inicio"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Contacto"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Categoras"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Nosotros"}),u.jsx("span",{className:"text-[#00d4aa] font-medium border-b-2 border-[#00d4aa] pb-1",children:"Registro"})]})]}),u.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-12",children:u.jsxs("div",{className:"w-full max-w-md",children:[u.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 border border-gray-100",children:[u.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[u.jsxs("svg",{width:"50",height:"50",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10 15L35 30L10 45V15Z",fill:"url(#grad2)"}),u.jsx("path",{d:"M20 20L45 35L20 50V20Z",fill:"#00d4aa",fillOpacity:"0.7"}),u.jsx("path",{d:"M18 28L26 33L18 38V28Z",fill:"#00d4aa"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"grad2",x1:"10",y1:"15",x2:"35",y2:"45",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{stopColor:"#1a3a5c"}),u.jsx("stop",{offset:"1",stopColor:"#00d4aa"})]})})]}),u.jsx("div",{children:u.jsxs("h1",{className:"text-2xl font-bold",children:[u.jsx("span",{className:"text-[#1a3a5c]",children:"Crear"})," ",u.jsx("span",{className:"text-[#00d4aa]",children:"Cuenta"})]})})]}),u.jsx("p",{className:"text-center text-gray-500 mb-6",children:"Regstrate para empezar a comprar"}),u.jsxs("form",{onSubmit:f,className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pe,{htmlFor:"name",className:"text-sm text-gray-600",children:"Nombre completo"}),u.jsx(st,{id:"name",name:"name",type:"text",placeholder:"Tu nombre",value:a.name,onChange:h,className:"rounded-lg border-gray-200 focus:border-[#00d4aa] focus:ring-[#00d4aa]",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pe,{htmlFor:"email",className:"text-sm text-gray-600",children:"Correo electrnico"}),u.jsx(st,{id:"email",name:"email",type:"email",placeholder:"tu@correo.com",value:a.email,onChange:h,className:"rounded-lg border-gray-200 focus:border-[#00d4aa] focus:ring-[#00d4aa]",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pe,{htmlFor:"password",className:"text-sm text-gray-600",children:"Contrasea"}),u.jsx(st,{id:"password",name:"password",type:"password",placeholder:"Mnimo 6 caracteres",value:a.password,onChange:h,className:"rounded-lg border-gray-200 focus:border-[#00d4aa] focus:ring-[#00d4aa]",required:!0})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Pe,{htmlFor:"confirmPassword",className:"text-sm text-gray-600",children:"Confirmar contrasea"}),u.jsx(st,{id:"confirmPassword",name:"confirmPassword",type:"password",placeholder:"Repite tu contrasea",value:a.confirmPassword,onChange:h,className:"rounded-lg border-gray-200 focus:border-[#00d4aa] focus:ring-[#00d4aa]",required:!0})]}),u.jsx(pe,{type:"submit",className:"w-full bg-[#00d4aa] hover:bg-[#00b894] text-white py-6 text-base font-medium rounded-xl transition-all duration-200",disabled:i,children:i?u.jsxs(u.Fragment,{children:[u.jsx(Wt,{className:"w-5 h-5 mr-2 animate-spin"}),"Creando cuenta..."]}):"Crear cuenta"})]}),u.jsxs("div",{className:"relative my-6",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-200"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-4 bg-white text-gray-400",children:"o registrarse con"})})]}),u.jsx(pe,{className:"w-full bg-[#1a3a5c] hover:bg-[#142d47] text-white py-6 text-base font-medium rounded-xl transition-all duration-200",onClick:c,disabled:r,children:r?u.jsxs(u.Fragment,{children:[u.jsx(Wt,{className:"w-5 h-5 mr-3 animate-spin"}),"Conectando..."]}):u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})}),u.jsx("div",{className:"text-center mt-6",children:u.jsxs("p",{className:"text-sm text-gray-500",children:["Ya tienes cuenta?"," ",u.jsx(vt,{to:"/login",className:"text-[#00d4aa] hover:underline font-medium",children:"Inicia sesin"})]})})]}),u.jsxs("div",{className:"flex justify-center gap-8 mt-8",children:[u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-[#1a3a5c] flex items-center justify-center mb-2",children:u.jsx(yo,{className:"w-6 h-6 text-[#1a3a5c]"})}),u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Entrega Rpida"})]}),u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-[#1a3a5c] flex items-center justify-center mb-2",children:u.jsx(Kf,{className:"w-6 h-6 text-[#1a3a5c]"})}),u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Pago Seguro"})]}),u.jsxs("div",{className:"flex flex-col items-center text-center",children:[u.jsx("div",{className:"w-14 h-14 rounded-full border-2 border-[#1a3a5c] flex items-center justify-center mb-2",children:u.jsx(gv,{className:"w-6 h-6 text-[#1a3a5c]"})}),u.jsx("span",{className:"text-xs text-gray-600 font-medium",children:"Todo en un Click"})]})]})]})}),u.jsx("footer",{className:"py-4 text-center text-xs text-gray-400 bg-[#2d3748]",children:u.jsx("p",{children:" 2026 Jorstan Click. Todos los derechos reservados."})})]})}function bG(){var X;const{user:t,loading:e,logout:n}=_l(),r=Nu(),[s,i]=b.useState("profile"),[o,a]=b.useState(!1),[l,c]=b.useState(!1),[h,f]=b.useState(!1),[p,m]=b.useState(null),[x,v]=b.useState({displayName:"",phone:"",address:""}),[T,_]=b.useState([]),[y,w]=b.useState({type:"card",name:"",lastFour:"",expiryDate:"",bankName:"",isDefault:!1}),[A,j]=b.useState([]),[V,C]=b.useState(null);b.useEffect(()=>{!e&&!t&&r("/login")},[t,e,r]),b.useEffect(()=>{(async()=>{if(t){const L=await PN(t.uid);if(L)m(L),v({displayName:L.displayName||"",phone:L.phone||"",address:L.address||""});else{await KB(t.uid,{uid:t.uid,email:t.email||"",displayName:t.displayName||"",photoURL:t.photoURL||void 0});const q={uid:t.uid,email:t.email||"",displayName:t.displayName||"",photoURL:t.photoURL||void 0};m(q),v({displayName:t.displayName||"",phone:"",address:""})}}})()},[t]),b.useEffect(()=>{if(t){const M=QB(t.uid,L=>{_(L)});return()=>M()}},[t]),b.useEffect(()=>{if(t){const M=ZB(t.uid,L=>{j(L)});return()=>M()}},[t]);const S=async()=>{try{await n(),J.success("Sesin cerrada exitosamente"),r("/")}catch{J.error("Error al cerrar sesin")}},I=async()=>{if(t){c(!0);try{await GB(t.uid,{displayName:x.displayName,phone:x.phone,address:x.address}),m(M=>M?{...M,displayName:x.displayName,phone:x.phone,address:x.address}:null),a(!1),J.success("Perfil actualizado")}catch(M){console.error("Error updating profile:",M),(M==null?void 0:M.code)==="permission-denied"?J.error("No tienes permisos para actualizar el perfil. Verifica las reglas de Firestore."):J.error("Error al actualizar el perfil")}finally{c(!1)}}},N=async()=>{if(t){if(!y.name){J.error("Por favor ingresa el nombre del titular");return}if(y.type==="card"&&(!y.lastFour||!y.expiryDate)){J.error("Por favor completa los datos de la tarjeta");return}if(y.type==="bank"&&!y.bankName){J.error("Por favor ingresa el nombre del banco");return}try{await XB(t.uid,{type:y.type,name:y.name,lastFour:y.type==="card"?y.lastFour:void 0,expiryDate:y.type==="card"?y.expiryDate:void 0,bankName:y.type==="bank"?y.bankName:void 0,isDefault:y.isDefault||T.length===0}),w({type:"card",name:"",lastFour:"",expiryDate:"",bankName:"",isDefault:!1}),f(!1),J.success("Mtodo de pago agregado")}catch(M){console.error("Error adding payment method:",M),(M==null?void 0:M.code)==="permission-denied"?J.error("No tienes permisos. Verifica las reglas de Firestore."):J.error("Error al agregar el mtodo de pago")}}},k=async M=>{if(t)try{await JB(t.uid,M),J.success("Mtodo de pago eliminado")}catch{J.error("Error al eliminar el mtodo de pago")}},D=async M=>{if(t)try{await YB(t.uid,M),J.success("Mtodo de pago predeterminado actualizado")}catch{J.error("Error al actualizar el mtodo predeterminado")}},R=M=>{switch(M){case"pending":return"bg-yellow-100 text-yellow-800";case"processing":return"bg-blue-100 text-blue-800";case"shipped":return"bg-purple-100 text-purple-800";case"delivered":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},z=M=>{switch(M){case"pending":return"Pendiente";case"processing":return"Procesando";case"shipped":return"Enviado";case"delivered":return"Entregado";case"cancelled":return"Cancelado";default:return M}},re=M=>{switch(M){case"pending":return yo;case"processing":return zC;case"shipped":return yv;case"delivered":return FC;case"cancelled":return UC;default:return yo}};if(e)return u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#f5f7fa]",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Wt,{className:"w-8 h-8 animate-spin text-[#00d4aa] mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Cargando..."})]})});const te=[{id:"profile",label:"Mi Perfil",icon:vo},{id:"orders",label:"Mis Pedidos",icon:ci},{id:"payments",label:"Mtodos de Pago",icon:ca},{id:"settings",label:"Configuracin",icon:zM}];return u.jsxs("div",{className:"min-h-screen flex flex-col bg-[#f5f7fa]",children:[u.jsxs("header",{className:"w-full py-4 px-6 flex items-center justify-between bg-white shadow-sm",children:[u.jsxs(vt,{to:"/",className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex items-center",children:u.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[u.jsx("path",{d:"M10 15L35 30L10 45V15Z",fill:"url(#gradProfile)"}),u.jsx("path",{d:"M20 20L45 35L20 50V20Z",fill:"#00d4aa",fillOpacity:"0.7"}),u.jsx("path",{d:"M18 28L26 33L18 38V28Z",fill:"#00d4aa"}),u.jsx("defs",{children:u.jsxs("linearGradient",{id:"gradProfile",x1:"10",y1:"15",x2:"35",y2:"45",gradientUnits:"userSpaceOnUse",children:[u.jsx("stop",{stopColor:"#1a3a5c"}),u.jsx("stop",{offset:"1",stopColor:"#00d4aa"})]})})]})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"font-bold text-lg",children:[u.jsx("span",{className:"text-[#1a3a5c]",children:"Jorstan"})," ",u.jsx("span",{className:"text-[#00d4aa]",children:"Click"})]}),u.jsx("span",{className:"text-[10px] text-gray-500",children:"El centro de tus compras rpidas."})]})]}),u.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-sm text-gray-600",children:[u.jsx(vt,{to:"/",className:"hover:text-[#1a3a5c] transition-colors",children:"Inicio"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Contacto"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Categoras"}),u.jsx("a",{href:"#",className:"hover:text-[#1a3a5c] transition-colors",children:"Nosotros"}),u.jsx("span",{className:"text-[#00d4aa] font-medium border-b-2 border-[#00d4aa] pb-1",children:"Mi Cuenta"})]}),u.jsxs(pe,{variant:"outline",className:"border-red-300 text-red-500 hover:bg-red-50 hover:text-red-600 gap-2",onClick:S,children:[u.jsx(wa,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:"Cerrar Sesin"})]})]}),u.jsx("main",{className:"flex-1 container mx-auto px-4 py-8 max-w-6xl",children:u.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[u.jsxs("aside",{className:"lg:w-64",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-4",children:[u.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t!=null&&t.photoURL?u.jsx("img",{src:t.photoURL,alt:t.displayName||"Usuario",className:"w-16 h-16 rounded-full border-2 border-[#00d4aa]"}):u.jsx("div",{className:"w-16 h-16 rounded-full bg-[#1a3a5c] flex items-center justify-center",children:u.jsx(vo,{className:"w-8 h-8 text-white"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"font-semibold text-[#1a3a5c]",children:(p==null?void 0:p.displayName)||(t==null?void 0:t.displayName)||"Usuario"}),u.jsx("p",{className:"text-sm text-gray-500",children:t==null?void 0:t.email})]})]}),u.jsx("nav",{className:"space-y-2",children:te.map(M=>u.jsxs("button",{onClick:()=>i(M.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors text-left ${s===M.id?"bg-[#00d4aa]/10 text-[#00d4aa]":"text-gray-600 hover:bg-gray-50"}`,children:[u.jsx(M.icon,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:M.label}),s===M.id&&u.jsx(jM,{className:"w-4 h-4 ml-auto"})]},M.id))})]}),u.jsxs(pe,{variant:"outline",className:"w-full lg:hidden border-red-300 text-red-500 hover:bg-red-50 hover:text-red-600 gap-2",onClick:S,children:[u.jsx(wa,{className:"h-4 w-4"}),"Cerrar Sesin"]})]}),u.jsx("div",{className:"flex-1",children:u.jsxs(yi,{mode:"wait",children:[s==="profile"&&u.jsxs(Ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-[#1a3a5c]",children:"Informacin Personal"}),o?u.jsxs("div",{className:"flex gap-2",children:[u.jsx(pe,{variant:"outline",size:"sm",onClick:()=>{a(!1),v({displayName:(p==null?void 0:p.displayName)||"",phone:(p==null?void 0:p.phone)||"",address:(p==null?void 0:p.address)||""})},children:u.jsx(Cu,{className:"w-4 h-4"})}),u.jsxs(pe,{size:"sm",className:"bg-[#00d4aa] hover:bg-[#00b894] gap-2",onClick:I,disabled:l,children:[l?u.jsx(Wt,{className:"w-4 h-4 animate-spin"}):u.jsx(kM,{className:"w-4 h-4"}),"Guardar"]})]}):u.jsxs(pe,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>a(!0),children:[u.jsx(FM,{className:"w-4 h-4"}),"Editar"]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsxs(Pe,{className:"text-gray-600 flex items-center gap-2 mb-2",children:[u.jsx(vo,{className:"w-4 h-4"}),"Nombre"]}),o?u.jsx(st,{value:x.displayName,onChange:M=>v(L=>({...L,displayName:M.target.value})),className:"border-gray-300"}):u.jsx("p",{className:"font-medium text-[#1a3a5c]",children:(p==null?void 0:p.displayName)||"No especificado"})]}),u.jsxs("div",{children:[u.jsxs(Pe,{className:"text-gray-600 flex items-center gap-2 mb-2",children:[u.jsx($C,{className:"w-4 h-4"}),"Correo Electrnico"]}),u.jsx("p",{className:"font-medium text-[#1a3a5c]",children:t==null?void 0:t.email})]}),u.jsxs("div",{children:[u.jsxs(Pe,{className:"text-gray-600 flex items-center gap-2 mb-2",children:[u.jsx(Gf,{className:"w-4 h-4"}),"Telfono"]}),o?u.jsx(st,{value:x.phone,onChange:M=>v(L=>({...L,phone:M.target.value})),placeholder:"Tu nmero de telfono",className:"border-gray-300"}):u.jsx("p",{className:"font-medium text-[#1a3a5c]",children:(p==null?void 0:p.phone)||"No especificado"})]}),u.jsxs("div",{children:[u.jsxs(Pe,{className:"text-gray-600 flex items-center gap-2 mb-2",children:[u.jsx(qf,{className:"w-4 h-4"}),"Direccin"]}),o?u.jsx(st,{value:x.address,onChange:M=>v(L=>({...L,address:M.target.value})),placeholder:"Tu direccin de envo",className:"border-gray-300"}):u.jsx("p",{className:"font-medium text-[#1a3a5c]",children:(p==null?void 0:p.address)||"No especificado"})]})]}),u.jsx("div",{className:"pt-4 border-t",children:u.jsxs("p",{className:"text-sm text-gray-500",children:["Tipo de cuenta: ",((X=t==null?void 0:t.providerData[0])==null?void 0:X.providerId)==="google.com"?u.jsxs("span",{className:"inline-flex items-center gap-1",children:[u.jsxs("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",children:[u.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),u.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),u.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),u.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}):u.jsx("span",{children:"Correo y contrasea"})]})})]})]},"profile"),s==="orders"&&u.jsxs(Ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-[#1a3a5c] mb-6",children:"Mis Pedidos"}),A.length===0?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(ci,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"An no tienes pedidos"}),u.jsx(vt,{to:"/",children:u.jsx(pe,{className:"bg-[#00d4aa] hover:bg-[#00b894]",children:"Explorar Productos"})})]}):u.jsx("div",{className:"space-y-4",children:A.map(M=>{var se;const L=V===M.id,q=re(M.status);return u.jsxs("div",{className:"border rounded-lg p-4 hover:border-[#00d4aa] transition-colors",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-[#1a3a5c]",children:["Pedido #",(se=M.id)==null?void 0:se.slice(-8).toUpperCase()]}),u.jsx("p",{className:"text-sm text-gray-500",children:M.date})]}),u.jsxs(vi,{className:R(M.status),children:[u.jsx(q,{className:"w-3 h-3 mr-1"}),z(M.status)]})]}),u.jsxs("div",{className:"border-t pt-3",children:[u.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:M.items.map((Z,ce)=>u.jsxs("span",{className:"text-sm text-gray-600",children:[Z.name," x",Z.quantity,ce<M.items.length-1&&","]},ce))}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"font-semibold text-[#1a3a5c]",children:["Total: $",M.total.toLocaleString()]}),u.jsx(pe,{variant:"ghost",size:"sm",className:"text-[#00d4aa] gap-1",onClick:()=>C(L?null:M.id||null),children:L?u.jsxs(u.Fragment,{children:["Ocultar ",u.jsx(LC,{className:"w-4 h-4"})]}):u.jsxs(u.Fragment,{children:["Ver Seguimiento ",u.jsx(OC,{className:"w-4 h-4"})]})})]})]}),u.jsx(yi,{children:L&&u.jsx(Ce.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:u.jsxs("div",{className:"mt-4 pt-4 border-t",children:[u.jsxs("h4",{className:"text-sm font-semibold text-[#1a3a5c] mb-4 flex items-center gap-2",children:[u.jsx(ci,{className:"w-4 h-4"}),"Seguimiento del Pedido"]}),M.statusHistory&&M.statusHistory.length>0?u.jsxs("div",{className:"relative pl-6",children:[u.jsx("div",{className:"absolute left-[11px] top-2 bottom-2 w-0.5 bg-gray-200"}),u.jsx("div",{className:"space-y-4",children:M.statusHistory.map((Z,ce)=>{const he=re(Z.status),Re=ce===M.statusHistory.length-1;return u.jsxs("div",{className:"relative flex items-start gap-3",children:[u.jsx("div",{className:`absolute -left-6 w-6 h-6 rounded-full flex items-center justify-center ${Re?"bg-[#00d4aa] text-white":"bg-gray-100 text-gray-500"}`,children:u.jsx(he,{className:"w-3.5 h-3.5"})}),u.jsxs("div",{className:`flex-1 p-3 rounded-lg ${Re?"bg-[#00d4aa]/5 border border-[#00d4aa]/20":"bg-gray-50 border border-gray-100"}`,children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(vi,{className:`text-[10px] px-1.5 py-0 ${R(Z.status)}`,children:z(Z.status)}),u.jsx("span",{className:"text-[11px] text-gray-400",children:new Date(Z.date).toLocaleString("es-ES")})]}),u.jsx("p",{className:"text-sm text-gray-700",children:Z.message})]})]},ce)})})]}):u.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:[u.jsx(yo,{className:"w-8 h-8 text-gray-300 mx-auto mb-2"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Tu pedido est siendo procesado."}),u.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Pronto recibirs actualizaciones sobre el estado de tu envo."})]})]})})})]},M.id)})})]},"orders"),s==="payments"&&u.jsxs(Ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-[#1a3a5c]",children:"Mtodos de Pago"}),u.jsxs(pe,{className:"bg-[#00d4aa] hover:bg-[#00b894] gap-2",onClick:()=>f(!0),children:[u.jsx(Co,{className:"w-4 h-4"}),"Agregar"]})]}),u.jsx(yi,{children:h&&u.jsxs(Ce.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6 p-4 border rounded-lg bg-gray-50",children:[u.jsx("h4",{className:"font-medium text-[#1a3a5c] mb-4",children:"Nuevo Mtodo de Pago"}),u.jsxs("div",{className:"grid gap-4",children:[u.jsxs("div",{children:[u.jsx(Pe,{className:"mb-2 block",children:"Tipo"}),u.jsx("div",{className:"flex gap-2",children:[{type:"card",label:"Tarjeta",icon:ca},{type:"bank",label:"Banco",icon:l_},{type:"paypal",label:"PayPal",icon:h_}].map(M=>u.jsxs("button",{onClick:()=>w(L=>({...L,type:M.type})),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${y.type===M.type?"border-[#00d4aa] bg-[#00d4aa]/10 text-[#00d4aa]":"border-gray-300 hover:border-gray-400"}`,children:[u.jsx(M.icon,{className:"w-4 h-4"}),M.label]},M.type))})]}),u.jsxs("div",{children:[u.jsx(Pe,{className:"mb-2 block",children:"Nombre del Titular"}),u.jsx(st,{value:y.name,onChange:M=>w(L=>({...L,name:M.target.value})),placeholder:"Nombre como aparece en la tarjeta/cuenta"})]}),y.type==="card"&&u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx(Pe,{className:"mb-2 block",children:"ltimos 4 dgitos"}),u.jsx(st,{value:y.lastFour,onChange:M=>w(L=>({...L,lastFour:M.target.value.slice(0,4)})),placeholder:"1234",maxLength:4})]}),u.jsxs("div",{children:[u.jsx(Pe,{className:"mb-2 block",children:"Fecha de Expiracin"}),u.jsx(st,{value:y.expiryDate,onChange:M=>w(L=>({...L,expiryDate:M.target.value})),placeholder:"MM/YY",maxLength:5})]})]}),y.type==="bank"&&u.jsxs("div",{children:[u.jsx(Pe,{className:"mb-2 block",children:"Nombre del Banco"}),u.jsx(st,{value:y.bankName,onChange:M=>w(L=>({...L,bankName:M.target.value})),placeholder:"Ej: Banco Nacional"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"checkbox",id:"isDefault",checked:y.isDefault,onChange:M=>w(L=>({...L,isDefault:M.target.checked})),className:"rounded border-gray-300"}),u.jsx(Pe,{htmlFor:"isDefault",className:"cursor-pointer",children:"Establecer como mtodo predeterminado"})]}),u.jsxs("div",{className:"flex gap-2 justify-end",children:[u.jsx(pe,{variant:"outline",onClick:()=>f(!1),children:"Cancelar"}),u.jsx(pe,{className:"bg-[#00d4aa] hover:bg-[#00b894]",onClick:N,children:"Guardar"})]})]})]})}),T.length===0&&!h?u.jsxs("div",{className:"text-center py-12",children:[u.jsx(ca,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes mtodos de pago guardados"}),u.jsxs(pe,{className:"bg-[#00d4aa] hover:bg-[#00b894] gap-2",onClick:()=>f(!0),children:[u.jsx(Co,{className:"w-4 h-4"}),"Agregar Mtodo de Pago"]})]}):u.jsx("div",{className:"space-y-3",children:T.map(M=>u.jsxs("div",{className:`border rounded-lg p-4 flex items-center justify-between ${M.isDefault?"border-[#00d4aa] bg-[#00d4aa]/5":"border-gray-200"}`,children:[u.jsxs("div",{className:"flex items-center gap-4",children:[M.type==="card"&&u.jsx(ca,{className:"w-8 h-8 text-[#1a3a5c]"}),M.type==="bank"&&u.jsx(l_,{className:"w-8 h-8 text-[#1a3a5c]"}),M.type==="paypal"&&u.jsx(h_,{className:"w-8 h-8 text-[#1a3a5c]"}),u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium text-[#1a3a5c]",children:[M.name,M.isDefault&&u.jsxs(vi,{className:"ml-2 bg-[#00d4aa] text-white",children:[u.jsx(ry,{className:"w-3 h-3 mr-1"}),"Predeterminado"]})]}),u.jsxs("p",{className:"text-sm text-gray-500",children:[M.type==="card"&&`**** ${M.lastFour} - Exp: ${M.expiryDate}`,M.type==="bank"&&M.bankName,M.type==="paypal"&&"PayPal"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[!M.isDefault&&u.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>D(M.id),className:"text-[#00d4aa]",children:u.jsx(ry,{className:"w-4 h-4"})}),u.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>k(M.id),className:"text-red-500 hover:text-red-600 hover:bg-red-50",children:u.jsx(Yf,{className:"w-4 h-4"})})]})]},M.id))})]},"payments"),s==="settings"&&u.jsxs(Ce.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-white rounded-xl shadow-sm p-6",children:[u.jsx("h3",{className:"text-xl font-semibold text-[#1a3a5c] mb-6",children:"Configuracin de Cuenta"}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("h4",{className:"font-medium text-[#1a3a5c] mb-2",children:"Sesin"}),u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Gestiona tu sesin actual en este dispositivo."}),u.jsxs(pe,{variant:"outline",className:"border-red-300 text-red-500 hover:bg-red-50 hover:text-red-600 gap-2",onClick:S,children:[u.jsx(wa,{className:"w-4 h-4"}),"Cerrar Sesin"]})]}),u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("h4",{className:"font-medium text-[#1a3a5c] mb-2",children:"Notificaciones"}),u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configura las notificaciones de tu cuenta."}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"rounded border-gray-300",defaultChecked:!0}),u.jsx("span",{className:"text-sm",children:"Notificaciones de pedidos"})]}),u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"rounded border-gray-300",defaultChecked:!0}),u.jsx("span",{className:"text-sm",children:"Ofertas y promociones"})]}),u.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),u.jsx("span",{className:"text-sm",children:"Novedades de productos"})]})]})]}),u.jsxs("div",{className:"p-4 border border-red-200 rounded-lg bg-red-50",children:[u.jsx("h4",{className:"font-medium text-red-700 mb-2",children:"Zona de Peligro"}),u.jsx("p",{className:"text-sm text-red-600 mb-4",children:"Estas acciones son permanentes y no se pueden deshacer."}),u.jsx(pe,{variant:"outline",className:"border-red-500 text-red-500 hover:bg-red-100",onClick:()=>J.info("Esta funcin estar disponible prximamente"),children:"Eliminar mi cuenta"})]})]})]},"settings")]})})]})}),u.jsx("footer",{className:"py-4 text-center text-xs text-gray-400 bg-[#2d3748]",children:u.jsx("p",{children:" 2026 Jorstan Click. Todos los derechos reservados."})})]})}const SG=new gO,CG=()=>u.jsx(vO,{client:SG,children:u.jsxs(qV,{children:[u.jsx(I3,{}),u.jsx(i5,{position:"top-right",richColors:!0}),u.jsx(pL,{basename:"/admin-viewer-pages",children:u.jsx(n$,{children:u.jsx(vL,{children:u.jsxs(aL,{children:[u.jsx(Vs,{path:"/",element:u.jsx(Wq,{})}),u.jsx(Vs,{path:"/cart",element:u.jsx(Xq,{})}),u.jsx(Vs,{path:"/admin",element:u.jsx(wG,{})}),u.jsx(Vs,{path:"/login",element:u.jsx(EG,{})}),u.jsx(Vs,{path:"/register",element:u.jsx(TG,{})}),u.jsx(Vs,{path:"/profile",element:u.jsx(bG,{})}),u.jsx(Vs,{path:"*",element:u.jsx(_G,{})})]})})})})]})});oC(document.getElementById("root")).render(u.jsx(CG,{}));
